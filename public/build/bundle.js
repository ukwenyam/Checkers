var app=function(){"use strict";function t(){}const n=e=>e;function r(e){return e()}function s(){return Object.create(null)}function o(e){e.forEach(r)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(e,t,n){e.$$.on_destroy.push(c(t,n))}function u(e){return null==e?"":e}const p="undefined"!=typeof window;let h=p?()=>window.performance.now():()=>Date.now(),d=p?e=>requestAnimationFrame(e):t;const f=new Set;function m(e){f.forEach(t=>{t.c(e)||(f.delete(t),t.f())}),0!==f.size&&d(m)}function y(e){let t;return 0===f.size&&d(m),{promise:new Promise(n=>{f.add(t={c:e,f:n})}),abort(){f.delete(t)}}}function g(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function x(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function P(){return k(" ")}function A(){return k("")}function S(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function B(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function F(e){return""===e?void 0:+e}function E(e,t){t=""+t,e.data!==t&&(e.data=t)}function $(e,t){(null!=t||e.value)&&(e.value=t)}function T(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}const N=new Set;let M,_=0;function R(e,t,n,r,s,o,i,a=0){const c=16.666/r;let l="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*o(e);l+=100*e+`%{${i(r,1-r)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,p=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,h=e.ownerDocument;N.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(C("style")).sheet),f=h.__svelte_rules||(h.__svelte_rules={});f[p]||(f[p]=!0,d.insertRule(`@keyframes ${p} ${u}`,d.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${p} ${r}ms linear ${s}ms 1 both`,_+=1,p}function q(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-r.length;s&&(e.style.animation=r.join(", "),_-=s,_||d(()=>{_||(N.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),N.clear())}))}function O(e){M=e}function I(){if(!M)throw new Error("Function called outside component initialization");return M}const D=[],L=[],j=[],U=[],H=Promise.resolve();let z=!1;function G(e){j.push(e)}let J=!1;const X=new Set;function Y(){if(!J){J=!0;do{for(let e=0;e<D.length;e+=1){const t=D[e];O(t),W(t.$$)}for(D.length=0;L.length;)L.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];X.has(t)||(X.add(t),t())}j.length=0}while(D.length);for(;U.length;)U.pop()();z=!1,J=!1,X.clear()}}function W(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}let V;function K(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const Z=new Set;let Q;function ee(){Q={r:0,c:[],p:Q}}function te(){Q.r||o(Q.c),Q=Q.p}function ne(e,t){e&&e.i&&(Z.delete(e),e.i(t))}function re(e,t,n,r){if(e&&e.o){if(Z.has(e))return;Z.add(e),Q.c.push(()=>{Z.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const se={duration:0};function oe(e,r,s,a){let c=r(e,s),l=a?0:1,u=null,p=null,d=null;function f(){d&&q(e,d)}function m(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(r){const{delay:s=0,duration:i=300,easing:a=n,tick:g=t,css:v}=c||se,b={start:h()+s,b:r};r||(b.group=Q,Q.r+=1),u?p=b:(v&&(f(),d=R(e,l,r,i,s,a,v)),r&&g(0,1),u=m(b,i),G(()=>K(e,r,"start")),y(t=>{if(p&&t>p.start&&(u=m(p,i),p=null,K(e,u.b,"start"),v&&(f(),d=R(e,l,u.b,u.duration,0,a,c.css))),u)if(t>=u.end)g(l=u.b,1-l),K(e,u.b,"end"),p||(u.b?f():--u.group.r||o(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;l=u.a+u.d*a(e/u.duration),g(l,1-l)}return!(!u&&!p)}))}return{run(e){i(c)?(V||(V=Promise.resolve(),V.then(()=>{V=null})),V).then(()=>{c=c(),g(e)}):g(e)},end(){f(),u=p=null}}}function ie(e){e&&e.c()}function ae(e,t,n){const{fragment:s,on_mount:a,on_destroy:c,after_update:l}=e.$$;s&&s.m(t,n),G(()=>{const t=a.map(r).filter(i);c?c.push(...t):o(t),e.$$.on_mount=[]}),l.forEach(G)}function ce(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function le(e,t){-1===e.$$.dirty[0]&&(D.push(e),z||(z=!0,H.then(Y)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ue(e,n,r,i,a,c,l=[-1]){const u=M;O(e);const p=n.props||{},h=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:l};let d=!1;if(h.ctx=r?r(e,p,(t,n,...r)=>{const s=r.length?r[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=s)&&(h.bound[t]&&h.bound[t](s),d&&le(e,t)),n}):[],h.update(),d=!0,o(h.before_update),h.fragment=!!i&&i(h.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);h.fragment&&h.fragment.l(e),e.forEach(b)}else h.fragment&&h.fragment.c();n.intro&&ne(e.$$.fragment),ae(e,n.target,n.anchor),Y()}O(u)}class pe{$destroy(){ce(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const he=[];function de(e,n=t){let r;const s=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!he.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),he.push(n,e)}if(t){for(let e=0;e<he.length;e+=2)he[e][0](he[e+1]);he.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,a=t){const c=[i,a];return s.push(c),1===s.length&&(r=n(o)||t),i(e),()=>{const e=s.indexOf(c);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}function fe(e,t){return e(t={exports:{}},t.exports),t.exports}var me=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ye=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ge=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var s=me.exec(e||""),o={},i=14;i--;)o[ye[i]]=s[i]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},ve=1e3,be=6e4,we=60*be,Ce=24*we,xe=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*Ce;case"hours":case"hour":case"hrs":case"hr":case"h":return n*we;case"minutes":case"minute":case"mins":case"min":case"m":return n*be;case"seconds":case"second":case"secs":case"sec":case"s":return n*ve;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Ce)return ke(e,t,Ce,"day");if(t>=we)return ke(e,t,we,"hour");if(t>=be)return ke(e,t,be,"minute");if(t>=ve)return ke(e,t,ve,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Ce)return Math.round(e/Ce)+"d";if(t>=we)return Math.round(e/we)+"h";if(t>=be)return Math.round(e/be)+"m";if(t>=ve)return Math.round(e/ve)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ke(e,t,n,r){var s=t>=1.5*n;return Math.round(e/n)+" "+r+(s?"s":"")}var Pe=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let o;function i(...e){if(!i.enabled)return;const t=i,r=Number(new Date),s=r-(o||r);t.diff=s,t.prev=o,t.curr=r,o=r,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,s)=>{if("%%"===r)return r;a++;const o=n.formatters[s];if("function"==typeof o){const n=e[a];r=o.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e);(t.log||n.log).apply(t,e)}return i.namespace=e,i.enabled=n.enabled(e),i.useColors=n.useColors(),i.color=t(e),i.destroy=r,i.extend=s,"function"==typeof n.init&&n.init(i),n.instances.push(i),i}function r(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(t=0;t<s;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=xe,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},Ae=fe((function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(s=r))}),t.splice(s,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=Pe(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Se=(Ae.log,Ae.formatArgs,Ae.save,Ae.load,Ae.useColors,Ae.storage,Ae.colors,Ae("socket.io-client:url")),Be=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(Se("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),Se("parse %s",e),n=ge(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n};var Fe=36e5,Ee=24*Fe,$e=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*Ee;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Fe;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){return Te(e,Ee,"day")||Te(e,Fe,"hour")||Te(e,6e4,"minute")||Te(e,1e3,"second")||e+" ms"}(e):function(e){if(e>=Ee)return Math.round(e/Ee)+"d";if(e>=Fe)return Math.round(e/Fe)+"h";if(e>=6e4)return Math.round(e/6e4)+"m";if(e>=1e3)return Math.round(e/1e3)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Te(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var Ne=fe((function(e,t){function n(e){var n;function s(){if(s.enabled){var e=s,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var s=t.formatters[r];if("function"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n})),t.formatArgs.call(e,i);var l=s.log||t.log||console.log.bind(console);l.apply(e,i)}}return s.namespace=e,s.enabled=t.enabled(e),s.useColors=t.useColors(),s.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),s.destroy=r,"function"==typeof t.init&&t.init(s),t.instances.push(s),s}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=$e,t.instances=[],t.names=[],t.skips=[],t.formatters={}})),Me=(Ne.coerce,Ne.disable,Ne.enable,Ne.enabled,Ne.humanize,Ne.instances,Ne.names,Ne.skips,Ne.formatters,fe((function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=Ne).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var s=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(s++,"%c"===e&&(o=s))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}))),_e=(Me.log,Me.formatArgs,Me.save,Me.load,Me.useColors,Me.storage,Me.colors,fe((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}))),Re={}.toString,qe=Array.isArray||function(e){return"[object Array]"==Re.call(e)},Oe=function(e){return Ie&&Buffer.isBuffer(e)||De&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))},Ie="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,De="function"==typeof ArrayBuffer;var Le=Object.prototype.toString,je="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Le.call(Blob),Ue="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Le.call(File);var He=function(e){var t=[],n=e.data,r=e;return r.data=function e(t,n){if(!t)return t;if(Oe(t)){var r={_placeholder:!0,num:n.length};return n.push(t),r}if(qe(t)){for(var s=new Array(t.length),o=0;o<t.length;o++)s[o]=e(t[o],n);return s}if("object"==typeof t&&!(t instanceof Date)){s={};for(var i in t)s[i]=e(t[i],n);return s}return t}(n,t),r.attachments=t.length,{packet:r,buffers:t}},ze=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(qe(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"==typeof t)for(var s in t)t[s]=e(t[s],n);return t}(e.data,t),e.attachments=void 0,e},Ge=function(e,t){var n=0,r=e;!function e(s,o,i){if(!s)return s;if(je&&s instanceof Blob||Ue&&s instanceof File){n++;var a=new FileReader;a.onload=function(){i?i[o]=this.result:r=this.result,--n||t(r)},a.readAsArrayBuffer(s)}else if(qe(s))for(var c=0;c<s.length;c++)e(s[c],c,s);else if("object"==typeof s&&!Oe(s))for(var l in s)e(s[l],l,s)}(r),n||t(r)},Je=fe((function(e,t){var n=Me("socket.io-parser");function r(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=i;var s=t.ERROR+'"encode error"';function o(e){var r=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(r+=e.nsp+","),null!=e.id&&(r+=e.id),null!=e.data){var o=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===o)return s;r+=o}return n("encoded %j as %s",e,r),r}function i(){this.reconstructor=null}function a(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:t.ERROR,data:"parser error: "+e}}r.prototype.encode=function(e,r){(n("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){Ge(e,(function(e){var n=He(e),r=o(n.packet),s=n.buffers;s.unshift(r),t(s)}))}(e,r):r([o(e)])},_e(i.prototype),i.prototype.add=function(e){var r;if("string"==typeof e)r=function(e){var r=0,s={type:Number(e.charAt(0))};if(null==t.types[s.type])return c("unknown packet type "+s.type);if(t.BINARY_EVENT===s.type||t.BINARY_ACK===s.type){for(var o="";"-"!==e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!==e.charAt(r))throw new Error("Illegal attachments");s.attachments=Number(o)}if("/"===e.charAt(r+1))for(s.nsp="";++r;){if(","===(a=e.charAt(r)))break;if(s.nsp+=a,r===e.length)break}else s.nsp="/";var i=e.charAt(r+1);if(""!==i&&Number(i)==i){for(s.id="";++r;){var a;if(null==(a=e.charAt(r))||Number(a)!=a){--r;break}if(s.id+=e.charAt(r),r===e.length)break}s.id=Number(s.id)}if(e.charAt(++r)){var l=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(r));if(!(!1!==l&&(s.type===t.ERROR||qe(l))))return c("invalid payload");s.data=l}return n("decoded %s as %j",e,s),s}(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new a(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!Oe(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",r))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=ze(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}})),Xe=(Je.protocol,Je.types,Je.CONNECT,Je.DISCONNECT,Je.EVENT,Je.ACK,Je.ERROR,Je.BINARY_EVENT,Je.BINARY_ACK,Je.Encoder,Je.Decoder,fe((function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}}))),Ye="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),We=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Xe))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(Ye[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}},Ve=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},Ke=Object.prototype.toString,Ze="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Ke.call(Blob),Qe="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Ke.call(File),et=function e(t){if(!t||"object"!=typeof t)return!1;if(qe(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||Ze&&t instanceof Blob||Qe&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return!0;return!1};var tt=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var s=new Uint8Array(e),o=new Uint8Array(n-t),i=t,a=0;i<n;i++,a++)o[a]=s[i];return o.buffer},nt=function(e,t,n){var r=!1;return n=n||rt,s.count=e,0===e?t():s;function s(e,o){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(r=!0,t(e),t=n):0!==s.count||r||t(null,o)}};function rt(){}
/*! https://mths.be/utf8js v2.1.2 by @mathias */var st,ot,it,at=String.fromCharCode;function ct(e){for(var t,n,r=[],s=0,o=e.length;s<o;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<o?56320==(64512&(n=e.charCodeAt(s++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),s--):r.push(t);return r}function lt(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function ut(e,t){return at(e>>t&63|128)}function pt(e,t){if(0==(4294967168&e))return at(e);var n="";return 0==(4294965248&e)?n=at(e>>6&31|192):0==(4294901760&e)?(lt(e,t)||(e=65533),n=at(e>>12&15|224),n+=ut(e,6)):0==(4292870144&e)&&(n=at(e>>18&7|240),n+=ut(e,12),n+=ut(e,6)),n+=at(63&e|128)}function ht(){if(it>=ot)throw Error("Invalid byte index");var e=255&st[it];if(it++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function dt(e){var t,n;if(it>ot)throw Error("Invalid byte index");if(it==ot)return!1;if(t=255&st[it],it++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ht())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ht()<<6|ht())>=2048)return lt(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ht()<<12|ht()<<6|ht())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var ft={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=ct(e),s=r.length,o=-1,i="";++o<s;)i+=pt(r[o],n);return i},decode:function(e,t){var n=!1!==(t=t||{}).strict;st=ct(e),ot=st.length,it=0;for(var r,s=[];!1!==(r=dt(n));)s.push(r);return function(e){for(var t,n=e.length,r=-1,s="";++r<n;)(t=e[r])>65535&&(s+=at((t-=65536)>>>10&1023|55296),t=56320|1023&t),s+=at(t);return s}(s)}},mt=fe((function(e,t){!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),s=r.length,o="";for(n=0;n<s;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return s%3==2?o=o.substring(0,o.length-1)+"=":s%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,s,o,i,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),p=new Uint8Array(u);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],s=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],i=n[e.charCodeAt(t+3)],p[l++]=r<<2|s>>4,p[l++]=(15&s)<<4|o>>2,p[l++]=(3&o)<<6|63&i;return u}}()})),yt=(mt.encode,mt.decode,void 0!==yt?yt:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder),gt=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),vt=gt&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),bt=yt&&yt.prototype.append&&yt.prototype.getBlob;function wt(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function Ct(e,t){t=t||{};var n=new yt;return wt(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function xt(e,t){return new Blob(wt(e),t||{})}"undefined"!=typeof Blob&&(Ct.prototype=Blob.prototype,xt.prototype=Blob.prototype);var kt=gt?vt?Blob:xt:bt?Ct:void 0,Pt=fe((function(e,t){var n;"undefined"!=typeof ArrayBuffer&&(n=mt);var r="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),s="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),o=r||s;t.protocol=3;var i=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=Ve(i),c={type:"error",data:"parser error"};function l(e,t,n){for(var r=new Array(e.length),s=nt(e.length,n),o=function(e,n,s){t(n,(function(t,n){r[e]=n,s(t,r)}))},i=0;i<e.length;i++)o(i,e[i],s)}t.encodePacket=function(e,n,r,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof r&&(s=r,r=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var s=e.data,o=new Uint8Array(s),a=new Uint8Array(1+s.byteLength);a[0]=i[e.type];for(var c=0;c<o.length;c++)a[c+1]=o[c];return r(a.buffer)}(e,n,s);if(void 0!==kt&&a instanceof kt)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(o)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var s=new FileReader;return s.onload=function(){t.encodePacket({type:e.type,data:s.result},n,!0,r)},s.readAsArrayBuffer(e.data)}(e,n,r);var s=new Uint8Array(1);s[0]=i[e.type];var a=new kt([s.buffer,e.data]);return r(a)}(e,n,s);if(a&&a.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,s);var c=i[e.type];return void 0!==e.data&&(c+=r?ft.encode(String(e.data),{strict:!1}):String(e.data)),s(""+c)},t.encodeBase64Packet=function(e,n){var r,s="b"+t.packets[e.type];if(void 0!==kt&&e.data instanceof kt){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(s+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var i=new Uint8Array(e.data),a=new Array(i.length),c=0;c<i.length;c++)a[c]=i[c];r=String.fromCharCode.apply(null,a)}return s+=btoa(r),n(s)},t.decodePacket=function(e,n,r){if(void 0===e)return c;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=ft.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return c;var s=e.charAt(0);return Number(s)==s&&a[s]?e.length>1?{type:a[s],data:e.substring(1)}:{type:a[s]}:c}s=new Uint8Array(e)[0];var o=tt(e,1);return kt&&"blob"===n&&(o=new kt([o])),{type:a[s],data:o}},t.decodeBase64Packet=function(e,t){var r=a[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var s=n.decode(e.substr(1));return"blob"===t&&kt&&(s=new kt([s])),{type:r,data:s}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var s=et(e);if(n&&s)return kt&&!o?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");l(e,(function(e,r){t.encodePacket(e,!!s&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var s;if("function"==typeof n&&(r=n,n=null),""===e)return r(c,0,1);for(var o,i,a="",l=0,u=e.length;l<u;l++){var p=e.charAt(l);if(":"===p){if(""===a||a!=(o=Number(a)))return r(c,0,1);if(a!=(i=e.substr(l+1,o)).length)return r(c,0,1);if(i.length){if(s=t.decodePacket(i,n,!1),c.type===s.type&&c.data===s.data)return r(c,0,1);if(!1===r(s,l+o,u))return}l+=o,a=""}else a+=p}return""!==a?r(c,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));l(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),s=new Uint8Array(r),o=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);n=r.buffer}s[o++]=t?0:1;var a=n.byteLength.toString();for(i=0;i<a.length;i++)s[o++]=parseInt(a[i]);s[o++]=255;for(r=new Uint8Array(n),i=0;i<r.length;i++)s[o++]=r[i]})),n(s.buffer)}))},t.encodePayloadAsBlob=function(e,n){l(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(o.length+1);for(s=0;s<o.length;s++)i[s]=parseInt(o[s]);if(i[o.length]=255,kt){var a=new kt([t.buffer,i.buffer,e]);n(null,a)}}))}),(function(e,t){return n(new kt(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var s=e,o=[];s.byteLength>0;){for(var i=new Uint8Array(s),a=0===i[0],l="",u=1;255!==i[u];u++){if(l.length>310)return r(c,0,1);l+=i[u]}s=tt(s,2+l.length),l=parseInt(l);var p=tt(s,0,l);if(a)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var h=new Uint8Array(p);p="";for(u=0;u<h.length;u++)p+=String.fromCharCode(h[u])}o.push(p),s=tt(s,l)}var d=o.length;o.forEach((function(e,s){r(t.decodePacket(e,n,!0),s,d)}))}})),At=(Pt.protocol,Pt.packets,Pt.encodePacket,Pt.encodeBase64Packet,Pt.decodePacket,Pt.decodeBase64Packet,Pt.encodePayload,Pt.decodePayload,Pt.encodePayloadAsArrayBuffer,Pt.encodePayloadAsBlob,Pt.decodePayloadAsBinary,fe((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}))),St=Bt;function Bt(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}At(Bt.prototype),Bt.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},Bt.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Bt.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Bt.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},Bt.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Bt.prototype.onData=function(e){var t=Pt.decodePacket(e,this.socket.binaryType);this.onPacket(t)},Bt.prototype.onPacket=function(e){this.emit("packet",e)},Bt.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var Ft,Et=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},$t=function(e){for(var t={},n=e.split("&"),r=0,s=n.length;r<s;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t},Tt=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Nt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Mt={},_t=0,Rt=0;function qt(e){var t="";do{t=Nt[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Ot(){var e=qt(+new Date);return e!==Ft?(_t=0,Ft=e):e+"."+qt(_t++)}for(;Rt<64;Rt++)Mt[Nt[Rt]]=Rt;Ot.encode=qt,Ot.decode=function(e){var t=0;for(Rt=0;Rt<e.length;Rt++)t=64*t+Mt[e.charAt(Rt)];return t};var It=Ot,Dt=Ae("engine.io-client:polling"),Lt=Ut,jt=null!=new We({xdomain:!1}).responseType;function Ut(e){var t=e&&e.forceBase64;jt&&!t||(this.supportsBinary=!1),St.call(this,e)}Tt(Ut,St),Ut.prototype.name="polling",Ut.prototype.doOpen=function(){this.poll()},Ut.prototype.pause=function(e){var t=this;function n(){Dt("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(Dt("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){Dt("pre-pause polling complete"),--r||n()}))),this.writable||(Dt("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){Dt("pre-pause writing complete"),--r||n()})))}else n()},Ut.prototype.poll=function(){Dt("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Ut.prototype.onData=function(e){var t=this;Dt("polling got data %s",e);Pt.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Dt('ignoring poll - transport state "%s"',this.readyState))},Ut.prototype.doClose=function(){var e=this;function t(){Dt("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(Dt("transport open - closing"),t()):(Dt("transport not open - deferring close"),this.once("open",t))},Ut.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};Pt.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},Ut.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=It()),this.supportsBinary||e.sid||(e.b64=1),e=Et(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e};var Ht=Ae("engine.io-client:polling-xhr"),zt=Xt,Gt=Yt;function Jt(){}function Xt(e){if(Lt.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function Yt(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(Tt(Xt,Lt),Xt.prototype.supportsBinary=!0,Xt.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Yt(e)},Xt.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),s=this;r.on("success",t),r.on("error",(function(e){s.onError("xhr post error",e)})),this.sendXhr=r},Xt.prototype.doPoll=function(){Ht("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},At(Yt.prototype),Yt.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new We(e),n=this;try{Ht("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},Ht("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=Yt.requestsCount++,Yt.requests[this.index]=this)},Yt.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Yt.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},Yt.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},Yt.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Jt:this.xhr.onreadystatechange=Jt,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Yt.requests[this.index],this.xhr=null}},Yt.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},Yt.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},Yt.prototype.abort=function(){this.cleanup()},Yt.requestsCount=0,Yt.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Wt);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Ye?"pagehide":"unload",Wt,!1)}function Wt(){for(var e in Yt.requests)Yt.requests.hasOwnProperty(e)&&Yt.requests[e].abort()}zt.Request=Gt;var Vt,Kt=tn,Zt=/\n/g,Qt=/\\n/g;function en(){}function tn(e){Lt.call(this,e),this.query=this.query||{},Vt||(Vt=Ye.___eio=Ye.___eio||[]),this.index=Vt.length;var t=this;Vt.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=en)}),!1)}Tt(tn,Lt),tn.prototype.supportsBinary=!1,tn.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Lt.prototype.doClose.call(this)},tn.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},tn.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,s=document.createElement("form"),o=document.createElement("textarea"),i=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=i,s.method="POST",s.setAttribute("accept-charset","utf-8"),o.name="d",s.appendChild(o),document.body.appendChild(s),this.form=s,this.area=o}function a(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),c(),e=e.replace(Qt,"\\\n"),this.area.value=e.replace(Zt,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a};var nn,rn,sn,on=(nn=Object.freeze({__proto__:null,default:{}}))&&nn.default||nn,an=Ae("engine.io-client:websocket");if("undefined"!=typeof WebSocket?rn=WebSocket:"undefined"!=typeof self&&(rn=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{sn=on}catch(e){}var cn=rn||sn,ln=un;function un(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=rn&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(cn=sn),St.call(this,e)}Tt(un,St),un.prototype.name="websocket",un.prototype.supportsBinary=!0,un.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new cn(e,t):new cn(e):new cn(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},un.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},un.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,s=n;r<s;r++)!function(e){Pt.encodePacket(e,t.supportsBinary,(function(r){if(!t.usingBrowserWebSocket){var s={};if(e.options&&(s.compress=e.options.compress),t.perMessageDeflate)("string"==typeof r?Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(s.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,s)}catch(e){an("websocket closed before onclose event")}--n||o()}))}(e[r]);function o(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},un.prototype.onClose=function(){St.prototype.onClose.call(this)},un.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},un.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=It()),this.supportsBinary||(e.b64=1),(e=Et(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},un.prototype.check=function(){return!(!cn||"__initialize"in cn&&this.name===un.prototype.name)};var pn={polling:function(e){var t=!1,n=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,o=location.port;o||(o=s?443:80),t=e.hostname!==location.hostname||o!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new We(e)&&!e.forceJSONP)return new zt(e);if(!r)throw new Error("JSONP disabled");return new Kt(e)},websocket:ln},hn=[].indexOf,dn=function(e,t){if(hn)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},fn=Ae("engine.io-client:socket"),mn=yn;function yn(e,t){if(!(this instanceof yn))return new yn(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=ge(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=ge(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=$t(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}yn.priorWebsocketSuccess=!1,At(yn.prototype),yn.protocol=Pt.protocol,yn.Socket=yn,yn.Transport=St,yn.transports=pn,yn.parser=Pt,yn.prototype.createTransport=function(e){fn('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=Pt.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new pn[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},yn.prototype.open=function(){var e;if(this.rememberUpgrade&&yn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},yn.prototype.setTransport=function(e){fn("setting transport %s",e.name);var t=this;this.transport&&(fn("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},yn.prototype.probe=function(e){fn('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function s(){if(r.onlyBinaryUpgrades){var s=!this.supportsBinary&&r.transport.supportsBinary;n=n||s}n||(fn('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(s){if(!n)if("pong"===s.type&&"probe"===s.data){if(fn('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;yn.priorWebsocketSuccess="websocket"===t.name,fn('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(fn("changing transport and sending upgrade packet"),u(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{fn('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,r.emit("upgradeError",o)}})))}function o(){n||(n=!0,u(),t.close(),t=null)}function i(n){var s=new Error("probe error: "+n);s.transport=t.name,o(),fn('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",s)}function a(){i("transport closed")}function c(){i("socket closed")}function l(e){t&&e.name!==t.name&&(fn('"%s" works - aborting "%s"',e.name,t.name),o())}function u(){t.removeListener("open",s),t.removeListener("error",i),t.removeListener("close",a),r.removeListener("close",c),r.removeListener("upgrading",l)}yn.priorWebsocketSuccess=!1,t.once("open",s),t.once("error",i),t.once("close",a),this.once("close",c),this.once("upgrading",l),t.open()},yn.prototype.onOpen=function(){if(fn("socket open"),this.readyState="open",yn.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){fn("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},yn.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(fn('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else fn('packet received with socket readyState "%s"',this.readyState)},yn.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},yn.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},yn.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){fn("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},yn.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},yn.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},yn.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(fn("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},yn.prototype.write=yn.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},yn.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var s={type:e,data:t,options:n};this.emit("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}},yn.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),fn("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},yn.prototype.onError=function(e){fn("socket error %j",e),yn.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},yn.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){fn('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},yn.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~dn(this.transports,e[n])&&t.push(e[n]);return t};var gn=mn,vn=Pt;gn.parser=vn;var bn=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n};var wn=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}};var Cn=[].slice,xn=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=Cn.call(arguments,2);return function(){return t.apply(e,n.concat(Cn.call(arguments)))}},kn=fe((function(e,t){var n=Ae("socket.io-client:socket");e.exports=o;var r={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},s=_e.prototype.emit;function o(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}_e(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[wn(e,"open",xn(this,"onopen")),wn(e,"packet",xn(this,"onpacket")),wn(e,"close",xn(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},o.prototype.send=function(){var e=bn(arguments);return e.unshift("message"),this.emit.apply(this,e),this},o.prototype.emit=function(e){if(r.hasOwnProperty(e))return s.apply(this,arguments),this;var t=bn(arguments),o={type:(void 0!==this.flags.binary?this.flags.binary:et(t))?Je.BINARY_EVENT:Je.EVENT,data:t,options:{}};return o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),this.flags={},this},o.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},o.prototype.onopen=function(){if(n("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?Et(this.query):this.query;n("sending connect packet with query %s",e),this.packet({type:Je.CONNECT,query:e})}else this.packet({type:Je.CONNECT})},o.prototype.onclose=function(e){n("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},o.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===Je.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case Je.CONNECT:this.onconnect();break;case Je.EVENT:case Je.BINARY_EVENT:this.onevent(e);break;case Je.ACK:case Je.BINARY_ACK:this.onack(e);break;case Je.DISCONNECT:this.ondisconnect();break;case Je.ERROR:this.emit("error",e.data)}},o.prototype.onevent=function(e){var t=e.data||[];n("emitting event %j",t),null!=e.id&&(n("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?s.apply(this,t):this.receiveBuffer.push(t)},o.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var s=bn(arguments);n("sending ack %j",s),t.packet({type:et(s)?Je.BINARY_ACK:Je.ACK,id:e,data:s})}}},o.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(n("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):n("bad ack %s",e.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)s.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:Je.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(e){return this.flags.compress=e,this},o.prototype.binary=function(e){return this.flags.binary=e,this}})),Pn=An;function An(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}An.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},An.prototype.reset=function(){this.attempts=0},An.prototype.setMin=function(e){this.ms=e},An.prototype.setMax=function(e){this.max=e},An.prototype.setJitter=function(e){this.jitter=e};var Sn=Ae("socket.io-client:manager"),Bn=Object.prototype.hasOwnProperty,Fn=En;function En(e,t){if(!(this instanceof En))return new En(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Pn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||Je;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}En.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)Bn.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},En.prototype.updateSocketIds=function(){for(var e in this.nsps)Bn.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},En.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},_e(En.prototype),En.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},En.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},En.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},En.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},En.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},En.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},En.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},En.prototype.open=En.prototype.connect=function(e,t){if(Sn("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Sn("opening %s",this.uri),this.engine=gn(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var s=wn(n,"open",(function(){r.onopen(),e&&e()})),o=wn(n,"error",(function(t){if(Sn("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var i=this._timeout;Sn("connect attempt will timeout after %d",i);var a=setTimeout((function(){Sn("connect attempt timed out after %d",i),s.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",i)}),i);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(s),this.subs.push(o),this},En.prototype.onopen=function(){Sn("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(wn(e,"data",xn(this,"ondata"))),this.subs.push(wn(e,"ping",xn(this,"onping"))),this.subs.push(wn(e,"pong",xn(this,"onpong"))),this.subs.push(wn(e,"error",xn(this,"onerror"))),this.subs.push(wn(e,"close",xn(this,"onclose"))),this.subs.push(wn(this.decoder,"decoded",xn(this,"ondecoded")))},En.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},En.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},En.prototype.ondata=function(e){this.decoder.add(e)},En.prototype.ondecoded=function(e){this.emit("packet",e)},En.prototype.onerror=function(e){Sn("error",e),this.emitAll("error",e)},En.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new kn(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",s),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&s()}function s(){~dn(r.connecting,n)||r.connecting.push(n)}return n},En.prototype.destroy=function(e){var t=dn(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},En.prototype.packet=function(e){Sn("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},En.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},En.prototype.cleanup=function(){Sn("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},En.prototype.close=En.prototype.disconnect=function(){Sn("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},En.prototype.onclose=function(e){Sn("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},En.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Sn("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();Sn("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(Sn("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(Sn("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(Sn("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},En.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};var $n=fe((function(e,t){var n=Ae("socket.io-client");e.exports=t=s;var r=t.managers={};function s(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var s,o=Be(e),i=o.source,a=o.id,c=o.path,l=r[a]&&c in r[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?(n("ignoring socket cache for %s",i),s=Fn(i,t)):(r[a]||(n("new io instance for %s",i),r[a]=Fn(i,t)),s=r[a]),o.query&&!t.query&&(t.query=o.query),s.socket(o.path,t)}t.protocol=Je.protocol,t.connect=s,t.Manager=Fn,t.Socket=kn}));$n.managers,$n.protocol,$n.connect,$n.Manager,$n.Socket;class Tn{constructor(e,t,n){this.xPos=e,this.yPos=t,this.isEmpty="E"==n}}class Nn{constructor(e,t,n,r,s){this.id=r,this.positon=new Tn(e,t,n),this.side=n,this.stack=null!=s?s:1}getPosition(){return this.positon}setPosition(e,t){this.positon=new Tn(e,t,null)}incrementStack(){this.stack=2}}class Mn{constructor(e,t){if(null!=e||t){if(null!=e&&null==t){let t,n;for(this.board=[],t=0;t<8;t++)for(this.board[t]=[],n=0;n<8;n++)null!=e[t][n]?this.board[t][n]=new Nn(t,n,e[t][n].side,e[t][n].id,e[t][n].stack):this.board[t][n]=null}else if(null==e&&t){this.board=[];let e,t,n=23;for(e=0;e<8;e++)for(this.board[e]=[],t=0;t<8;t++){let r=e%2!=0&&t%2!=0;e%2==0&&t%2==0||r||3==e||4==e?this.board[e][t]=null:(this.board[e][t]=new Nn(e,t,0<=e&&e<=2?"red":"black",n,null),n--)}}}else{this.board=[];let e,t,n=0;for(e=0;e<8;e++)for(this.board[e]=[],t=0;t<8;t++){let r=e%2!=0&&t%2!=0;e%2==0&&t%2==0||r||3==e||4==e?this.board[e][t]=null:(this.board[e][t]=new Nn(e,t,0<=e&&e<=2?"black":"red",n,null),n++)}}}saveBoardState(){let e,t,n=[];for(e=0;e<8;e++)for(n[e]=[],t=0;t<8;t++)null!=this.board[e][t]?(n[e][t]={},n[e][t].stack=this.board[e][t].stack,n[e][t].side=this.board[e][t].side,n[e][t].id=this.board[e][t].id):n[e][t]=null;return n}takePiece(e,t,n,r){let s=!1,o=null,i=null;return r.xPos<t.xPos&&r.yPos<t.yPos&&(o=t.xPos-1,i=t.yPos-1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,s=!0)),r.xPos<t.xPos&&r.yPos>t.yPos&&(o=t.xPos-1,i=t.yPos+1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,s=!0)),r.xPos>t.xPos&&r.yPos<t.yPos&&(o=t.xPos+1,i=t.yPos-1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,s=!0)),r.xPos>t.xPos&&r.yPos>t.yPos&&(o=t.xPos+1,i=t.yPos+1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,s=!0)),s}isMoveLegal(e,t){let n,r,s;Rn.update(e=>(n=e.name,e)),Un.update(e=>(r=e.pri,s=e.sec,e));let o=!1,i=e.getPosition();if(console.log(t.isEmpty),console.log("red: "+e.side=="red"),console.log("black: "+e.side=="black"),"red"==e.side&&t.isEmpty&&n==r){console.log(i.xPos+", "+i.yPos+" --\x3e "+t.xPos+", "+t.yPos);let n=i.xPos-t.xPos,r=i.yPos-t.yPos;if(1==e.stack){(1==r||-1==r)&&1==n&&(o=!0),!(2!=n&&-2!=n||2!=r&&-2!=r)&&this.takePiece(e,i,r,t)&&(o=!0)}else{!(1!=n&&-1!=n||1!=r&&-1!=r)&&(o=!0),!(2!=n&&-2!=n||2!=r&&-2!=r)&&this.takePiece(e,i,r,t)&&(o=!0)}}if("black"==e.side&&t.isEmpty&&n==s){let n=i.xPos-t.xPos,r=i.yPos-t.yPos;if(1==e.stack){(1==r||-1==r)&&1==n&&(o=!0),!(2!=n&&-2!=n||2!=r&&-2!=r)&&this.takePiece(e,i,r,t)&&(o=!0)}else{!(1!=n&&-1!=n||1!=r&&-1!=r)&&(o=!0),!(2!=n&&-2!=n||2!=r&&-2!=r)&&this.takePiece(e,i,r,t)&&(o=!0)}}return o}doMove(e,t){let n,r,s;Rn.update(e=>(n=e.name,e)),Un.update(e=>(r=e.pri,s=e.sec,e));let o=!1,i=null;if(this.isMoveLegal(e,t)){i=this.scanBoard(e,t);let a=new Nn(t.xPos,t.yPos,e.side,e.id,e.stack);n==r&&0==t.xPos&&"red"==a.side&&1==a.stack&&a.incrementStack(),n==s&&0==t.xPos&&"black"==a.side&&1==a.stack&&a.incrementStack(),this.board[t.xPos][t.yPos]=a;let c=e.getPosition();this.board[c.xPos][c.yPos]=null,o=!0}return{move:o,id:i}}scanBoard(e,t){let n,r,s=null;for(n=0;n<8;n++)for(r=0;r<8;r++)if(null!=this.board[n][r]&&this.board[n][r].id!=e.id&&this.board[n][r].side==e.side&&this.checkPiece(this.board[n][r],e,t)){s=e.id;break}return s}checkPiece(e,t,n){let r=!1,s=(n.xPos,n.yPos,e.getPosition().xPos),o=e.getPosition().yPos;return 0<=s-2&&0<=o-2&&s-2<=7&&o-2<=7&&null!=this.board[s-1][o-1]&&this.board[s-1][o-1].side!=t.side&&null==this.board[s-2][o-2]&&(this.board[s][o]=null,r=!0),0<=s+2&&0<=o+2&&s+2<=7&&o+2<=7&&0==r&&null!=this.board[s+1][o+1]&&this.board[s+1][o+1].side!=t.side&&null==this.board[s+2][o+2]&&(this.board[s][o]=null,r=!0),0<=s-2&&0<=o+2&&s-2<=7&&o+2<=7&&0==r&&null!=this.board[s-1][o+1]&&this.board[s-1][o+1].side!=t.side&&null==this.board[s-2][o+2]&&(this.board[s][o]=null,r=!0),0<=s+2&&0<=o-2&&s+2<=7&&o-2<=7&&0==r&&null!=this.board[s+1][o-1]&&this.board[s+1][o-1].side!=t.side&&null==this.board[s+2][o-2]&&(this.board[s][o]=null,r=!0),r}removePiece(e){let t=e.getPosition().xPos,n=e.getPosition().yPos;this.board[t][n]=null}otherPlayerMove(e,t,n){let r,s,o;Rn.update(e=>(r=e.name,e)),Un.update(e=>(s=e.pri,o=e.sec,e));let i=e.getPosition().xPos,a=e.getPosition().yPos,c=i+t,l=a+n,u=new Nn(c,l,e.side,e.id,e.stack);r==s&&0==c&&"red"==u.side&&1==u.stack&&u.incrementStack(),r==o&&0==c&&"black"==u.side&&1==u.stack&&u.incrementStack(),this.board[c][l]=u,2==t&&2==n&&(c=i+t/2,l=a+n/2,this.board[c][l]=null),this.board[i][a]=null}isEmpty(e,t){return null==this.board[e][t]}getId(e,t){return this.board[e][t].id}getSide(e,t){return this.board[e][t].side}getPiece(e,t){if(null!=this.board[e][t])return this.board[e][t]}getPieceFromId(e){let t,n,r;for(t=0;t<8;t++)for(n=0;n<8;n++)if(null!=this.board[t][n]&&this.board[t][n].id==e){r=this.board[t][n];break}return r}getBoard(){return this.board}}window.onload=async function(){if(null!=sessionStorage.getItem("idx")){const e=await JSON.parse(sessionStorage.getItem("idx"));await Rn.set(e.user),await Dn.set(e.league),await Ln.set(new Mn(e.board.board,null)),await jn.set(e.history),await Un.set(e.pref),await Hn.set(e.chat),await On.set(e.tab),await In.set(e.games),await qn.set(e.page),sessionStorage.removeItem("idx")}};const _n=de($n("https://checkerio-server.herokuapp.com/")),Rn=de(null),qn=de(0),On=de(0),In=de([]),Dn=de([]),Ln=de(null),jn=de([]),Un=de(null),Hn=de([]);function zn(e){return new Promise((t,n)=>{const r="https://us-central1-checker-io.cloudfunctions.net/"+e.func;e=new URLSearchParams(e).toString(),fetch(r,{method:"POST",body:e,headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"},"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"}).then(e=>e.json()).then(e=>{t(e)}).catch(e=>n(e))})}function Gn(e){const t=e-1;return t*t*t+1}function Jn(e,{delay:t=0,duration:r=400,easing:s=n}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:s,css:e=>"opacity: "+e*o}}function Xn(e,{delay:t=0,duration:n=400,easing:r=Gn,x:s=0,y:o=0,opacity:i=0}){const a=getComputedStyle(e),c=+a.opacity,l="none"===a.transform?"":a.transform,u=c*(1-i);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*s}px, ${(1-e)*o}px);\n\t\t\topacity: ${c-u*t}`}}function Yn(e,t,n){const r=e.slice();return r[5]=t[n],r}function Wn(e,t,n){const r=e.slice();return r[5]=t[n],r}function Vn(e){let t,n,r,s,o,i,a=e[1],c=[];for(let t=0;t<a.length;t+=1)c[t]=Qn(Wn(e,a,t));let l=e[1],u=[];for(let t=0;t<l.length;t+=1)u[t]=tr(Yn(e,l,t));return{c(){t=C("h5"),t.textContent="On-Going Games",n=P();for(let e=0;e<c.length;e+=1)c[e].c();r=P(),s=C("h5"),s.textContent="Finished Games",o=P();for(let e=0;e<u.length;e+=1)u[e].c();i=A(),B(t,"class","svelte-4eh53h"),B(s,"class","svelte-4eh53h")},m(e,a){v(e,t,a),v(e,n,a);for(let t=0;t<c.length;t+=1)c[t].m(e,a);v(e,r,a),v(e,s,a),v(e,o,a);for(let t=0;t<u.length;t+=1)u[t].m(e,a);v(e,i,a)},p(e,t){if(7&t){let n;for(a=e[1],n=0;n<a.length;n+=1){const s=Wn(e,a,n);c[n]?c[n].p(s,t):(c[n]=Qn(s),c[n].c(),c[n].m(r.parentNode,r))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}if(7&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const r=Yn(e,l,n);u[n]?u[n].p(r,t):(u[n]=tr(r),u[n].c(),u[n].m(i.parentNode,i))}for(;n<u.length;n+=1)u[n].d(1);u.length=l.length}},d(e){e&&b(t),e&&b(n),w(c,e),e&&b(r),e&&b(s),e&&b(o),w(u,e),e&&b(i)}}}function Kn(e){let n,r,s;return{c(){n=C("h5"),n.textContent="There are no games to view",r=P(),s=C("h5"),s.textContent="Create or Join a Game",B(n,"id","empty"),B(n,"class","svelte-4eh53h"),B(s,"class","svelte-4eh53h")},m(e,t){v(e,n,t),v(e,r,t),v(e,s,t)},p:t,d(e){e&&b(n),e&&b(r),e&&b(s)}}}function Zn(e){let t,n,r,s,o,i,a,c=(e[5].priPlayer==e[0].name?"You":e[5].priPlayer)+"",l=(e[5].secPlayer==e[0].name?"You":e[5].secPlayer)+"",u=e[5].date+"";function p(...t){return e[3](e[5],...t)}return{c(){t=C("button"),n=k(c),r=k(" vs. "),s=k(l),o=k(" - "),i=k(u),B(t,"class","btn btn-warning svelte-4eh53h")},m(e,c,l){v(e,t,c),g(t,n),g(t,r),g(t,s),g(t,o),g(t,i),l&&a(),a=S(t,"click",p)},p(t,r){e=t,3&r&&c!==(c=(e[5].priPlayer==e[0].name?"You":e[5].priPlayer)+"")&&E(n,c),3&r&&l!==(l=(e[5].secPlayer==e[0].name?"You":e[5].secPlayer)+"")&&E(s,l),2&r&&u!==(u=e[5].date+"")&&E(i,u)},d(e){e&&b(t),a()}}}function Qn(e){let t,n=!e[5].finished&&Zn(e);return{c(){n&&n.c(),t=A()},m(e,r){n&&n.m(e,r),v(e,t,r)},p(e,r){e[5].finished?n&&(n.d(1),n=null):n?n.p(e,r):(n=Zn(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&b(t)}}}function er(e){let t,n,r,s,o,i,a,c=(e[5].priPlayer==e[0].name?"You":e[5].priPlayer)+"",l=(e[5].secPlayer==e[0].name?"You":e[5].secPlayer)+"",u=e[5].date+"";function p(...t){return e[4](e[5],...t)}return{c(){t=C("button"),n=k(c),r=k(" vs. "),s=k(l),o=k(" - "),i=k(u),B(t,"class","btn btn-light svelte-4eh53h")},m(e,c,l){v(e,t,c),g(t,n),g(t,r),g(t,s),g(t,o),g(t,i),l&&a(),a=S(t,"click",p)},p(t,r){e=t,3&r&&c!==(c=(e[5].priPlayer==e[0].name?"You":e[5].priPlayer)+"")&&E(n,c),3&r&&l!==(l=(e[5].secPlayer==e[0].name?"You":e[5].secPlayer)+"")&&E(s,l),2&r&&u!==(u=e[5].date+"")&&E(i,u)},d(e){e&&b(t),a()}}}function tr(e){let t,n=e[5].finished&&er(e);return{c(){n&&n.c(),t=A()},m(e,r){n&&n.m(e,r),v(e,t,r)},p(e,r){e[5].finished?n?n.p(e,r):(n=er(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&b(t)}}}function nr(e){let n;function r(e,t){return 0==e[1].length?Kn:Vn}let s=r(e),o=s(e);return{c(){o.c(),n=A()},m(e,t){o.m(e,t),v(e,n,t)},p(e,[t]){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n.parentNode,n)))},i:t,o:t,d(e){o.d(e),e&&b(n)}}}function rr(e,t,n){let r,s;function o(e,t){let n=e.priEmail==r.email?JSON.parse(e.priGameHistory):JSON.parse(e.secGameHistory);Ln.set(new Mn(n[n.length-1],null)),jn.set(n),Hn.set(JSON.parse(e.chatHistory)),Un.update(s=>((s={}).id=e.id,s.time=e.time,s.timer=e.time,s.pri=e.priEmail==r.email?r.name:null,s.sec=e.secEmail==r.email?r.name:null,s.currPlayer=e.currPlayer,s.numMoves=n.length,s.rangeMoves=n.length,s.paused=1==t,s.finished=1!=t,s.side=e.priEmail==r.email?"red":"black",s.secondsPlayed=60*e.minutesPlayed,s)),qn.set(1),On.set(0)}l(e,Rn,e=>n(0,r=e)),l(e,In,e=>n(1,s=e));return[r,s,o,e=>o(e,!0),e=>o(e,!1)]}window.onbeforeunload=async function(){const e={};await Rn.update(t=>(e.user=t,t)),await qn.update(t=>(e.page=t,t)),await On.update(t=>(e.tab=t,t)),await Ln.update(t=>(e.board=t,t)),await jn.update(t=>(e.history=t,t)),await Un.update(t=>(e.pref=t,t)),await Hn.update(t=>(e.chat=t,t)),await In.update(t=>(e.games=t,t)),await Dn.update(t=>(e.league=t,t)),await sessionStorage.setItem("idx",JSON.stringify(e))};class sr extends pe{constructor(e){super(),ue(this,e,rr,nr,a,{})}}function or(e){let n,r,s,i,a,c,l,u,p,h,d,f,m,y,w,x,A,F,N,M,_,R,q,O,I,D,L,j,U,H,z,G,J,X,Y,W,V,K,Z,Q,ee,te,ne,re=e[6].email+"";return{c(){n=C("h3"),n.textContent="Settings",r=P(),s=C("h5"),s.textContent="Profile",i=P(),a=C("h6"),c=k("Account ID: "),l=C("span"),u=k(re),p=P(),h=C("img"),f=P(),m=C("div"),y=C("input"),w=P(),x=C("label"),A=k(e[5]),F=P(),N=C("p"),N.textContent="Image size should be less than 1MB",M=P(),_=C("div"),R=C("div"),R.innerHTML='<div class="input-group-text">Display Name:</div>',q=P(),O=C("input"),I=P(),D=C("input"),L=P(),j=C("button"),j.textContent="Update Profile",U=P(),H=C("h5"),H.textContent="Reset Password",z=P(),G=C("div"),J=C("div"),J.innerHTML='<div class="input-group-text">Old Password:</div>',X=P(),Y=C("input"),W=P(),V=C("div"),K=C("div"),K.innerHTML='<div class="input-group-text">New Password:</div>',Z=P(),Q=C("input"),ee=P(),te=C("button"),te.textContent="Reset",B(n,"class","svelte-5d476"),T(a,"text-align","center"),T(h,"float","left"),B(h,"alt","propic"),h.src!==(d=e[1])&&B(h,"src",d),B(h,"class","svelte-5d476"),B(y,"type","file"),B(y,"accept","image/jpeg"),B(y,"class","custom-file-input"),B(y,"id","customFile"),B(x,"class","custom-file-label"),B(x,"for","customFile"),B(m,"id","propic"),B(m,"class","custom-file input-group svelte-5d476"),T(N,"float","right"),B(R,"class","input-group-prepend"),B(O,"type","text"),B(O,"class","form-control"),B(O,"id","inlineFormInputGroup"),B(O,"placeholder",e[0]),B(_,"class","input-group mb-2 svelte-5d476"),B(D,"id","authPass"),B(D,"type","password"),B(D,"placeholder","Account Password"),B(D,"class","svelte-5d476"),B(j,"class","btn btn-success svelte-5d476"),T(H,"margin-top","60px"),B(J,"class","input-group-prepend"),B(Y,"type","password"),B(Y,"class","form-control"),B(Y,"id","inlineFormInputGroup"),B(Y,"placeholder","Account Password"),B(G,"class","input-group mb-2 svelte-5d476"),B(K,"class","input-group-prepend"),B(Q,"type","password"),B(Q,"class","form-control"),B(Q,"id","inlineFormInputGroup"),B(Q,"placeholder","New Password"),B(V,"class","input-group mb-2 svelte-5d476"),B(te,"class","btn btn-success svelte-5d476")},m(t,d,b){v(t,n,d),v(t,r,d),v(t,s,d),v(t,i,d),v(t,a,d),g(a,c),g(a,l),g(l,u),v(t,p,d),v(t,h,d),v(t,f,d),v(t,m,d),g(m,y),g(m,w),g(m,x),g(x,A),v(t,F,d),v(t,N,d),v(t,M,d),v(t,_,d),g(_,R),g(_,q),g(_,O),$(O,e[0]),v(t,I,d),v(t,D,d),$(D,e[2]),v(t,L,d),v(t,j,d),v(t,U,d),v(t,H,d),v(t,z,d),v(t,G,d),g(G,J),g(G,X),g(G,Y),$(Y,e[3]),v(t,W,d),v(t,V,d),g(V,K),g(V,Z),g(V,Q),$(Q,e[4]),v(t,ee,d),v(t,te,d),b&&o(ne),ne=[S(y,"change",e[7]),S(O,"input",e[11]),S(D,"input",e[12]),S(j,"click",e[8]),S(Y,"input",e[13]),S(Q,"input",e[14]),S(te,"click",e[9])]},p(e,[t]){64&t&&re!==(re=e[6].email+"")&&E(u,re),2&t&&h.src!==(d=e[1])&&B(h,"src",d),32&t&&E(A,e[5]),1&t&&B(O,"placeholder",e[0]),1&t&&O.value!==e[0]&&$(O,e[0]),4&t&&D.value!==e[2]&&$(D,e[2]),8&t&&Y.value!==e[3]&&$(Y,e[3]),16&t&&Q.value!==e[4]&&$(Q,e[4])},i:t,o:t,d(e){e&&b(n),e&&b(r),e&&b(s),e&&b(i),e&&b(a),e&&b(p),e&&b(h),e&&b(f),e&&b(m),e&&b(F),e&&b(N),e&&b(M),e&&b(_),e&&b(I),e&&b(D),e&&b(L),e&&b(j),e&&b(U),e&&b(H),e&&b(z),e&&b(G),e&&b(W),e&&b(V),e&&b(ee),e&&b(te),o(ne)}}}function ir(t,n,r){let s;l(t,Rn,e=>r(6,s=e));let o,i,a,c,u=s.name,p=s.picture,h="Choose Profile Photo";return[u,p,o,i,a,h,s,function(){if(e.target.files[0].size<=1e6&&"image/jpeg"==e.target.files[0].type){var t=new FileReader;t.onload=function(e){r(1,p=e.target.result),Rn.update(t=>(t.picture=e.target.result,t))},t.readAsDataURL(e.target.files[0]),r(5,h=e.target.files[0].name)}},function(){null!=u&&null!=o&&(c={func:"updateProfile",name:u,picture:p.includes("unsplash")?null:p,password:o,email:s.email},zn(c).then(e=>{null!=e.msg?(console.log(e.msg),r(2,o=""),Rn.update(e=>(e.name=u,e))):console.log(e.err)}).catch(e=>{console.log(e)}))},function(){null!=i&&null!=a&&i!=a&&(c={func:"resetPassword",email:s.email,password:i,newPass:a},zn(c).then(e=>{null!=e.msg?(console.log(e.msg),r(3,i=""),r(4,a="")):console.log(e.err)}).catch(e=>{console.log(e)}))},c,function(){u=this.value,r(0,u)},function(){o=this.value,r(2,o)},function(){i=this.value,r(3,i)},function(){a=this.value,r(4,a)}]}class ar extends pe{constructor(e){super(),ue(this,e,ir,or,a,{})}}function cr(e){let n,r,s,i,a,c,l,u,p,h,d;return{c(){n=C("h5"),n.textContent="Game Preferences",r=P(),s=C("h6"),i=k("Time Per Turn: "),a=k(e[0]),c=k(" seconds"),l=P(),u=C("input"),p=P(),h=C("button"),h.textContent="Create",B(n,"class","svelte-ygik97"),B(s,"class","svelte-ygik97"),B(u,"class","custom-range"),B(u,"type","range"),B(u,"min","15"),B(u,"max","60"),B(u,"step","1"),B(h,"class","btn btn-primary svelte-ygik97")},m(t,f,m){v(t,n,f),v(t,r,f),v(t,s,f),g(s,i),g(s,a),g(s,c),v(t,l,f),v(t,u,f),$(u,e[0]),v(t,p,f),v(t,h,f),m&&o(d),d=[S(u,"change",e[6]),S(u,"input",e[6]),S(h,"click",e[1])]},p(e,[t]){1&t&&E(a,e[0]),1&t&&$(u,e[0])},i:t,o:t,d(e){e&&b(n),e&&b(r),e&&b(s),e&&b(l),e&&b(u),e&&b(p),e&&b(h),o(d)}}}function lr(e,t,n){let r,s,o;l(e,jn,e=>n(3,r=e)),l(e,Ln,e=>n(4,s=e)),l(e,Rn,e=>n(5,o=e));let i,a=15;return[a,function(){Ln.set(new Mn(null,!1)),r.push(s.saveBoardState()),Un.update(e=>((e={}).time=a,e.timer=a,e.pri=o.name,e.sec=null,e.currPlayer=null,e.numMoves=0,e.rangeMoves=0,e.paused=!0,e.finished=!1,e.side="red",e.secondsPlayed=0,e)),i={func:"createGame",email:o.email,name:o.name,time:a,date:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()},console.log(i),zn(i).then(e=>{console.log(e),null!=e.msg?(console.log(e.msg),Un.update(t=>(t.id=e.msg,t)),qn.set(1),On.set(0)):console.log(e.err)}).catch(e=>{console.log(e)})},i,r,s,o,function(){a=F(this.value),n(0,a)}]}class ur extends pe{constructor(e){super(),ue(this,e,lr,cr,a,{})}}function pr(e){let n,r,s,i,a,c,l,u,p,h;return{c(){n=C("h5"),n.textContent="Game Password",r=P(),s=C("input"),i=P(),a=C("button"),a.textContent="Join",c=P(),l=C("hr"),u=P(),p=C("button"),p.textContent="Find A Random Game",B(n,"class","svelte-uoxtb0"),B(s,"placeholder","Game Password"),s.required=!0,B(s,"class","svelte-uoxtb0"),B(a,"class","btn btn-primary svelte-uoxtb0"),T(a,"margin-bottom","30px"),B(p,"class","btn btn-primary svelte-uoxtb0")},m(t,d,f){v(t,n,d),v(t,r,d),v(t,s,d),$(s,e[0]),v(t,i,d),v(t,a,d),v(t,c,d),v(t,l,d),v(t,u,d),v(t,p,d),f&&o(h),h=[S(s,"input",e[6]),S(s,"keydown",e[7]),S(a,"click",e[1])]},p(e,[t]){1&t&&s.value!==e[0]&&$(s,e[0])},i:t,o:t,d(e){e&&b(n),e&&b(r),e&&b(s),e&&b(i),e&&b(a),e&&b(c),e&&b(l),e&&b(u),e&&b(p),o(h)}}}function hr(e,t,n){let r,s,o,i,a;function c(){null!=i&&(a={func:"joinGame",gameID:i,email:r.email,name:r.name},zn(a).then(e=>{if(null!=e.msg){console.log(e.msg);let t=e.msg;t.priEmail!=r.email?(Ln.set(new Mn(null,!0)),s.push(o.saveBoardState()),Un.update(e=>((e={}).time=t.time,e.timer=t.time,e.id=i,e.pri=null,e.sec=t.secPlayer,e.currPlayer=null,e.numMoves=0,e.rangeMoves=0,e.paused=!0,e.finished=!1,e.side="black",e.secondsPlayed=0,e)),qn.set(1),On.set(0)):console.log("Same Player")}else console.log(e.err)}).catch(e=>{console.log(e)}))}l(e,Rn,e=>n(3,r=e)),l(e,jn,e=>n(4,s=e)),l(e,Ln,e=>n(5,o=e));return[i,c,a,r,s,o,function(){i=this.value,n(0,i)},e=>13===e.which&&c()]}class dr extends pe{constructor(e){super(),ue(this,e,hr,pr,a,{})}}function fr(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function mr(e){let t,n,r,s,o,i,a,c,l,u,p,h,d,f,m,y,w,x,A,F,$,N,M,_,R,q,O,I,D,L,j,U,H,z,G,J,X,Y,W,V,K,Z,Q,ee,te,ne,re,se,oe,ie,ae,ce,le,ue,pe,he,de,fe,me,ye,ge,ve,be,we,Ce,xe,ke,Pe,Ae,Se,Be,Fe,Ee,$e,Te,Ne,Me,_e,Re,qe,Oe,Ie,De,Le,je,Ue,He,ze,Ge,Je,Xe,Ye,We,Ve,Ke,Ze=e[1].position+"",Qe=e[1].totalPoints+"",et=e[1].wins+"",tt=e[1].draws+"",nt=e[1].losses+"",rt=e[1].gamesPlayed+"",st=e[1].gamesPlayed+"",ot=e[1].avgMovesPerGame+"",it=e[1].mostMoves+"",at=e[1].leastMoves+"",ct=e[1].totalTimePlayed+"",lt=e[1].avgTimePlayPerGame+"",ut=e[1].leastTimePlayed+"",pt=e[1].mostTimePlayed+"";return{c(){t=C("button"),t.textContent="League Table",n=P(),r=C("h5"),r.textContent="My Stats",s=P(),o=C("hr"),i=P(),a=C("table"),c=C("tr"),l=C("th"),l.textContent="League Position",u=P(),p=C("td"),h=k(Ze),d=P(),f=C("tr"),m=C("th"),m.textContent="Total Points",y=P(),w=C("td"),x=k(Qe),A=P(),F=C("tr"),$=C("th"),$.textContent="Wins",N=P(),M=C("td"),_=k(et),R=P(),q=C("tr"),O=C("th"),O.textContent="Draws",I=P(),D=C("td"),L=k(tt),j=P(),U=C("tr"),H=C("th"),H.textContent="Losses",z=P(),G=C("td"),J=k(nt),X=P(),Y=C("tr"),W=C("th"),W.textContent="Games Played",V=P(),K=C("td"),Z=k(rt),Q=P(),ee=C("tr"),te=C("th"),te.textContent="Total Moves",ne=P(),re=C("td"),se=k(st),oe=P(),ie=C("tr"),ae=C("th"),ae.textContent="Avg. Moves Per Game",ce=P(),le=C("td"),ue=k(ot),pe=P(),he=C("tr"),de=C("th"),de.textContent="Most Moves",fe=P(),me=C("td"),ye=k(it),ge=P(),ve=C("tr"),be=C("th"),be.textContent="Least Moves",we=P(),Ce=C("td"),xe=k(at),ke=P(),Pe=C("tr"),Ae=C("th"),Ae.textContent="Total Time Played",Se=P(),Be=C("td"),Fe=k(ct),Ee=k(" minutes"),$e=P(),Te=C("tr"),Ne=C("th"),Ne.textContent="Avg. Time Played Per Game",Me=P(),_e=C("td"),Re=k(lt),qe=k(" minutes"),Oe=P(),Ie=C("tr"),De=C("th"),De.textContent="Least Time Played",Le=P(),je=C("td"),Ue=k(ut),He=k(" minutes"),ze=P(),Ge=C("tr"),Je=C("th"),Je.textContent="Most Time Played",Xe=P(),Ye=C("td"),We=k(pt),Ve=k(" minutes"),B(t,"class","btn btn-primary svelte-1s1my1f"),B(r,"class","svelte-1s1my1f"),T(l,"text-align","left"),B(l,"class","svelte-1s1my1f"),B(p,"class","svelte-1s1my1f"),T(m,"text-align","left"),B(m,"class","svelte-1s1my1f"),B(w,"class","svelte-1s1my1f"),T($,"text-align","left"),B($,"class","svelte-1s1my1f"),B(M,"class","svelte-1s1my1f"),T(O,"text-align","left"),B(O,"class","svelte-1s1my1f"),B(D,"class","svelte-1s1my1f"),T(H,"text-align","left"),B(H,"class","svelte-1s1my1f"),B(G,"class","svelte-1s1my1f"),T(W,"text-align","left"),B(W,"class","svelte-1s1my1f"),B(K,"class","svelte-1s1my1f"),T(te,"text-align","left"),B(te,"class","svelte-1s1my1f"),B(re,"class","svelte-1s1my1f"),T(ae,"text-align","left"),B(ae,"class","svelte-1s1my1f"),B(le,"class","svelte-1s1my1f"),T(de,"text-align","left"),B(de,"class","svelte-1s1my1f"),B(me,"class","svelte-1s1my1f"),T(be,"text-align","left"),B(be,"class","svelte-1s1my1f"),B(Ce,"class","svelte-1s1my1f"),T(Ae,"text-align","left"),B(Ae,"class","svelte-1s1my1f"),B(Be,"class","svelte-1s1my1f"),T(Ne,"text-align","left"),B(Ne,"class","svelte-1s1my1f"),B(_e,"class","svelte-1s1my1f"),T(De,"text-align","left"),B(De,"class","svelte-1s1my1f"),B(je,"class","svelte-1s1my1f"),T(Je,"text-align","left"),B(Je,"class","svelte-1s1my1f"),B(Ye,"class","svelte-1s1my1f"),B(a,"id","stats"),B(a,"class","svelte-1s1my1f")},m(b,C,k){v(b,t,C),v(b,n,C),v(b,r,C),v(b,s,C),v(b,o,C),v(b,i,C),v(b,a,C),g(a,c),g(c,l),g(c,u),g(c,p),g(p,h),g(a,d),g(a,f),g(f,m),g(f,y),g(f,w),g(w,x),g(a,A),g(a,F),g(F,$),g(F,N),g(F,M),g(M,_),g(a,R),g(a,q),g(q,O),g(q,I),g(q,D),g(D,L),g(a,j),g(a,U),g(U,H),g(U,z),g(U,G),g(G,J),g(a,X),g(a,Y),g(Y,W),g(Y,V),g(Y,K),g(K,Z),g(a,Q),g(a,ee),g(ee,te),g(ee,ne),g(ee,re),g(re,se),g(a,oe),g(a,ie),g(ie,ae),g(ie,ce),g(ie,le),g(le,ue),g(a,pe),g(a,he),g(he,de),g(he,fe),g(he,me),g(me,ye),g(a,ge),g(a,ve),g(ve,be),g(ve,we),g(ve,Ce),g(Ce,xe),g(a,ke),g(a,Pe),g(Pe,Ae),g(Pe,Se),g(Pe,Be),g(Be,Fe),g(Be,Ee),g(a,$e),g(a,Te),g(Te,Ne),g(Te,Me),g(Te,_e),g(_e,Re),g(_e,qe),g(a,Oe),g(a,Ie),g(Ie,De),g(Ie,Le),g(Ie,je),g(je,Ue),g(je,He),g(a,ze),g(a,Ge),g(Ge,Je),g(Ge,Xe),g(Ge,Ye),g(Ye,We),g(Ye,Ve),k&&Ke(),Ke=S(t,"click",e[4])},p(e,t){2&t&&Ze!==(Ze=e[1].position+"")&&E(h,Ze),2&t&&Qe!==(Qe=e[1].totalPoints+"")&&E(x,Qe),2&t&&et!==(et=e[1].wins+"")&&E(_,et),2&t&&tt!==(tt=e[1].draws+"")&&E(L,tt),2&t&&nt!==(nt=e[1].losses+"")&&E(J,nt),2&t&&rt!==(rt=e[1].gamesPlayed+"")&&E(Z,rt),2&t&&st!==(st=e[1].gamesPlayed+"")&&E(se,st),2&t&&ot!==(ot=e[1].avgMovesPerGame+"")&&E(ue,ot),2&t&&it!==(it=e[1].mostMoves+"")&&E(ye,it),2&t&&at!==(at=e[1].leastMoves+"")&&E(xe,at),2&t&&ct!==(ct=e[1].totalTimePlayed+"")&&E(Fe,ct),2&t&&lt!==(lt=e[1].avgTimePlayPerGame+"")&&E(Re,lt),2&t&&ut!==(ut=e[1].leastTimePlayed+"")&&E(Ue,ut),2&t&&pt!==(pt=e[1].mostTimePlayed+"")&&E(We,pt)},d(e){e&&b(t),e&&b(n),e&&b(r),e&&b(s),e&&b(o),e&&b(i),e&&b(a),Ke()}}}function yr(e){let t,n,r,s,o,i,a,c,l,u,p,h,d,f,m=e[1].position+"",y=e[2],x=[];for(let t=0;t<y.length;t+=1)x[t]=br(fr(e,y,t));return{c(){t=C("button"),t.textContent="My Stats",n=P(),r=C("h5"),r.textContent="Checkas League - Top 50",s=P(),o=C("hr"),i=P(),a=C("h6"),c=k("League Position - #"),l=k(m),u=P(),p=C("table"),h=C("tr"),h.innerHTML='<th class="svelte-1s1my1f">#</th> \n            <th class="svelte-1s1my1f">Name</th> \n            <th class="svelte-1s1my1f">Wins</th> \n            <th class="svelte-1s1my1f">Draws</th> \n            <th class="svelte-1s1my1f">Losses</th> \n            <th class="svelte-1s1my1f">Points</th>',d=P();for(let e=0;e<x.length;e+=1)x[e].c();B(t,"class","btn btn-primary svelte-1s1my1f"),B(r,"class","svelte-1s1my1f"),T(a,"text-align","center"),T(a,"margin-top","10px"),T(a,"margin-bottom","10px"),B(p,"class","svelte-1s1my1f")},m(m,y,b){v(m,t,y),v(m,n,y),v(m,r,y),v(m,s,y),v(m,o,y),v(m,i,y),v(m,a,y),g(a,c),g(a,l),v(m,u,y),v(m,p,y),g(p,h),g(p,d);for(let e=0;e<x.length;e+=1)x[e].m(p,null);b&&f(),f=S(t,"click",e[3])},p(e,t){if(2&t&&m!==(m=e[1].position+"")&&E(l,m),6&t){let n;for(y=e[2],n=0;n<y.length;n+=1){const r=fr(e,y,n);x[n]?x[n].p(r,t):(x[n]=br(r),x[n].c(),x[n].m(p,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=y.length}},d(e){e&&b(t),e&&b(n),e&&b(r),e&&b(s),e&&b(o),e&&b(i),e&&b(a),e&&b(u),e&&b(p),w(x,e),f()}}}function gr(e){let t,n,r,s,o,i,a,c,l,u,p,h,d,f,m,y,w,x,A,S=e[7]+1+"",F=e[5].name+"",$=e[5].wins+"",T=e[5].draws+"",N=e[5].losses+"",M=e[5].totalPoints+"";return{c(){t=C("tr"),n=C("th"),r=k(S),s=P(),o=C("th"),i=k(F),a=P(),c=C("th"),l=k($),u=P(),p=C("th"),h=k(T),d=P(),f=C("th"),m=k(N),y=P(),w=C("th"),x=k(M),A=P(),B(n,"class","svelte-1s1my1f"),B(o,"class","svelte-1s1my1f"),B(c,"class","svelte-1s1my1f"),B(p,"class","svelte-1s1my1f"),B(f,"class","svelte-1s1my1f"),B(w,"class","svelte-1s1my1f")},m(e,b){v(e,t,b),g(t,n),g(n,r),g(t,s),g(t,o),g(o,i),g(t,a),g(t,c),g(c,l),g(t,u),g(t,p),g(p,h),g(t,d),g(t,f),g(f,m),g(t,y),g(t,w),g(w,x),g(t,A)},p(e,t){4&t&&F!==(F=e[5].name+"")&&E(i,F),4&t&&$!==($=e[5].wins+"")&&E(l,$),4&t&&T!==(T=e[5].draws+"")&&E(h,T),4&t&&N!==(N=e[5].losses+"")&&E(m,N),4&t&&M!==(M=e[5].totalPoints+"")&&E(x,M)},d(e){e&&b(t)}}}function vr(e){let t,n,r,s,o,i,a,c,l,u,p,h,d,f,m,y,w,x,A,S=e[7]+1+"",F=e[5].name+"",$=e[5].wins+"",T=e[5].draws+"",N=e[5].losses+"",M=e[5].totalPoints+"";return{c(){t=C("tr"),n=C("td"),r=k(S),s=P(),o=C("td"),i=k(F),a=P(),c=C("td"),l=k($),u=P(),p=C("td"),h=k(T),d=P(),f=C("td"),m=k(N),y=P(),w=C("td"),x=k(M),A=P(),B(n,"class","svelte-1s1my1f"),B(o,"class","svelte-1s1my1f"),B(c,"class","svelte-1s1my1f"),B(p,"class","svelte-1s1my1f"),B(f,"class","svelte-1s1my1f"),B(w,"class","svelte-1s1my1f")},m(e,b){v(e,t,b),g(t,n),g(n,r),g(t,s),g(t,o),g(o,i),g(t,a),g(t,c),g(c,l),g(t,u),g(t,p),g(p,h),g(t,d),g(t,f),g(f,m),g(t,y),g(t,w),g(w,x),g(t,A)},p(e,t){4&t&&F!==(F=e[5].name+"")&&E(i,F),4&t&&$!==($=e[5].wins+"")&&E(l,$),4&t&&T!==(T=e[5].draws+"")&&E(h,T),4&t&&N!==(N=e[5].losses+"")&&E(m,N),4&t&&M!==(M=e[5].totalPoints+"")&&E(x,M)},d(e){e&&b(t)}}}function br(e){let t;function n(e,t){return e[5].name!=e[1].name?vr:gr}let r=n(e),s=r(e);return{c(){s.c(),t=A()},m(e,n){s.m(e,n),v(e,t,n)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&b(t)}}}function wr(e){let n;function r(e,t){return e[0]?yr:mr}let s=r(e),o=s(e);return{c(){o.c(),n=A()},m(e,t){o.m(e,t),v(e,n,t)},p(e,[t]){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n.parentNode,n)))},i:t,o:t,d(e){o.d(e),e&&b(n)}}}function Cr(e,t,n){let r,s;l(e,Rn,e=>n(1,r=e)),l(e,Dn,e=>n(2,s=e));let o=!0;return[o,r,s,()=>n(0,o=!o),()=>n(0,o=!o)]}class xr extends pe{constructor(e){super(),ue(this,e,Cr,wr,a,{})}}function kr(e){let n,r,s,o,i,a=e[9]<800&&function(e){let n,r;return{c(){n=C("button"),n.textContent="Close",B(n,"class","btn btn-danger svelte-1g1yucx")},m(t,s,o){v(t,n,s),o&&r(),r=S(n,"click",e[10])},p:t,d(e){e&&b(n),r()}}}(e),c=e[4]&&Pr(),l=e[5]&&Ar();return{c(){n=C("div"),a&&a.c(),r=P(),c&&c.c(),s=P(),l&&l.c(),B(n,"id","popUp"),B(n,"class","container-fluid svelte-1g1yucx")},m(e,t){v(e,n,t),a&&a.m(n,null),g(n,r),c&&c.m(n,null),g(n,s),l&&l.m(n,null),i=!0},p(e,t){e[9]<800&&a.p(e,t),e[4]?c?16&t&&ne(c,1):(c=Pr(),c.c(),ne(c,1),c.m(n,s)):c&&(ee(),re(c,1,1,()=>{c=null}),te()),e[5]?l?32&t&&ne(l,1):(l=Ar(),l.c(),ne(l,1),l.m(n,null)):l&&(ee(),re(l,1,1,()=>{l=null}),te())},i(e){i||(ne(c),ne(l),G(()=>{o||(o=oe(n,Xn,{y:-200,duration:1e3},!0)),o.run(1)}),i=!0)},o(e){re(c),re(l),o||(o=oe(n,Xn,{y:-200,duration:1e3},!1)),o.run(0),i=!1},d(e){e&&b(n),a&&a.d(),c&&c.d(),l&&l.d(),e&&o&&o.end()}}}function Pr(e){let t;const n=new ur({});return{c(){ie(n.$$.fragment)},m(e,r){ae(n,e,r),t=!0},i(e){t||(ne(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Ar(e){let t;const n=new dr({});return{c(){ie(n.$$.fragment)},m(e,r){ae(n,e,r),t=!0},i(e){t||(ne(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Sr(e){let n,r,s,o;return{c(){n=C("div"),B(n,"class","container-fluid svelte-1g1yucx")},m(t,r,i){v(t,n,r),s=!0,i&&o(),o=S(n,"click",e[10])},p:t,i(e){s||(G(()=>{r||(r=oe(n,Jn,{},!0)),r.run(1)}),s=!0)},o(e){r||(r=oe(n,Jn,{},!1)),r.run(0),s=!1},d(e){e&&b(n),e&&r&&r.end(),o()}}}function Br(e){let n,r,s,o,i,a,c=e[9]<800&&function(e){let n,r;return{c(){n=C("button"),n.textContent="Back",B(n,"class","btn btn-danger svelte-1g1yucx")},m(t,s,o){v(t,n,s),o&&r(),r=S(n,"click",e[10])},p:t,d(e){e&&b(n),r()}}}(e);const l=[Er,Fr],u=[];function p(e,t){return e[7]?0:1}return s=p(e),o=u[s]=l[s](e),{c(){n=C("div"),c&&c.c(),r=P(),o.c(),B(n,"id","rightSlide"),B(n,"class","container-fluid svelte-1g1yucx")},m(e,t){v(e,n,t),c&&c.m(n,null),g(n,r),u[s].m(n,null),a=!0},p(e,t){e[9]<800&&c.p(e,t);let r=s;s=p(e),s===r?u[s].p(e,t):(ee(),re(u[r],1,1,()=>{u[r]=null}),te(),o=u[s],o||(o=u[s]=l[s](e),o.c()),ne(o,1),o.m(n,null))},i(e){a||(ne(o),G(()=>{i||(i=oe(n,Xn,{x:200,duration:1e3},!0)),i.run(1)}),a=!0)},o(e){re(o),i||(i=oe(n,Xn,{x:200,duration:1e3},!1)),i.run(0),a=!1},d(e){e&&b(n),c&&c.d(),u[s].d(),e&&i&&i.end()}}}function Fr(e){let t,n,r,s,o=e[1]&&$r(),i=e[2]&&Tr(),a=e[6]&&Nr();return{c(){o&&o.c(),t=P(),i&&i.c(),n=P(),a&&a.c(),r=A()},m(e,c){o&&o.m(e,c),v(e,t,c),i&&i.m(e,c),v(e,n,c),a&&a.m(e,c),v(e,r,c),s=!0},p(e,s){e[1]?o?2&s&&ne(o,1):(o=$r(),o.c(),ne(o,1),o.m(t.parentNode,t)):o&&(ee(),re(o,1,1,()=>{o=null}),te()),e[2]?i?4&s&&ne(i,1):(i=Tr(),i.c(),ne(i,1),i.m(n.parentNode,n)):i&&(ee(),re(i,1,1,()=>{i=null}),te()),e[6]?a?64&s&&ne(a,1):(a=Nr(),a.c(),ne(a,1),a.m(r.parentNode,r)):a&&(ee(),re(a,1,1,()=>{a=null}),te())},i(e){s||(ne(o),ne(i),ne(a),s=!0)},o(e){re(o),re(i),re(a),s=!1},d(e){o&&o.d(e),e&&b(t),i&&i.d(e),e&&b(n),a&&a.d(e),e&&b(r)}}}function Er(e){let n;return{c(){n=C("div"),n.innerHTML='<div class="loader svelte-1g1yucx"></div>',B(n,"id","signin-loader"),B(n,"class","loader-container svelte-1g1yucx")},m(e,t){v(e,n,t)},p:t,i:t,o:t,d(e){e&&b(n)}}}function $r(e){let t;const n=new sr({});return{c(){ie(n.$$.fragment)},m(e,r){ae(n,e,r),t=!0},i(e){t||(ne(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Tr(e){let t;const n=new ar({});return{c(){ie(n.$$.fragment)},m(e,r){ae(n,e,r),t=!0},i(e){t||(ne(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Nr(e){let t;const n=new xr({});return{c(){ie(n.$$.fragment)},m(e,r){ae(n,e,r),t=!0},i(e){t||(ne(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Mr(e){let t,n,r,s,i,a,c,l,u,p,h,d,f,m,y,w,x,F,$,T,N,M,_,R,q,O=e[8].name+"",I=e[3]&&kr(e),D=(e[3]||e[0])&&Sr(e),L=e[0]&&Br(e);return{c(){I&&I.c(),t=P(),D&&D.c(),n=P(),r=C("div"),s=C("button"),i=k("Logout ("),a=k(O),c=k(")"),l=P(),u=C("h1"),u.textContent="Dashboard",p=P(),h=C("button"),h.textContent="Create Game",d=P(),f=C("button"),f.textContent="Join Game",m=P(),y=C("button"),y.textContent="View Games",w=P(),x=C("button"),x.textContent="Leadership Board",F=P(),$=C("button"),$.textContent="Tutorial",T=P(),N=C("button"),N.textContent="Settings",M=P(),L&&L.c(),_=A(),B(s,"id","logout"),B(s,"class","btn btn-danger svelte-1g1yucx"),B(u,"class","svelte-1g1yucx"),B(h,"class","circles btn btn-info svelte-1g1yucx"),B(f,"class","circles btn btn-info svelte-1g1yucx"),B(y,"class","circles btn btn-info svelte-1g1yucx"),B(x,"class","circles btn btn-info svelte-1g1yucx"),B($,"class","circles btn btn-info svelte-1g1yucx"),B(N,"class","circles btn btn-info svelte-1g1yucx"),B(r,"id","backpurple"),B(r,"class","svelte-1g1yucx")},m(b,C,k){I&&I.m(b,C),v(b,t,C),D&&D.m(b,C),v(b,n,C),v(b,r,C),g(r,s),g(s,i),g(s,a),g(s,c),g(r,l),g(r,u),g(r,p),g(r,h),g(r,d),g(r,f),g(r,m),g(r,y),g(r,w),g(r,x),g(r,F),g(r,$),g(r,T),g(r,N),v(b,M,C),L&&L.m(b,C),v(b,_,C),R=!0,k&&o(q),q=[S(s,"click",e[16]),S(h,"click",e[11]),S(f,"click",e[12]),S(y,"click",e[13]),S(x,"click",e[14]),S(N,"click",e[15])]},p(e,[r]){e[3]?I?(I.p(e,r),8&r&&ne(I,1)):(I=kr(e),I.c(),ne(I,1),I.m(t.parentNode,t)):I&&(ee(),re(I,1,1,()=>{I=null}),te()),e[3]||e[0]?D?(D.p(e,r),9&r&&ne(D,1)):(D=Sr(e),D.c(),ne(D,1),D.m(n.parentNode,n)):D&&(ee(),re(D,1,1,()=>{D=null}),te()),(!R||256&r)&&O!==(O=e[8].name+"")&&E(a,O),e[0]?L?(L.p(e,r),1&r&&ne(L,1)):(L=Br(e),L.c(),ne(L,1),L.m(_.parentNode,_)):L&&(ee(),re(L,1,1,()=>{L=null}),te())},i(e){R||(ne(I),ne(D),ne(L),R=!0)},o(e){re(I),re(D),re(L),R=!1},d(e){I&&I.d(e),e&&b(t),D&&D.d(e),e&&b(n),e&&b(r),e&&b(M),L&&L.d(e),e&&b(_),o(q)}}}function _r(e,t,n){let r,s;l(e,Dn,e=>n(20,r=e)),l(e,Rn,e=>n(8,s=e)),setTimeout(async()=>{0==r.length&&(await(o={func:"retrieveUserGames",email:s.email},void zn(o).then(e=>{if(null!=e.msg){let t=e.msg;In.update(e=>{e=[];for(let n=0;n<t.length;n++)t[n].finished?e.push(t[n]):e.unshift(t[n]);return e})}else console.log(e.err),n(7,g=!1)}).catch(e=>{console.log(e),n(7,g=!1)})),await(o={func:"checkersLeague",name:s.name},void zn(o).then(e=>{null!=e.msg?(Dn.set(e.msg.arr),Rn.update(t=>(t.position=e.msg.pos,t))):console.log(e.err)}).catch(e=>{console.log(e)})))},2e3);let o,i=screen.width,a=!1,c=!1,u=!1,p=!1,h=!1,d=!1,f=!1,m=!1,y=!1,g=!0;function v(){n(0,a=!1),c=!1,n(1,u=!1),n(2,p=!1),n(3,h=!1),n(4,d=!1),n(5,f=!1),n(6,m=!1),y=!1}return[a,u,p,h,d,f,m,g,s,i,v,function(){v(),setTimeout(()=>{n(3,h=!0)},1),setTimeout(()=>{n(4,d=!0)},2)},function(){v(),setTimeout(()=>{n(3,h=!0)},1),setTimeout(()=>{n(5,f=!0)},2)},function(){r.length>0&&(v(),n(7,g=!1),setTimeout(()=>{n(0,a=!0)},1),setTimeout(()=>{n(1,u=!0)},1))},function(){r.length>0&&(v(),n(7,g=!1),setTimeout(()=>{n(0,a=!0)},1),setTimeout(()=>{n(6,m=!0)},1))},function(){v(),n(7,g=!1),setTimeout(()=>{n(0,a=!0)},1),setTimeout(()=>{n(2,p=!0)},1)},function(){Rn.set(null)}]}class Rr extends pe{constructor(e){super(),ue(this,e,_r,Mr,a,{})}}function qr(e){return"[object Date]"===Object.prototype.toString.call(e)}function Or(e,t={}){const n=de(e),{stiffness:r=.15,damping:s=.8,precision:o=.01}=t;let i,a,c,l=e,u=e,p=1,d=0,f=!1;function m(t,r={}){u=t;const s=c={};if(null==e||r.hard||g.stiffness>=1&&g.damping>=1)return f=!0,i=h(),l=t,n.set(e=u),Promise.resolve();if(r.soft){const e=!0===r.soft?.5:+r.soft;d=1/(60*e),p=0}return a||(i=h(),f=!1,a=y(t=>{if(f)return f=!1,a=null,!1;p=Math.min(p+d,1);const r={inv_mass:p,opts:g,settled:!0,dt:60*(t-i)/1e3},s=function e(t,n,r,s){if("number"==typeof r||qr(r)){const e=s-r,o=(r-n)/(t.dt||1/60),i=(o+(t.opts.stiffness*e-t.opts.damping*o)*t.inv_mass)*t.dt;return Math.abs(i)<t.opts.precision&&Math.abs(e)<t.opts.precision?s:(t.settled=!1,qr(r)?new Date(r.getTime()+i):r+i)}if(Array.isArray(r))return r.map((o,i)=>e(t,n[i],r[i],s[i]));if("object"==typeof r){const o={};for(const i in r)o[i]=e(t,n[i],r[i],s[i]);return o}throw new Error(`Cannot spring ${typeof r} values`)}(r,l,e,u);return i=t,l=e,n.set(e=s),r.settled&&(a=null),!r.settled})),new Promise(e=>{a.promise.then(()=>{s===c&&e()})})}const g={set:m,update:(t,n)=>m(t(u,e),n),subscribe:n.subscribe,stiffness:r,damping:s,precision:o};return g}function Ir(e){let n,r,s,o,i;return{c(){n=x("svg"),r=x("g"),s=x("circle"),o=x("circle"),i=x("circle"),B(s,"class","dot svelte-16rctq0"),B(s,"cx","3"),B(s,"cy","3"),B(s,"r","3"),B(o,"class","dot svelte-16rctq0"),B(o,"cx","12"),B(o,"cy","3"),B(o,"r","3"),B(i,"class","dot svelte-16rctq0"),B(i,"cx","21"),B(i,"cy","3"),B(i,"r","3"),B(n,"id","typing_bubble"),B(n,"data-name","typing bubble"),B(n,"xmlns","http://www.w3.org/2000/svg"),B(n,"width","24"),B(n,"height","6"),B(n,"viewBox","0 0 24 6")},m(e,t){v(e,n,t),g(n,r),g(r,s),g(r,o),g(r,i)},p:t,i:t,o:t,d(e){e&&b(n)}}}class Dr extends pe{constructor(e){super(),ue(this,e,null,Ir,a,{})}}function Lr(e,t,n){const r=e.slice();return r[16]=t[n],r}function jr(e){let t,n,r=e[3].pri+"";return{c(){t=C("h4"),n=k(r),T(t,"text-align","center"),B(t,"class","svelte-12nht46")},m(e,r){v(e,t,r),g(t,n)},p(e,t){8&t&&r!==(r=e[3].pri+"")&&E(n,r)},d(e){e&&b(t)}}}function Ur(e){let n;return{c(){n=C("h4"),n.textContent="Waiting for other player",B(n,"class","blinking svelte-12nht46"),T(n,"text-align","center")},m(e,t){v(e,n,t)},p:t,d(e){e&&b(n)}}}function Hr(e){let t,n,r=e[3].sec+"";return{c(){t=C("h4"),n=k(r),T(t,"text-align","center"),B(t,"class","svelte-12nht46")},m(e,r){v(e,t,r),g(t,n)},p(e,t){8&t&&r!==(r=e[3].sec+"")&&E(n,r)},d(e){e&&b(t)}}}function zr(e){let t,n,r,s=e[16].msg+"";return{c(){t=C("article"),n=C("span"),r=k(s),B(n,"class","txtMsg svelte-12nht46"),B(t,"class","odaMsg svelte-12nht46")},m(e,s){v(e,t,s),g(t,n),g(n,r)},p(e,t){32&t&&s!==(s=e[16].msg+"")&&E(r,s)},d(e){e&&b(t)}}}function Gr(e){let t,n,r,s=e[16].msg+"";return{c(){t=C("article"),n=C("span"),r=k(s),B(n,"class","txtMsg svelte-12nht46"),B(t,"class","myMsg svelte-12nht46")},m(e,s){v(e,t,s),g(t,n),g(n,r)},p(e,t){32&t&&s!==(s=e[16].msg+"")&&E(r,s)},d(e){e&&b(t)}}}function Jr(e){let t;function n(e,t){return e[16].name==e[4].name?Gr:zr}let r=n(e),s=r(e);return{c(){s.c(),t=A()},m(e,n){s.m(e,n),v(e,t,n)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&b(t)}}}function Xr(e){let t,n;const r=new Dr({});return{c(){t=C("span"),ie(r.$$.fragment),B(t,"class","txtMsg svelte-12nht46"),B(t,"id","isTypingSpan")},m(e,s){v(e,t,s),ae(r,t,null),n=!0},i(e){n||(ne(r.$$.fragment,e),n=!0)},o(e){re(r.$$.fragment,e),n=!1},d(e){e&&b(t),ce(r)}}}function Yr(e){let t,n,r,s,i,a,c,l,u;function p(e,t){return e[3].pri==e[4].name&&null!=e[3].sec?Hr:null==e[3].sec||null==e[3].pri?Ur:jr}let h=p(e),d=h(e),f=e[5],m=[];for(let t=0;t<f.length;t+=1)m[t]=Jr(Lr(e,f,t));let y=e[2]&&Xr();return{c(){t=C("div"),d.c(),n=P(),r=C("div");for(let e=0;e<m.length;e+=1)m[e].c();s=P(),i=C("article"),y&&y.c(),a=P(),c=C("input"),B(i,"class","odaMsg svelte-12nht46"),B(i,"id","isTyping"),B(r,"class","scrollable svelte-12nht46"),B(c,"id","user-msg"),B(c,"placeholder","Type Here"),B(c,"class","svelte-12nht46"),B(t,"id","chat"),B(t,"class","container-fluid svelte-12nht46")},m(p,h,f){v(p,t,h),d.m(t,null),g(t,n),g(t,r);for(let e=0;e<m.length;e+=1)m[e].m(r,null);g(r,s),g(r,i),y&&y.m(i,null),e[13](r),g(t,a),g(t,c),$(c,e[1]),l=!0,f&&o(u),u=[S(c,"input",e[14]),S(c,"keyup",e[7]),S(c,"keydown",e[15])]},p(e,[o]){if(h===(h=p(e))&&d?d.p(e,o):(d.d(1),d=h(e),d&&(d.c(),d.m(t,n))),48&o){let t;for(f=e[5],t=0;t<f.length;t+=1){const n=Lr(e,f,t);m[t]?m[t].p(n,o):(m[t]=Jr(n),m[t].c(),m[t].m(r,s))}for(;t<m.length;t+=1)m[t].d(1);m.length=f.length}e[2]?y?4&o&&ne(y,1):(y=Xr(),y.c(),ne(y,1),y.m(i,null)):y&&(ee(),re(y,1,1,()=>{y=null}),te()),2&o&&c.value!==e[1]&&$(c,e[1])},i(e){l||(ne(y),l=!0)},o(e){re(y),l=!1},d(n){n&&b(t),d.d(),w(m,n),y&&y.d(),e[13](null),o(u)}}}function Wr(e,t,n){let r,s,o,i,a,c,u;l(e,Un,e=>n(3,r=e)),l(e,Rn,e=>n(4,s=e)),l(e,Hn,e=>n(5,o=e)),l(e,_n,e=>n(10,i=e));let p=!1;r.pri==s.name&&0==r.numMoves&&null==r.sec&&screen.width>=800&&o.push({name:"System",msg:"Please share Game Password '"+r.id+"' with other player"});let h=r.id,d={};var f;function m(){null==u&&""==u||(d.name=s.name,d.msg=u,d.room=h,i.emit("chat message",d),n(1,u=""))}f=()=>{c=a&&a.offsetHeight+a.scrollTop>a.scrollHeight-20},I().$$.before_update.push(f),function(e){I().$$.after_update.push(e)}(()=>{c&&a.scrollTo(0,a.scrollHeight)}),i.on("typing",e=>{n(2,p=!0)}),i.on("no-typing",e=>{n(2,p=!1)});return[a,u,p,r,s,o,m,function(){""==u?i.emit("no-typing",h):i.emit("typing",h)},c,d,i,void 0,h,function(e){L[e?"unshift":"push"](()=>{n(0,a=e)})},function(){u=this.value,n(1,u)},e=>13===e.which&&m()]}class Vr extends pe{constructor(e){super(),ue(this,e,Wr,Yr,a,{})}}function Kr(e,t,n){const r=e.slice();return r[40]=t[n],r}function Zr(e,t,n){const r=e.slice();return r[37]=t[n],r}function Qr(e){let t,n,r,s,o,i,a,c=e[2].id+"";return{c(){t=C("div"),n=C("h5"),r=k("Please share Game Password '"),s=k(c),o=k("' with other player"),T(n,"text-align","center"),T(n,"margin-top","50%"),B(t,"id","popUp"),B(t,"class","container-fluid svelte-12fbbq6")},m(e,i){v(e,t,i),g(t,n),g(n,r),g(n,s),g(n,o),a=!0},p(e,t){(!a||4&t[0])&&c!==(c=e[2].id+"")&&E(s,c)},i(e){a||(G(()=>{i||(i=oe(t,Xn,{y:-200,duration:1e3},!0)),i.run(1)}),a=!0)},o(e){i||(i=oe(t,Xn,{y:-200,duration:1e3},!1)),i.run(0),a=!1},d(e){e&&b(t),e&&i&&i.end()}}}function es(e){let t;return{c(){t=C("div"),B(t,"class","checker reda svelte-12fbbq6")},m(e,n){v(e,t,n)},d(e){e&&b(t)}}}function ts(e){let t;return{c(){t=C("div"),B(t,"class","checker blacka svelte-12fbbq6")},m(e,n){v(e,t,n)},d(e){e&&b(t)}}}function ns(e){let t,n=(e[37]%2!=0&&e[40]%2==0||e[37]%2==0&&e[40]%2!=0)&&function(e){let t,n,r,s;function o(...t){return e[34](e[37],e[40],...t)}return{c(){t=x("rect"),B(t,"width",e[1]),B(t,"height",e[1]),T(t,"fill","brown"),B(t,"x",n=e[40]*e[1]),B(t,"y",r=e[37]*e[1])},m(e,n,r){v(e,t,n),r&&s(),s=S(t,"click",o)},p(s,o){e=s,2&o[0]&&B(t,"width",e[1]),2&o[0]&&B(t,"height",e[1]),2&o[0]&&n!==(n=e[40]*e[1])&&B(t,"x",n),2&o[0]&&r!==(r=e[37]*e[1])&&B(t,"y",r)},d(e){e&&b(t),s()}}}(e);return{c(){n&&n.c(),t=A()},m(e,r){n&&n.m(e,r),v(e,t,r)},p(e,t){(e[37]%2!=0&&e[40]%2==0||e[37]%2==0&&e[40]%2!=0)&&n.p(e,t)},d(e){n&&n.d(e),e&&b(t)}}}function rs(e){let t,n,r,s,o,i,a,c,l,p,h;function d(...t){return e[33](e[37],e[40],...t)}return{c(){t=x("rect"),s=x("circle"),B(t,"width",e[1]),B(t,"height",e[1]),T(t,"fill","brown"),B(t,"x",n=e[40]*e[1]),B(t,"y",r=e[37]*e[1]),B(s,"class",o=u(e[4].getSide(e[37],e[40]))+" svelte-12fbbq6"),B(s,"id",i=e[4].getId(e[37],e[40])),B(s,"cx",a=e[5][e[4].getId(e[37],e[40])].y),B(s,"cy",c=e[5][e[4].getId(e[37],e[40])].x),B(s,"r",e[6]),B(s,"stroke","white"),B(s,"stroke-width",l=2*e[4].getPiece(e[37],e[40]).stack),B(s,"fill",p=e[4].getSide(e[37],e[40]))},m(e,n,r){v(e,t,n),v(e,s,n),r&&h(),h=S(s,"click",d)},p(h,d){e=h,2&d[0]&&B(t,"width",e[1]),2&d[0]&&B(t,"height",e[1]),2&d[0]&&n!==(n=e[40]*e[1])&&B(t,"x",n),2&d[0]&&r!==(r=e[37]*e[1])&&B(t,"y",r),16&d[0]&&o!==(o=u(e[4].getSide(e[37],e[40]))+" svelte-12fbbq6")&&B(s,"class",o),16&d[0]&&i!==(i=e[4].getId(e[37],e[40]))&&B(s,"id",i),48&d[0]&&a!==(a=e[5][e[4].getId(e[37],e[40])].y)&&B(s,"cx",a),48&d[0]&&c!==(c=e[5][e[4].getId(e[37],e[40])].x)&&B(s,"cy",c),64&d[0]&&B(s,"r",e[6]),16&d[0]&&l!==(l=2*e[4].getPiece(e[37],e[40]).stack)&&B(s,"stroke-width",l),16&d[0]&&p!==(p=e[4].getSide(e[37],e[40]))&&B(s,"fill",p)},d(e){e&&b(t),e&&b(s),h()}}}function ss(e){let t,n,r;function s(e,r){return(null==t||16&r[0])&&(t=!e[4].isEmpty(e[37],e[40])),t?rs:((null==n||16&r[0])&&(n=!!e[4].isEmpty(e[37],e[40])),n?ns:void 0)}let o=s(e,[-1]),i=o&&o(e);return{c(){i&&i.c(),r=A()},m(e,t){i&&i.m(e,t),v(e,r,t)},p(e,t){o===(o=s(e,t))&&i?i.p(e,t):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(r.parentNode,r)))},d(e){i&&i.d(e),e&&b(r)}}}function os(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=ss(Kr(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);v(e,t,n)},p(e,s){if(3698&s[0]){let o;for(n=e[9],o=0;o<n.length;o+=1){const i=Kr(e,n,o);r[o]?r[o].p(i,s):(r[o]=ss(i),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){w(r,e),e&&b(t)}}}function is(e){let t,n,r,s,i,a,c,l,u,p=e[2].rangeMoves+"";return{c(){t=C("div"),n=C("h2"),r=k("Game State at Move: "),s=k(p),i=P(),a=C("input"),B(n,"id","rangeBar"),B(n,"class","svelte-12fbbq6"),B(a,"class","custom-range svelte-12fbbq6"),a.disabled=c=!e[2].paused,B(a,"type","range"),B(a,"min","0"),B(a,"max",l=e[2].numMoves),B(a,"step","1"),B(t,"id","state"),B(t,"class","svelte-12fbbq6")},m(c,l,p){v(c,t,l),g(t,n),g(n,r),g(n,s),g(t,i),g(t,a),$(a,e[2].rangeMoves),p&&o(u),u=[S(a,"change",e[12]),S(a,"change",e[35]),S(a,"input",e[35])]},p(e,t){4&t[0]&&p!==(p=e[2].rangeMoves+"")&&E(s,p),4&t[0]&&c!==(c=!e[2].paused)&&(a.disabled=c),4&t[0]&&l!==(l=e[2].numMoves)&&B(a,"max",l),4&t[0]&&$(a,e[2].rangeMoves)},d(e){e&&b(t),o(u)}}}function as(e){let n,r,s;return{c(){n=C("button"),n.textContent="Start Game",r=k("\\"),B(n,"class","btn btn-success pause svelte-12fbbq6")},m(t,o,i){v(t,n,o),v(t,r,o),i&&s(),s=S(n,"click",e[14])},p:t,d(e){e&&b(n),e&&b(r),s()}}}function cs(e){let n,r,s,i;return{c(){n=C("button"),n.textContent="Switch Turn",r=P(),s=C("button"),s.textContent="Save Game",B(n,"class","btn btn-info switch svelte-12fbbq6"),B(s,"class","btn btn-primary save svelte-12fbbq6")},m(t,a,c){v(t,n,a),v(t,r,a),v(t,s,a),c&&o(i),i=[S(n,"click",e[13]),S(s,"click",e[36])]},p:t,d(e){e&&b(n),e&&b(r),e&&b(s),o(i)}}}function ls(e){let t,n,r,s,o,i,a,c,l,u,p,h,d,f,m,y,S,F,$,T=e[2].numMoves+"",N=e[2].pri==e[3].name&&null==e[2].sec&&e[7]<800&&0==e[2].numMoves&&Qr(e);function M(e,t){return"black"==e[2].currPlayer?ts:"red"==e[2].currPlayer?es:void 0}let _=M(e),R=_&&_(e),q=e[7]>800&&function(e){let t,n,r,s=e[2].timer+"";return{c(){t=C("h2"),n=k("Timer: "),r=k(s),B(t,"id","time"),B(t,"class","svelte-12fbbq6")},m(e,s){v(e,t,s),g(t,n),g(t,r)},p(e,t){4&t[0]&&s!==(s=e[2].timer+"")&&E(r,s)},d(e){e&&b(t)}}}(e),O=e[9],I=[];for(let t=0;t<O.length;t+=1)I[t]=os(Zr(e,O,t));let D=e[7]<=800&&function(e){let t,n,r,s=e[2].timer+"";return{c(){t=C("h1"),n=k("Timer: "),r=k(s),B(t,"id","time"),B(t,"class","svelte-12fbbq6")},m(e,s){v(e,t,s),g(t,n),g(t,r)},p(e,t){4&t[0]&&s!==(s=e[2].timer+"")&&E(r,s)},d(e){e&&b(t)}}}(e),L=e[2].finished&&is(e),j=e[2].paused&&e[2].side==e[2].currPlayer&&null!=e[2].pri&&null!=e[2].sec&&as(e),U=e[2].side==e[2].currPlayer&&e[2].numMoves>0&&cs(e);return{c(){N&&N.c(),t=P(),n=C("h2"),n.textContent="Current Player:",r=P(),R&&R.c(),s=P(),o=C("h2"),i=k("Moves: "),a=k(T),c=P(),q&&q.c(),l=P(),u=C("div"),p=x("svg");for(let e=0;e<I.length;e+=1)I[e].c();var e,g;h=x("use"),d=x("svg"),f=P(),D&&D.c(),m=P(),L&&L.c(),y=P(),j&&j.c(),S=P(),U&&U.c(),F=A(),B(n,"id","player"),B(n,"class","svelte-12fbbq6"),B(o,"id","moves"),B(o,"class","svelte-12fbbq6"),B(h,"id","use"),e="xlink:href",g="#24",h.setAttributeNS("http://www.w3.org/1999/xlink",e,g),B(p,"id","hover"),B(p,"class","svelte-12fbbq6"),B(u,"id","board"),B(u,"class","svelte-12fbbq6")},m(e,b){N&&N.m(e,b),v(e,t,b),v(e,n,b),v(e,r,b),R&&R.m(e,b),v(e,s,b),v(e,o,b),g(o,i),g(o,a),v(e,c,b),q&&q.m(e,b),v(e,l,b),v(e,u,b),g(u,p);for(let e=0;e<I.length;e+=1)I[e].m(p,null);g(p,h),g(p,d),v(e,f,b),D&&D.m(e,b),v(e,m,b),L&&L.m(e,b),v(e,y,b),j&&j.m(e,b),v(e,S,b),U&&U.m(e,b),v(e,F,b),$=!0},p(e,n){if(e[2].pri==e[3].name&&null==e[2].sec&&e[7]<800&&0==e[2].numMoves?N?(N.p(e,n),12&n[0]&&ne(N,1)):(N=Qr(e),N.c(),ne(N,1),N.m(t.parentNode,t)):N&&(ee(),re(N,1,1,()=>{N=null}),te()),_!==(_=M(e))&&(R&&R.d(1),R=_&&_(e),R&&(R.c(),R.m(s.parentNode,s))),(!$||4&n[0])&&T!==(T=e[2].numMoves+"")&&E(a,T),e[7]>800&&q.p(e,n),3698&n[0]){let t;for(O=e[9],t=0;t<O.length;t+=1){const r=Zr(e,O,t);I[t]?I[t].p(r,n):(I[t]=os(r),I[t].c(),I[t].m(p,h))}for(;t<I.length;t+=1)I[t].d(1);I.length=O.length}e[7]<=800&&D.p(e,n),e[2].finished?L?L.p(e,n):(L=is(e),L.c(),L.m(y.parentNode,y)):L&&(L.d(1),L=null),e[2].paused&&e[2].side==e[2].currPlayer&&null!=e[2].pri&&null!=e[2].sec?j?j.p(e,n):(j=as(e),j.c(),j.m(S.parentNode,S)):j&&(j.d(1),j=null),e[2].side==e[2].currPlayer&&e[2].numMoves>0?U?U.p(e,n):(U=cs(e),U.c(),U.m(F.parentNode,F)):U&&(U.d(1),U=null)},i(e){$||(ne(N),$=!0)},o(e){re(N),$=!1},d(e){N&&N.d(e),e&&b(t),e&&b(n),e&&b(r),R&&R.d(e),e&&b(s),e&&b(o),e&&b(c),q&&q.d(e),e&&b(l),e&&b(u),w(I,e),e&&b(f),D&&D.d(e),e&&b(m),L&&L.d(e),e&&b(y),j&&j.d(e),e&&b(S),U&&U.d(e),e&&b(F)}}}function us(e,n,r){let s,o,i,a,u,p,h,d,f=t,m=()=>(f(),f=c(g,e=>r(6,d=e)),g);l(e,Un,e=>r(2,s=e)),l(e,Rn,e=>r(3,o=e)),l(e,_n,e=>r(25,i=e)),l(e,Ln,e=>r(4,a=e)),l(e,jn,e=>r(26,u=e)),l(e,Hn,e=>r(27,p=e)),e.$$.on_destroy.push(()=>f()),s.pri==o.name&&null==s.currPlayer&&null==s.sec&&Un.update(e=>(e.currPlayer=0==Math.floor(2*Math.random())?"red":"black",e));let y,g,v=null,b=null,w=s.time,C=!1,x=screen.width;m();const k=Or([]);l(e,k,e=>r(5,h=e));let P,A,S,B,E=s.numMoves;i.emit("set-username",o.name),i.emit("join-room",s.id,o.name),screen.width<=800?(S=800/(screen.width-12.5),P=Math.floor((screen.width-10)/8),screen.width>=500?m(g=Or(25)):m(g=Or(12.5)),A=8*P,y=screen.width):(screen.height>=800?(S=1,m(g=Or(30)),P=100):(P=10*Math.floor(screen.height/100),S=1e3/(10*P),m(g=Or(25))),A=8*P,y=.8*(screen.width-800),B=.2*(screen.width-800)-40),i.on("piece-move",async e=>{if(console.log(e),null!=e.remove){let t=await a.getPieceFromId(e.id);await a.removePiece(t)}let t=await a.getPieceFromId(e.id);await a.otherPlayerMove(t,e.xDiff,e.yDiff),await Ln.set(a),u.push(a.saveBoardState()),await M(),await Un.update(t=>(t.numMoves=e.num,t.rangeMoves=e.range,t))}),document.documentElement.style.setProperty("--chat-width",y+"px"),document.documentElement.style.setProperty("--board-height",A+"px"),document.documentElement.style.setProperty("--btn-width",B+"px"),M();let $=setInterval(T,1e3);function T(){null!=v&&q(v),s.rangeMoves==s.numMoves&&0==s.paused&&(s.timer>0?Un.update(e=>(e.timer-=1,e.secondsPlayed+=1,e)):(clearInterval($),Un.update(e=>(e.currPlayer="red"==e.currPlayer?"black":"red",e.timer=e.time,e.secondsPlayed+=1,e)),v=null,b=null,C=!1,$=setInterval(T,1e3)))}function N(e){let t=e.xPos,n=e.yPos,r=a.getId(t,n);k.update(e=>(e[r].x=(t+t+1)*(50/S),e[r].y=(n+n+1)*(50/S),e))}function M(){for(let e=0;e<8;e++)for(let t=0;t<8;t++)if(!a.isEmpty(e,t)){let n=a.getId(e,t);k.update(r=>(r[n]={},r[n].x=(e+e+1)*(50/S),r[n].y=(t+t+1)*(50/S),r))}}function _(e,t,n){if(console.log(e+", "+t),s.currPlayer==s.side&&0==C&&s.rangeMoves==s.numMoves&&0==s.paused&&null!=s.sec){let r,i,c=document.getElementById(a.getId(e,t));if("black"==a.getSide(e,t)&&o.name==s.sec){for(r=document.getElementsByClassName("black"),i=0;i<r.length;++i)r[i].setAttribute("style","fill:black");c.setAttribute("style","fill:grey")}if("red"==a.getSide(e,t)&&o.name==s.pri){for(r=document.getElementsByClassName("red"),i=0;i<r.length;++i)r[i].setAttribute("style","fill:red");c.setAttribute("style","fill:pink")}let l=n.target||event.target;document.getElementById("use").setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+l.id),v=a.getPiece(e,t)}}function R(e,t){if(console.log(e+", "+t),a.isEmpty(e,t)&&null!=v&&s.rangeMoves==s.numMoves){b=new Tn(e,t,"E");let n=a.doMove(v,b);if(console.log(n.move),Ln.set(a),console.log(a),n.move){Un.update(e=>(e.numMoves+=1,e.rangeMoves+=1,e)),C=!0;let r={id:a.getId(e,t),xDiff:v.getPosition().xPos-b.xPos,yDiff:v.getPosition().yPos-b.yPos,remove:n.id,num:s.numMoves,range:s.rangeMoves,room:s.id};i.emit("piece-move",r),N(b),u.push(a.saveBoardState()),v=a.getPiece(b.xPos,b.yPos)}}}function q(e){let t=e.getPosition().xPos,n=e.getPosition().yPos,r=document.getElementById(a.getId(t,n));"black"==a.getSide(t,n)&&r.setAttribute("style","fill:grey"),"red"==a.getSide(t,n)&&r.setAttribute("style","fill:pink")}function O(e){if(s.side==s.currPlayer&&s.numMoves>0){clearInterval($);let t={func:"saveGame",gameID:s.id,gameHistory:JSON.stringify(u),chatHistory:JSON.stringify(p),pri:s.pri==o.name,sec:s.sec==o.name,minutes:Math.floor(s.secondsPlayed/60),currPlayer:s.currPlayer,auto:e,saved:!1};e?$=setInterval(T,1e3):(i.emit("saveGame",t),qn.set(0))}}setInterval((function(){s.numMoves>E&&(O(!0),E=s.numMoves)}),3e5);return[g,P,s,o,a,h,d,x,k,[0,1,2,3,4,5,6,7],_,R,function(){Ln.set(new Mn(u[s.rangeMoves],null)),M()},function(){if(s.side==s.currPlayer){let e,t;if(clearInterval($),"black"==s.currPlayer)for(e=document.getElementsByClassName("black"),t=0;t<e.length;++t)e[t].setAttribute("style","fill:black");if("red"==s.currPlayer)for(e=document.getElementsByClassName("red"),t=0;t<e.length;++t)e[t].setAttribute("style","fill:red");Un.update(e=>(e.currPlayer="red"==e.currPlayer?"black":"red",e.timer=w,e)),i.emit("current-player",{player:s.currPlayer,room:s.id}),v=null,b=null,C=!1,$=setInterval(T,1e3)}},function(){s.side==s.currPlayer&&(Un.update(e=>(e.paused=!e.paused,e)),i.emit("paused",{paused:s.paused,room:s.id}))},O,v,b,C,y,A,S,B,E,$,i,u,p,w,T,N,M,q,(e,t)=>_(e,t,event),(e,t)=>R(e,t),function(){s.rangeMoves=F(this.value),Un.set(s)},()=>O(!1)]}class ps extends pe{constructor(e){super(),ue(this,e,us,ls,a,{},[-1,-1])}}function hs(e){let n,r,s,i,a,c,l;return{c(){n=C("div"),r=C("table"),s=C("tr"),i=C("td"),i.innerHTML='<i class="fa fa-qrcode svelte-nu81iu"></i> \n                <span class="svelte-nu81iu">Game</span>',a=P(),c=C("td"),c.innerHTML='<i class="fa fa-comments svelte-nu81iu"></i> \n                <span class="svelte-nu81iu">Chat</span>',B(i,"class","tabIndex"),B(i,"align","center"),B(c,"class","tabIndex"),B(c,"align","center"),B(s,"height","50"),B(r,"id","sidebar-inner-mob"),B(r,"cellpadding","10"),B(r,"class","svelte-nu81iu"),B(n,"id","sidebar-outer-mob"),B(n,"class","svelte-nu81iu")},m(t,u,p){v(t,n,u),g(n,r),g(r,s),g(s,i),g(s,a),g(s,c),p&&o(l),l=[S(i,"click",e[1]),S(c,"click",e[2])]},p:t,i:t,o:t,d(e){e&&b(n),o(l)}}}function ds(e){function t(e){On.set(e)}return[t,()=>t(0),()=>t(1)]}class fs extends pe{constructor(e){super(),ue(this,e,ds,hs,a,{})}}function ms(e,t,n){let r,s,o,i,a;return l(e,_n,e=>n(0,r=e)),l(e,Un,e=>n(1,s=e)),l(e,Rn,e=>n(2,o=e)),l(e,Hn,e=>n(3,i=e)),l(e,jn,e=>n(4,a=e)),r.on("chat message",e=>{console.log("Received: "+e.msg),Hn.update(t=>(t.push(e),t))}),r.on("second-user",e=>{null==s.sec&&null!=s.currPlayer&&(console.log("Received second player"),Un.update(t=>(t.sec=e,t)),r.emit("current-player",{player:s.currPlayer,room:s.id}),r.emit("first-user",{room:s.id,name:o.name}),screen.width<800?On.set(0):i[0].msg.includes(s.id)&&Hn.set([]))}),r.on("first-user",e=>{null==s.pri&&null!=s.currPlayer&&(console.log("Received first player"),Un.update(t=>(t.pri=e,t)),r.emit("current-player",{player:s.currPlayer,room:s.id}),screen.width<800?On.set(0):i[0].msg.includes(s.id)&&Hn.set([]))}),r.on("current-player",e=>{console.log("Received current player"),Un.update(t=>(t.timer=t.time,t.currPlayer=e,t)),console.log(s.currPlayer)}),r.on("paused",e=>{Un.update(t=>(t.paused=e,t))}),r.on("saveGame",e=>{let t={func:"saveGame",gameID:s.id,gameHistory:JSON.stringify(a),chatHistory:JSON.stringify(i),pri:s.pri==o.name,sec:s.sec==o.name,minutes:Math.floor(s.secondsPlayed/60),currPlayer:s.currPlayer,auto:e.auto,saved:!0};r.emit("saveGame",t),e.auto||qn.set(0)}),[]}class ys extends pe{constructor(e){super(),ue(this,e,ms,null,a,{})}}function gs(e){let t;const n=new Vr({});return{c(){ie(n.$$.fragment)},m(e,r){ae(n,e,r),t=!0},i(e){t||(ne(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function vs(e){let t;const n=new ps({});return{c(){ie(n.$$.fragment)},m(e,r){ae(n,e,r),t=!0},i(e){t||(ne(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function bs(e){let t,n,r,s;const o=new ys({});let i=e[1]>800&&function(e){let t,n;const r=new ps({}),s=new Vr({});return{c(){ie(r.$$.fragment),t=P(),ie(s.$$.fragment)},m(e,o){ae(r,e,o),v(e,t,o),ae(s,e,o),n=!0},i(e){n||(ne(r.$$.fragment,e),ne(s.$$.fragment,e),n=!0)},o(e){re(r.$$.fragment,e),re(s.$$.fragment,e),n=!1},d(e){ce(r,e),e&&b(t),ce(s,e)}}}(),a=e[1]<=800&&function(e){let t,n,r,s;const o=[vs,gs],i=[];function a(e,t){return 0==e[0]?0:1==e[0]?1:-1}~(t=a(e))&&(n=i[t]=o[t](e));const c=new fs({});return{c(){n&&n.c(),r=P(),ie(c.$$.fragment)},m(e,n){~t&&i[t].m(e,n),v(e,r,n),ae(c,e,n),s=!0},p(e,s){let c=t;t=a(e),t!==c&&(n&&(ee(),re(i[c],1,1,()=>{i[c]=null}),te()),~t?(n=i[t],n||(n=i[t]=o[t](e),n.c()),ne(n,1),n.m(r.parentNode,r)):n=null)},i(e){s||(ne(n),ne(c.$$.fragment,e),s=!0)},o(e){re(n),re(c.$$.fragment,e),s=!1},d(e){~t&&i[t].d(e),e&&b(r),ce(c,e)}}}(e);return{c(){ie(o.$$.fragment),t=P(),i&&i.c(),n=P(),a&&a.c(),r=A()},m(e,c){ae(o,e,c),v(e,t,c),i&&i.m(e,c),v(e,n,c),a&&a.m(e,c),v(e,r,c),s=!0},p(e,[t]){e[1]<=800&&a.p(e,t)},i(e){s||(ne(o.$$.fragment,e),ne(i),ne(a),s=!0)},o(e){re(o.$$.fragment,e),re(i),re(a),s=!1},d(e){ce(o,e),e&&b(t),i&&i.d(e),e&&b(n),a&&a.d(e),e&&b(r)}}}function ws(e,t,n){let r;l(e,On,e=>n(0,r=e));let s=screen.width;return[r,s]}class Cs extends pe{constructor(e){super(),ue(this,e,ws,bs,a,{})}}class xs{constructor(e){this.isAuth=!0,this.name=e.name,this.email=e.email,this.picture=null==e.picture?"https://source.unsplash.com/900x900/":e.picture,this.wins=e.wins,this.draws=e.draws,this.losses=e.losses,this.gamesPlayed=e.gamesPlayed,this.leastMoves=e.leastMoves,this.mostMoves=e.mostMoves,this.totalMoves=e.totalMoves,this.avgMovesPerGame=e.avgMovesPerGame,this.leastTimePlayed=e.leastTimePlayed,this.mostTimePlayed=e.mostTimePlayed,this.totalTimePlayed=e.totalTimePlayed,this.avgTimePlayPerGame=e.avgTimePlayPerGame,this.totalPoints=e.totalPoints,this.position=null}}function ks(e){let t,n;return{c(){t=C("h6"),n=k(e[9]),T(t,"text-align","center"),T(t,"color","red"),T(t,"margin-top","20px")},m(e,r){v(e,t,r),g(t,n)},p(e,t){512&t&&E(n,e[9])},d(e){e&&b(t)}}}function Ps(e){let t,n,r,s,i,a,c;function l(e,t){return e[7]?Bs:Fs}let u=l(e),p=u(e);return{c(){t=C("div"),n=C("input"),r=P(),p.c(),s=P(),i=C("br"),a=C("a"),a.textContent="Back To Login",B(n,"id","Email"),B(n,"type","text"),B(n,"placeholder","Email"),n.required=!0,B(n,"class","svelte-1xdehv5"),B(a,"id","forgotPassword"),B(a,"class","svelte-1xdehv5"),B(t,"id","signup-div")},m(l,u,h){v(l,t,u),g(t,n),$(n,e[4]),g(t,r),p.m(t,null),g(t,s),g(t,i),g(t,a),h&&o(c),c=[S(n,"input",e[28]),S(a,"click",e[29])]},p(e,r){16&r&&n.value!==e[4]&&$(n,e[4]),u===(u=l(e))&&p?p.p(e,r):(p.d(1),p=u(e),p&&(p.c(),p.m(t,s)))},d(e){e&&b(t),p.d(),o(c)}}}function As(e){let t,n,r,s,i,a,c,l,u,p,h,d,f,m,y,w,x,A;function F(e,t){return e[7]?Es:$s}let E=F(e),N=E(e);return{c(){t=C("div"),n=C("input"),r=P(),s=C("input"),i=P(),a=C("input"),c=P(),l=C("input"),u=P(),N.c(),p=P(),h=C("hr"),d=P(),f=C("div"),m=C("h5"),y=k("Already have an Account? "),w=C("br"),x=C("button"),x.textContent="Sign In",B(n,"id","Name"),B(n,"type","text"),B(n,"placeholder","Display Name"),n.required=!0,B(n,"class","svelte-1xdehv5"),B(s,"id","Email"),B(s,"type","text"),B(s,"placeholder","Email"),s.required=!0,B(s,"class","svelte-1xdehv5"),B(a,"id","Password"),B(a,"type","password"),B(a,"placeholder","Password"),a.required=!0,B(a,"class","svelte-1xdehv5"),B(l,"id","confirmPassword"),B(l,"type","password"),B(l,"placeholder","Confirm Password"),l.required=!0,B(l,"class","svelte-1xdehv5"),B(t,"id","signup-div"),T(h,"border","1px solid green"),B(x,"class","login-signup svelte-1xdehv5"),B(m,"class","svelte-1xdehv5"),B(f,"class","no-cred-sign-signup svelte-1xdehv5")},m(b,C,k){v(b,t,C),g(t,n),$(n,e[1]),g(t,r),g(t,s),$(s,e[0]),g(t,i),g(t,a),$(a,e[2]),g(t,c),g(t,l),$(l,e[3]),g(t,u),N.m(t,null),v(b,p,C),v(b,h,C),v(b,d,C),v(b,f,C),g(f,m),g(m,y),g(m,w),g(m,x),k&&o(A),A=[S(n,"input",e[22]),S(s,"input",e[23]),S(a,"input",e[24]),S(l,"input",e[25]),S(l,"keyup",e[11]),S(l,"keydown",e[26]),S(x,"click",e[27])]},p(e,r){2&r&&n.value!==e[1]&&$(n,e[1]),1&r&&s.value!==e[0]&&$(s,e[0]),4&r&&a.value!==e[2]&&$(a,e[2]),8&r&&l.value!==e[3]&&$(l,e[3]),E===(E=F(e))&&N?N.p(e,r):(N.d(1),N=E(e),N&&(N.c(),N.m(t,null)))},d(e){e&&b(t),N.d(),e&&b(p),e&&b(h),e&&b(d),e&&b(f),o(A)}}}function Ss(e){let t,n,r,s,i,a,c,l,u,p,h,d,f,m,y,w,x,A,F;function E(e,t){return e[7]?Ts:Ns}let N=E(e),M=N(e);return{c(){t=C("div"),n=C("input"),r=C("br"),s=P(),i=C("input"),a=C("br"),c=P(),l=C("br"),u=C("a"),u.textContent="Forgot Password?",p=P(),M.c(),h=P(),d=C("hr"),f=P(),m=C("div"),y=C("h5"),w=k("Don't have an Account? "),x=C("br"),A=C("button"),A.textContent="Sign Up",B(n,"id","logEmail"),B(n,"type","text"),B(n,"placeholder","Email"),n.required=!0,B(n,"class","svelte-1xdehv5"),B(i,"id","logPassword"),B(i,"type","password"),B(i,"placeholder","Password"),i.required=!0,B(i,"class","svelte-1xdehv5"),B(u,"id","forgotPassword"),B(u,"class","svelte-1xdehv5"),B(t,"id","login-div"),T(d,"border","1px solid green"),B(A,"class","login-signup svelte-1xdehv5"),B(A,"id","signupBtn"),B(y,"class","svelte-1xdehv5"),B(m,"class","no-cred-sign-signup svelte-1xdehv5"),B(m,"id","no-Acct-signup")},m(b,C,k){v(b,t,C),g(t,n),$(n,e[4]),g(t,r),g(t,s),g(t,i),$(i,e[5]),g(t,a),g(t,c),g(t,l),g(t,u),g(t,p),M.m(t,null),v(b,h,C),v(b,d,C),v(b,f,C),v(b,m,C),g(m,y),g(y,w),g(y,x),g(y,A),k&&o(F),F=[S(n,"input",e[17]),S(i,"input",e[18]),S(i,"keydown",e[19]),S(u,"click",e[20]),S(A,"click",e[21])]},p(e,r){16&r&&n.value!==e[4]&&$(n,e[4]),32&r&&i.value!==e[5]&&$(i,e[5]),N===(N=E(e))&&M?M.p(e,r):(M.d(1),M=N(e),M&&(M.c(),M.m(t,null)))},d(e){e&&b(t),M.d(),e&&b(h),e&&b(d),e&&b(f),e&&b(m),o(F)}}}function Bs(e){let n;return{c(){n=C("div"),n.innerHTML='<div class="loader svelte-1xdehv5"></div>',B(n,"id","signup-loader"),B(n,"class","loader-container svelte-1xdehv5")},m(e,t){v(e,n,t)},p:t,d(e){e&&b(n)}}}function Fs(e){let n,r,s;return{c(){n=C("br"),r=C("button"),r.textContent="Reset Password",B(r,"class","btn btn-success svelte-1xdehv5"),T(r,"margin-bottom","30px"),B(r,"type","submit")},m(t,o,i){v(t,n,o),v(t,r,o),i&&s(),s=S(r,"click",e[13])},p:t,d(e){e&&b(n),e&&b(r),s()}}}function Es(e){let n;return{c(){n=C("div"),n.innerHTML='<div class="loader svelte-1xdehv5"></div>',B(n,"id","signup-loader"),B(n,"class","loader-container svelte-1xdehv5")},m(e,t){v(e,n,t)},p:t,d(e){e&&b(n)}}}function $s(e){let n,r,s;return{c(){n=C("br"),r=C("button"),r.textContent="Sign Up",B(r,"class","btn btn-success svelte-1xdehv5"),B(r,"type","submit")},m(t,o,i){v(t,n,o),v(t,r,o),i&&s(),s=S(r,"click",e[10])},p:t,d(e){e&&b(n),e&&b(r),s()}}}function Ts(e){let n;return{c(){n=C("div"),n.innerHTML='<div class="loader svelte-1xdehv5"></div>',B(n,"id","signin-loader"),B(n,"class","loader-container svelte-1xdehv5")},m(e,t){v(e,n,t)},p:t,d(e){e&&b(n)}}}function Ns(e){let n,r,s;return{c(){n=C("h5"),r=C("button"),r.textContent="Log In",B(r,"class","btn btn-success svelte-1xdehv5"),B(r,"type","submit"),B(n,"class","svelte-1xdehv5")},m(t,o,i){v(t,n,o),g(n,r),i&&s(),s=S(r,"click",e[12])},p:t,d(e){e&&b(n),s()}}}function Ms(e){let n,r,s,o,i,a,c,l=e[8]&&ks(e);function u(e,t){return 1==e[6]?Ss:0==e[6]?As:null==e[6]?Ps:void 0}let p=u(e),h=p&&p(e);return{c(){n=C("div"),r=C("h3"),r.textContent="Checkas.io",s=P(),l&&l.c(),o=P(),h&&h.c(),i=P(),a=C("img"),B(r,"class","svelte-1xdehv5"),B(n,"id","entry"),B(n,"class","container svelte-1xdehv5"),B(a,"id","back-image"),B(a,"alt","checker"),a.src!==(c="./images/checkers.jpg")&&B(a,"src","./images/checkers.jpg"),B(a,"class","svelte-1xdehv5")},m(e,t){v(e,n,t),g(n,r),g(n,s),l&&l.m(n,null),g(n,o),h&&h.m(n,null),v(e,i,t),v(e,a,t)},p(e,[t]){e[8]?l?l.p(e,t):(l=ks(e),l.c(),l.m(n,o)):l&&(l.d(1),l=null),p===(p=u(e))&&h?h.p(e,t):(h&&h.d(1),h=p&&p(e),h&&(h.c(),h.m(n,null)))},i:t,o:t,d(e){e&&b(n),l&&l.d(),h&&h.d(),e&&b(i),e&&b(a)}}}function _s(e,t,n){let r,s,o,i,a,c,l,u,p=!0,h=!1,d=!1;function f(){null!=r&&null!=s&&null!=o&&null!=i&&o==i?(n(7,h=!0),l={func:"signUp",email:r,name:s,password:o},console.log("Sending sign up request"),zn(l).then(e=>{console.log(e),"SUCCESS"==e.msg?(l.func="createUser",m(),n(7,h=!1)):"EXIST"==e.msg?(n(9,u="Display Name Already Exist"),n(8,d=!0),n(7,h=!1)):(n(9,u=e.err),n(8,d=!0),n(7,h=!1))}).catch(e=>{n(9,u=e),n(8,d=!0),n(7,h=!1)})):(n(9,u="All Fields Are Required"),n(8,d=!0),n(7,h=!1))}function m(){zn(l).then(e=>{console.log(e),"SUCCESS"==e.msg?(n(9,u="Please Check Your Email For Verification"),n(8,d=!0)):(n(9,u=e.err),n(8,d=!0),n(7,h=!1))}).catch(e=>{n(9,u=e),n(8,d=!0),n(7,h=!1)})}function y(){null!=a&&null!=c?(n(7,h=!0),l={func:"signIn",email:a,password:c},zn(l).then(e=>{null!=e.msg&&e.msg?(l.func="retrieveUser",g()):null==e.msg||e.msg?(n(9,u=e.err),n(8,d=!0),n(7,h=!1)):(n(9,u="Please Verify Your Email"),n(8,d=!0),n(7,h=!1))}).catch(e=>{n(9,u=e),n(8,d=!0),n(7,h=!1)})):(n(9,u="All Fields Are Required"),n(8,d=!0),n(7,h=!1))}function g(){zn(l).then(e=>{if(null!=e.msg){let t=e.msg;t.email=a,Rn.set(new xs(t)),n(7,h=!1),n(0,r=""),n(1,s=""),n(2,o=""),n(3,i=""),n(4,a=""),n(5,c="")}else n(9,u=e.err),n(8,d=!0),n(7,h=!1)}).catch(e=>{n(9,u=e),n(8,d=!0),n(7,h=!1)})}return[r,s,o,i,a,c,p,h,d,u,f,function(){null!=o&&i.length>=o.length&&i!=o?(n(9,u="Passwords Do Not Match!"),n(8,d=!0)):n(8,d=!1)},y,function(){null!=a||""!=a?(l={func:"forgotPassword",email:a},zn(l).then(e=>{"SUCCESS"==e.msg?(n(9,u="Please Check Your Email For Password Reset"),n(8,d=!0),n(7,h=!1)):(n(9,u=e.err),n(8,d=!0),n(7,h=!1))}).catch(e=>{n(9,u=e),n(8,d=!0),n(7,h=!1)})):(n(9,u="Please Fill All Required Fields!"),n(8,d=!0),n(7,h=!1))},l,m,g,function(){a=this.value,n(4,a)},function(){c=this.value,n(5,c)},e=>13===e.which&&y(),()=>n(6,p=null),()=>n(6,p=!p),function(){s=this.value,n(1,s)},function(){r=this.value,n(0,r)},function(){o=this.value,n(2,o)},function(){i=this.value,n(3,i)},e=>13===e.which&&f(),()=>n(6,p=!p),function(){a=this.value,n(4,a)},()=>n(6,p=!0)]}class Rs extends pe{constructor(e){super(),ue(this,e,_s,Ms,a,{})}}function qs(e){let n;const r=new Rs({});return{c(){ie(r.$$.fragment)},m(e,t){ae(r,e,t),n=!0},p:t,i(e){n||(ne(r.$$.fragment,e),n=!0)},o(e){re(r.$$.fragment,e),n=!1},d(e){ce(r,e)}}}function Os(e){let t,n,r,s=0==e[1]&&Is(),o=1==e[1]&&Ds();return{c(){s&&s.c(),t=P(),o&&o.c(),n=A()},m(e,i){s&&s.m(e,i),v(e,t,i),o&&o.m(e,i),v(e,n,i),r=!0},p(e,r){0==e[1]?s?2&r&&ne(s,1):(s=Is(),s.c(),ne(s,1),s.m(t.parentNode,t)):s&&(ee(),re(s,1,1,()=>{s=null}),te()),1==e[1]?o?2&r&&ne(o,1):(o=Ds(),o.c(),ne(o,1),o.m(n.parentNode,n)):o&&(ee(),re(o,1,1,()=>{o=null}),te())},i(e){r||(ne(s),ne(o),r=!0)},o(e){re(s),re(o),r=!1},d(e){s&&s.d(e),e&&b(t),o&&o.d(e),e&&b(n)}}}function Is(e){let t;const n=new Rr({});return{c(){ie(n.$$.fragment)},m(e,r){ae(n,e,r),t=!0},i(e){t||(ne(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Ds(e){let t;const n=new Cs({});return{c(){ie(n.$$.fragment)},m(e,r){ae(n,e,r),t=!0},i(e){t||(ne(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Ls(e){let t,n,r,s;const o=[Os,qs],i=[];function a(e,t){return null!=e[0]&&e[0].isAuth?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),r=A()},m(e,n){i[t].m(e,n),v(e,r,n),s=!0},p(e,[s]){let c=t;t=a(e),t===c?i[t].p(e,s):(ee(),re(i[c],1,1,()=>{i[c]=null}),te(),n=i[t],n||(n=i[t]=o[t](e),n.c()),ne(n,1),n.m(r.parentNode,r))},i(e){s||(ne(n),s=!0)},o(e){re(n),s=!1},d(e){i[t].d(e),e&&b(r)}}}function js(e,t,n){let r,s;return l(e,Rn,e=>n(0,r=e)),l(e,qn,e=>n(1,s=e)),[r,s]}return new class extends pe{constructor(e){super(),ue(this,e,js,Ls,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
