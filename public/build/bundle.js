var app=function(){"use strict";function t(){}const n=e=>e;function s(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(s)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function l(e,t,n){e.$$.on_destroy.push(c(t,n))}function u(e){return null==e?"":e}const p="undefined"!=typeof window;let d=p?()=>window.performance.now():()=>Date.now(),h=p?e=>requestAnimationFrame(e):t;const f=new Set;function m(e){f.forEach(t=>{t.c(e)||(f.delete(t),t.f())}),0!==f.size&&h(m)}function g(e){let t;return 0===f.size&&h(m),{promise:new Promise(n=>{f.add(t={c:e,f:n})}),abort(){f.delete(t)}}}function y(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function x(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function P(){return k(" ")}function $(){return k("")}function A(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function B(e){return""===e?void 0:+e}function F(e,t){t=""+t,e.data!==t&&(e.data=t)}function M(e,t){(null!=t||e.value)&&(e.value=t)}function N(e,t,n,s){e.style.setProperty(t,n,s?"important":"")}const T=new Set;let q,R=0;function I(e,t,n,s,r,o,i,a=0){const c=16.666/s;let l="{\n";for(let e=0;e<=1;e+=c){const s=t+(n-t)*o(e);l+=100*e+`%{${i(s,1-s)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,p=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,d=e.ownerDocument;T.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(C("style")).sheet),f=d.__svelte_rules||(d.__svelte_rules={});f[p]||(f[p]=!0,h.insertRule(`@keyframes ${p} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${p} ${s}ms linear ${r}ms 1 both`,R+=1,p}function _(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-s.length;r&&(e.style.animation=s.join(", "),R-=r,R||h(()=>{R||(T.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),T.clear())}))}function D(e){q=e}function O(){if(!q)throw new Error("Function called outside component initialization");return q}const U=[],L=[],j=[],H=[],G=Promise.resolve();let z=!1;function Y(e){j.push(e)}let X=!1;const J=new Set;function W(){if(!X){X=!0;do{for(let e=0;e<U.length;e+=1){const t=U[e];D(t),V(t.$$)}for(U.length=0;L.length;)L.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];J.has(t)||(J.add(t),t())}j.length=0}while(U.length);for(;H.length;)H.pop()();z=!1,X=!1,J.clear()}}function V(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}let K;function Z(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const Q=new Set;let ee;function te(){ee={r:0,c:[],p:ee}}function ne(){ee.r||o(ee.c),ee=ee.p}function se(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function re(e,t,n,s){if(e&&e.o){if(Q.has(e))return;Q.add(e),ee.c.push(()=>{Q.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}const oe={duration:0};function ie(e,s,r,a){let c=s(e,r),l=a?0:1,u=null,p=null,h=null;function f(){h&&_(e,h)}function m(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(s){const{delay:r=0,duration:i=300,easing:a=n,tick:y=t,css:v}=c||oe,b={start:d()+r,b:s};s||(b.group=ee,ee.r+=1),u?p=b:(v&&(f(),h=I(e,l,s,i,r,a,v)),s&&y(0,1),u=m(b,i),Y(()=>Z(e,s,"start")),g(t=>{if(p&&t>p.start&&(u=m(p,i),p=null,Z(e,u.b,"start"),v&&(f(),h=I(e,l,u.b,u.duration,0,a,c.css))),u)if(t>=u.end)y(l=u.b,1-l),Z(e,u.b,"end"),p||(u.b?f():--u.group.r||o(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;l=u.a+u.d*a(e/u.duration),y(l,1-l)}return!(!u&&!p)}))}return{run(e){i(c)?(K||(K=Promise.resolve(),K.then(()=>{K=null})),K).then(()=>{c=c(),y(e)}):y(e)},end(){f(),u=p=null}}}function ae(e){e&&e.c()}function ce(e,t,n){const{fragment:r,on_mount:a,on_destroy:c,after_update:l}=e.$$;r&&r.m(t,n),Y(()=>{const t=a.map(s).filter(i);c?c.push(...t):o(t),e.$$.on_mount=[]}),l.forEach(Y)}function le(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ue(e,t){-1===e.$$.dirty[0]&&(U.push(e),z||(z=!0,G.then(W)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pe(e,n,s,i,a,c,l=[-1]){const u=q;D(e);const p=n.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:l};let h=!1;if(d.ctx=s?s(e,p,(t,n,...s)=>{const r=s.length?s[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),h&&ue(e,t)),n}):[],d.update(),h=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(b)}else d.fragment&&d.fragment.c();n.intro&&se(e.$$.fragment),ce(e,n.target,n.anchor),W()}D(u)}class de{$destroy(){le(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}class he{constructor(e,t,n){this.xPos=e,this.yPos=t,this.isEmpty="E"==n}}class fe{constructor(e,t,n,s,r){this.id=s,this.positon=new he(e,t,n),this.side=n,this.stack=null!=r?r:1}getPosition(){return this.positon}setPosition(e,t){this.positon=new he(e,t,null)}incrementStack(){this.stack=2}}const me=[];function ge(e,n=t){let s;const r=[];function o(t){if(a(e,t)&&(e=t,s)){const t=!me.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),me.push(n,e)}if(t){for(let e=0;e<me.length;e+=2)me[e][0](me[e+1]);me.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,a=t){const c=[i,a];return r.push(c),1===r.length&&(s=n(o)||t),i(e),()=>{const e=r.indexOf(c);-1!==e&&r.splice(e,1),0===r.length&&(s(),s=null)}}}}function ye(e,t){return e(t={exports:{}},t.exports),t.exports}var ve=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,be=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],we=function(e){var t=e,n=e.indexOf("["),s=e.indexOf("]");-1!=n&&-1!=s&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));for(var r=ve.exec(e||""),o={},i=14;i--;)o[be[i]]=r[i]||"";return-1!=n&&-1!=s&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},Ce=1e3,xe=6e4,ke=60*xe,Pe=24*ke,$e=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*Pe;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ke;case"minutes":case"minute":case"mins":case"min":case"m":return n*xe;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ce;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Pe)return Ae(e,t,Pe,"day");if(t>=ke)return Ae(e,t,ke,"hour");if(t>=xe)return Ae(e,t,xe,"minute");if(t>=Ce)return Ae(e,t,Ce,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Pe)return Math.round(e/Pe)+"d";if(t>=ke)return Math.round(e/ke)+"h";if(t>=xe)return Math.round(e/xe)+"m";if(t>=Ce)return Math.round(e/Ce)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Ae(e,t,n,s){var r=t>=1.5*n;return Math.round(e/n)+" "+s+(r?"s":"")}var Ee=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let o;function i(...e){if(!i.enabled)return;const t=i,s=Number(new Date),r=s-(o||s);t.diff=r,t.prev=o,t.curr=s,o=s,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(s,r)=>{if("%%"===s)return s;a++;const o=n.formatters[r];if("function"==typeof o){const n=e[a];s=o.call(t,n),e.splice(a,1),a--}return s}),n.formatArgs.call(t,e);(t.log||n.log).apply(t,e)}return i.namespace=e,i.enabled=n.enabled(e),i.useColors=n.useColors(),i.color=t(e),i.destroy=s,i.extend=r,"function"==typeof n.init&&n.init(i),n.instances.push(i),i}function s(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function r(e,t){const s=n(this.namespace+(void 0===t?":":t)+e);return s.log=this.log,s}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(t=0;t<r;t++)s[t]&&("-"===(e=s[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,s;for(t=0,s=n.skips.length;t<s;t++)if(n.skips[t].test(e))return!1;for(t=0,s=n.names.length;t<s;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=$e,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},Se=ye((function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let s=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(s++,"%c"===e&&(r=s))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=Ee(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Be=(Se.log,Se.formatArgs,Se.save,Se.load,Se.useColors,Se.storage,Se.colors,Se("socket.io-client:url")),Fe=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(Be("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),Be("parse %s",e),n=we(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n};var Me=36e5,Ne=24*Me,Te=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*Ne;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Me;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){return qe(e,Ne,"day")||qe(e,Me,"hour")||qe(e,6e4,"minute")||qe(e,1e3,"second")||e+" ms"}(e):function(e){if(e>=Ne)return Math.round(e/Ne)+"d";if(e>=Me)return Math.round(e/Me)+"h";if(e>=6e4)return Math.round(e/6e4)+"m";if(e>=1e3)return Math.round(e/1e3)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function qe(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var Re=ye((function(e,t){function n(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,s){if("%%"===n)return n;c++;var r=t.formatters[s];if("function"==typeof r){var o=i[c];n=r.call(e,o),i.splice(c,1),c--}return n})),t.formatArgs.call(e,i);var l=r.log||t.log||console.log.bind(console);l.apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,s=0;for(n in e)s=(s<<5)-s+e.charCodeAt(n),s|=0;return t.colors[Math.abs(s)%t.colors.length]}(e),r.destroy=s,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(n=0;n<r;n++)s[n]&&("-"===(e=s[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,s;for(n=0,s=t.skips.length;n<s;n++)if(t.skips[n].test(e))return!1;for(n=0,s=t.names.length;n<s;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Te,t.instances=[],t.names=[],t.skips=[],t.formatters={}})),Ie=(Re.coerce,Re.disable,Re.enable,Re.enabled,Re.humanize,Re.instances,Re.names,Re.skips,Re.formatters,ye((function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=Re).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var s="color: "+this.color;e.splice(1,0,s,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,s)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}))),_e=(Ie.log,Ie.formatArgs,Ie.save,Ie.load,Ie.useColors,Ie.storage,Ie.colors,ye((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<s.length;r++)if((n=s[r])===t||n.fn===t){s.splice(r,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var s=0,r=(n=n.slice(0)).length;s<r;++s)n[s].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}))),De={}.toString,Oe=Array.isArray||function(e){return"[object Array]"==De.call(e)},Ue=function(e){return Le&&Buffer.isBuffer(e)||je&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))},Le="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,je="function"==typeof ArrayBuffer;var He=Object.prototype.toString,Ge="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===He.call(Blob),ze="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===He.call(File);var Ye=function(e){var t=[],n=e.data,s=e;return s.data=function e(t,n){if(!t)return t;if(Ue(t)){var s={_placeholder:!0,num:n.length};return n.push(t),s}if(Oe(t)){for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=e(t[o],n);return r}if("object"==typeof t&&!(t instanceof Date)){r={};for(var i in t)r[i]=e(t[i],n);return r}return t}(n,t),s.attachments=t.length,{packet:s,buffers:t}},Xe=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Oe(t))for(var s=0;s<t.length;s++)t[s]=e(t[s],n);else if("object"==typeof t)for(var r in t)t[r]=e(t[r],n);return t}(e.data,t),e.attachments=void 0,e},Je=function(e,t){var n=0,s=e;!function e(r,o,i){if(!r)return r;if(Ge&&r instanceof Blob||ze&&r instanceof File){n++;var a=new FileReader;a.onload=function(){i?i[o]=this.result:s=this.result,--n||t(s)},a.readAsArrayBuffer(r)}else if(Oe(r))for(var c=0;c<r.length;c++)e(r[c],c,r);else if("object"==typeof r&&!Ue(r))for(var l in r)e(r[l],l,r)}(s),n||t(s)},We=ye((function(e,t){var n=Ie("socket.io-parser");function s(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=s,t.Decoder=i;var r=t.ERROR+'"encode error"';function o(e){var s=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(s+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(s+=e.nsp+","),null!=e.id&&(s+=e.id),null!=e.data){var o=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===o)return r;s+=o}return n("encoded %j as %s",e,s),s}function i(){this.reconstructor=null}function a(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:t.ERROR,data:"parser error: "+e}}s.prototype.encode=function(e,s){(n("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){Je(e,(function(e){var n=Ye(e),s=o(n.packet),r=n.buffers;r.unshift(s),t(r)}))}(e,s):s([o(e)])},_e(i.prototype),i.prototype.add=function(e){var s;if("string"==typeof e)s=function(e){var s=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return c("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var o="";"-"!==e.charAt(++s)&&(o+=e.charAt(s),s!=e.length););if(o!=Number(o)||"-"!==e.charAt(s))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(s+1))for(r.nsp="";++s;){if(","===(a=e.charAt(s)))break;if(r.nsp+=a,s===e.length)break}else r.nsp="/";var i=e.charAt(s+1);if(""!==i&&Number(i)==i){for(r.id="";++s;){var a;if(null==(a=e.charAt(s))||Number(a)!=a){--s;break}if(r.id+=e.charAt(s),s===e.length)break}r.id=Number(r.id)}if(e.charAt(++s)){var l=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(s));if(!(!1!==l&&(r.type===t.ERROR||Oe(l))))return c("invalid payload");r.data=l}return n("decoded %s as %j",e,r),r}(e),t.BINARY_EVENT===s.type||t.BINARY_ACK===s.type?(this.reconstructor=new a(s),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",s)):this.emit("decoded",s);else{if(!Ue(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(s=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",s))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=Xe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}})),Ve=(We.protocol,We.types,We.CONNECT,We.DISCONNECT,We.EVENT,We.ACK,We.ERROR,We.BINARY_EVENT,We.BINARY_ACK,We.Encoder,We.Decoder,ye((function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}}))),Ke="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),Ze=function(e){var t=e.xdomain,n=e.xscheme,s=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Ve))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&s)return new XDomainRequest}catch(e){}if(!t)try{return new(Ke[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}},Qe=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var s in e)n.call(e,s)&&t.push(s);return t},et=Object.prototype.toString,tt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===et.call(Blob),nt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===et.call(File),st=function e(t){if(!t||"object"!=typeof t)return!1;if(Oe(t)){for(var n=0,s=t.length;n<s;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||tt&&t instanceof Blob||nt&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1};var rt=function(e,t,n){var s=e.byteLength;if(t=t||0,n=n||s,e.slice)return e.slice(t,n);if(t<0&&(t+=s),n<0&&(n+=s),n>s&&(n=s),t>=s||t>=n||0===s)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(n-t),i=t,a=0;i<n;i++,a++)o[a]=r[i];return o.buffer},ot=function(e,t,n){var s=!1;return n=n||it,r.count=e,0===e?t():r;function r(e,o){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(s=!0,t(e),t=n):0!==r.count||s||t(null,o)}};function it(){}
/*! https://mths.be/utf8js v2.1.2 by @mathias */var at,ct,lt,ut=String.fromCharCode;function pt(e){for(var t,n,s=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?s.push(((1023&t)<<10)+(1023&n)+65536):(s.push(t),r--):s.push(t);return s}function dt(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function ht(e,t){return ut(e>>t&63|128)}function ft(e,t){if(0==(4294967168&e))return ut(e);var n="";return 0==(4294965248&e)?n=ut(e>>6&31|192):0==(4294901760&e)?(dt(e,t)||(e=65533),n=ut(e>>12&15|224),n+=ht(e,6)):0==(4292870144&e)&&(n=ut(e>>18&7|240),n+=ht(e,12),n+=ht(e,6)),n+=ut(63&e|128)}function mt(){if(lt>=ct)throw Error("Invalid byte index");var e=255&at[lt];if(lt++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function gt(e){var t,n;if(lt>ct)throw Error("Invalid byte index");if(lt==ct)return!1;if(t=255&at[lt],lt++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|mt())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|mt()<<6|mt())>=2048)return dt(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|mt()<<12|mt()<<6|mt())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var yt={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,s=pt(e),r=s.length,o=-1,i="";++o<r;)i+=ft(s[o],n);return i},decode:function(e,t){var n=!1!==(t=t||{}).strict;at=pt(e),ct=at.length,lt=0;for(var s,r=[];!1!==(s=gt(n));)r.push(s);return function(e){for(var t,n=e.length,s=-1,r="";++s<n;)(t=e[s])>65535&&(r+=ut((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=ut(t);return r}(r)}},vt=ye((function(e,t){!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),s=0;s<e.length;s++)n[e.charCodeAt(s)]=s;t.encode=function(t){var n,s=new Uint8Array(t),r=s.length,o="";for(n=0;n<r;n+=3)o+=e[s[n]>>2],o+=e[(3&s[n])<<4|s[n+1]>>4],o+=e[(15&s[n+1])<<2|s[n+2]>>6],o+=e[63&s[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,s,r,o,i,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),p=new Uint8Array(u);for(t=0;t<c;t+=4)s=n[e.charCodeAt(t)],r=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],i=n[e.charCodeAt(t+3)],p[l++]=s<<2|r>>4,p[l++]=(15&r)<<4|o>>2,p[l++]=(3&o)<<6|63&i;return u}}()})),bt=(vt.encode,vt.decode,void 0!==bt?bt:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder),wt=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),Ct=wt&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),xt=bt&&bt.prototype.append&&bt.prototype.getBlob;function kt(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function Pt(e,t){t=t||{};var n=new bt;return kt(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function $t(e,t){return new Blob(kt(e),t||{})}"undefined"!=typeof Blob&&(Pt.prototype=Blob.prototype,$t.prototype=Blob.prototype);var At=wt?Ct?Blob:$t:xt?Pt:void 0,Et=ye((function(e,t){var n;"undefined"!=typeof ArrayBuffer&&(n=vt);var s="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),r="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),o=s||r;t.protocol=3;var i=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=Qe(i),c={type:"error",data:"parser error"};function l(e,t,n){for(var s=new Array(e.length),r=ot(e.length,n),o=function(e,n,r){t(n,(function(t,n){s[e]=n,r(t,s)}))},i=0;i<e.length;i++)o(i,e[i],r)}t.encodePacket=function(e,n,s,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof s&&(r=s,s=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,s){if(!n)return t.encodeBase64Packet(e,s);var r=e.data,o=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=i[e.type];for(var c=0;c<o.length;c++)a[c+1]=o[c];return s(a.buffer)}(e,n,r);if(void 0!==At&&a instanceof At)return function(e,n,s){if(!n)return t.encodeBase64Packet(e,s);if(o)return function(e,n,s){if(!n)return t.encodeBase64Packet(e,s);var r=new FileReader;return r.onload=function(){t.encodePacket({type:e.type,data:r.result},n,!0,s)},r.readAsArrayBuffer(e.data)}(e,n,s);var r=new Uint8Array(1);r[0]=i[e.type];var a=new At([r.buffer,e.data]);return s(a)}(e,n,r);if(a&&a.base64)return function(e,n){var s="b"+t.packets[e.type]+e.data.data;return n(s)}(e,r);var c=i[e.type];return void 0!==e.data&&(c+=s?yt.encode(String(e.data),{strict:!1}):String(e.data)),r(""+c)},t.encodeBase64Packet=function(e,n){var s,r="b"+t.packets[e.type];if(void 0!==At&&e.data instanceof At){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(r+e)},o.readAsDataURL(e.data)}try{s=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var i=new Uint8Array(e.data),a=new Array(i.length),c=0;c<i.length;c++)a[c]=i[c];s=String.fromCharCode.apply(null,a)}return r+=btoa(s),n(r)},t.decodePacket=function(e,n,s){if(void 0===e)return c;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(s&&!1===(e=function(e){try{e=yt.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return c;var r=e.charAt(0);return Number(r)==r&&a[r]?e.length>1?{type:a[r],data:e.substring(1)}:{type:a[r]}:c}r=new Uint8Array(e)[0];var o=rt(e,1);return At&&"blob"===n&&(o=new At([o])),{type:a[r],data:o}},t.decodeBase64Packet=function(e,t){var s=a[e.charAt(0)];if(!n)return{type:s,data:{base64:!0,data:e.substr(1)}};var r=n.decode(e.substr(1));return"blob"===t&&At&&(r=new At([r])),{type:s,data:r}},t.encodePayload=function(e,n,s){"function"==typeof n&&(s=n,n=null);var r=st(e);if(n&&r)return At&&!o?t.encodePayloadAsBlob(e,s):t.encodePayloadAsArrayBuffer(e,s);if(!e.length)return s("0:");l(e,(function(e,s){t.encodePacket(e,!!r&&n,!1,(function(e){s(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return s(t.join(""))}))},t.decodePayload=function(e,n,s){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,s);var r;if("function"==typeof n&&(s=n,n=null),""===e)return s(c,0,1);for(var o,i,a="",l=0,u=e.length;l<u;l++){var p=e.charAt(l);if(":"===p){if(""===a||a!=(o=Number(a)))return s(c,0,1);if(a!=(i=e.substr(l+1,o)).length)return s(c,0,1);if(i.length){if(r=t.decodePacket(i,n,!1),c.type===r.type&&c.data===r.data)return s(c,0,1);if(!1===s(r,l+o,u))return}l+=o,a=""}else a+=p}return""!==a?s(c,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));l(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var s=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),r=new Uint8Array(s),o=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var s=new Uint8Array(e.length),i=0;i<e.length;i++)s[i]=e.charCodeAt(i);n=s.buffer}r[o++]=t?0:1;var a=n.byteLength.toString();for(i=0;i<a.length;i++)r[o++]=parseInt(a[i]);r[o++]=255;for(s=new Uint8Array(n),i=0;i<s.length;i++)r[o++]=s[i]})),n(r.buffer)}))},t.encodePayloadAsBlob=function(e,n){l(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var s=new Uint8Array(e.length),r=0;r<e.length;r++)s[r]=e.charCodeAt(r);e=s.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)i[r]=parseInt(o[r]);if(i[o.length]=255,At){var a=new At([t.buffer,i.buffer,e]);n(null,a)}}))}),(function(e,t){return n(new At(t))}))},t.decodePayloadAsBinary=function(e,n,s){"function"==typeof n&&(s=n,n=null);for(var r=e,o=[];r.byteLength>0;){for(var i=new Uint8Array(r),a=0===i[0],l="",u=1;255!==i[u];u++){if(l.length>310)return s(c,0,1);l+=i[u]}r=rt(r,2+l.length),l=parseInt(l);var p=rt(r,0,l);if(a)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var d=new Uint8Array(p);p="";for(u=0;u<d.length;u++)p+=String.fromCharCode(d[u])}o.push(p),r=rt(r,l)}var h=o.length;o.forEach((function(e,r){s(t.decodePacket(e,n,!0),r,h)}))}})),St=(Et.protocol,Et.packets,Et.encodePacket,Et.encodeBase64Packet,Et.decodePacket,Et.decodeBase64Packet,Et.encodePayload,Et.decodePayload,Et.encodePayloadAsArrayBuffer,Et.encodePayloadAsBlob,Et.decodePayloadAsBinary,ye((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<s.length;r++)if((n=s[r])===t||n.fn===t){s.splice(r,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){s=0;for(var r=(n=n.slice(0)).length;s<r;++s)n[s].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}))),Bt=Ft;function Ft(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}St(Ft.prototype),Ft.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},Ft.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Ft.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Ft.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},Ft.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Ft.prototype.onData=function(e){var t=Et.decodePacket(e,this.socket.binaryType);this.onPacket(t)},Ft.prototype.onPacket=function(e){this.emit("packet",e)},Ft.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var Mt,Nt=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},Tt=function(e){for(var t={},n=e.split("&"),s=0,r=n.length;s<r;s++){var o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t},qt=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Rt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),It={},_t=0,Dt=0;function Ot(e){var t="";do{t=Rt[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Ut(){var e=Ot(+new Date);return e!==Mt?(_t=0,Mt=e):e+"."+Ot(_t++)}for(;Dt<64;Dt++)It[Rt[Dt]]=Dt;Ut.encode=Ot,Ut.decode=function(e){var t=0;for(Dt=0;Dt<e.length;Dt++)t=64*t+It[e.charAt(Dt)];return t};var Lt=Ut,jt=Se("engine.io-client:polling"),Ht=zt,Gt=null!=new Ze({xdomain:!1}).responseType;function zt(e){var t=e&&e.forceBase64;Gt&&!t||(this.supportsBinary=!1),Bt.call(this,e)}qt(zt,Bt),zt.prototype.name="polling",zt.prototype.doOpen=function(){this.poll()},zt.prototype.pause=function(e){var t=this;function n(){jt("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var s=0;this.polling&&(jt("we are currently polling - waiting to pause"),s++,this.once("pollComplete",(function(){jt("pre-pause polling complete"),--s||n()}))),this.writable||(jt("we are currently writing - waiting to pause"),s++,this.once("drain",(function(){jt("pre-pause writing complete"),--s||n()})))}else n()},zt.prototype.poll=function(){jt("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},zt.prototype.onData=function(e){var t=this;jt("polling got data %s",e);Et.decodePayload(e,this.socket.binaryType,(function(e,n,s){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():jt('ignoring poll - transport state "%s"',this.readyState))},zt.prototype.doClose=function(){var e=this;function t(){jt("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(jt("transport open - closing"),t()):(jt("transport not open - deferring close"),this.once("open",t))},zt.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};Et.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},zt.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=Lt()),this.supportsBinary||e.sid||(e.b64=1),e=Nt(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e};var Yt=Se("engine.io-client:polling-xhr"),Xt=Vt,Jt=Kt;function Wt(){}function Vt(e){if(Ht.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function Kt(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(qt(Vt,Ht),Vt.prototype.supportsBinary=!0,Vt.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Kt(e)},Vt.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,s=this.request({method:"POST",data:e,isBinary:n}),r=this;s.on("success",t),s.on("error",(function(e){r.onError("xhr post error",e)})),this.sendXhr=s},Vt.prototype.doPoll=function(){Yt("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},St(Kt.prototype),Kt.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new Ze(e),n=this;try{Yt("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var s in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(s)&&t.setRequestHeader(s,this.extraHeaders[s])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},Yt("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=Kt.requestsCount++,Kt.requests[this.index]=this)},Kt.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Kt.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},Kt.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},Kt.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Wt:this.xhr.onreadystatechange=Wt,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Kt.requests[this.index],this.xhr=null}},Kt.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},Kt.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},Kt.prototype.abort=function(){this.cleanup()},Kt.requestsCount=0,Kt.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Zt);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Ke?"pagehide":"unload",Zt,!1)}function Zt(){for(var e in Kt.requests)Kt.requests.hasOwnProperty(e)&&Kt.requests[e].abort()}Xt.Request=Jt;var Qt,en=rn,tn=/\n/g,nn=/\\n/g;function sn(){}function rn(e){Ht.call(this,e),this.query=this.query||{},Qt||(Qt=Ke.___eio=Ke.___eio||[]),this.index=Qt.length;var t=this;Qt.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=sn)}),!1)}qt(rn,Ht),rn.prototype.supportsBinary=!1,rn.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Ht.prototype.doClose.call(this)},rn.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},rn.prototype.doWrite=function(e,t){var n=this;if(!this.form){var s,r=document.createElement("form"),o=document.createElement("textarea"),i=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=i,r.method="POST",r.setAttribute("accept-charset","utf-8"),o.name="d",r.appendChild(o),document.body.appendChild(r),this.form=r,this.area=o}function a(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';s=document.createElement(e)}catch(e){(s=document.createElement("iframe")).name=n.iframeId,s.src="javascript:0"}s.id=n.iframeId,n.form.appendChild(s),n.iframe=s}this.form.action=this.uri(),c(),e=e.replace(nn,"\\\n"),this.area.value=e.replace(tn,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a};var on,an,cn,ln=(on=Object.freeze({__proto__:null,default:{}}))&&on.default||on,un=Se("engine.io-client:websocket");if("undefined"!=typeof WebSocket?an=WebSocket:"undefined"!=typeof self&&(an=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{cn=ln}catch(e){}var pn=an||cn,dn=hn;function hn(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=an&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(pn=cn),Bt.call(this,e)}qt(hn,Bt),hn.prototype.name="websocket",hn.prototype.supportsBinary=!0,hn.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new pn(e,t):new pn(e):new pn(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},hn.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},hn.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,s=0,r=n;s<r;s++)!function(e){Et.encodePacket(e,t.supportsBinary,(function(s){if(!t.usingBrowserWebSocket){var r={};if(e.options&&(r.compress=e.options.compress),t.perMessageDeflate)("string"==typeof s?Buffer.byteLength(s):s.length)<t.perMessageDeflate.threshold&&(r.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(s):t.ws.send(s,r)}catch(e){un("websocket closed before onclose event")}--n||o()}))}(e[s]);function o(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},hn.prototype.onClose=function(){Bt.prototype.onClose.call(this)},hn.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},hn.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=Lt()),this.supportsBinary||(e.b64=1),(e=Nt(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},hn.prototype.check=function(){return!(!pn||"__initialize"in pn&&this.name===hn.prototype.name)};var fn={polling:function(e){var t=!1,n=!1,s=!1!==e.jsonp;if("undefined"!=typeof location){var r="https:"===location.protocol,o=location.port;o||(o=r?443:80),t=e.hostname!==location.hostname||o!==e.port,n=e.secure!==r}if(e.xdomain=t,e.xscheme=n,"open"in new Ze(e)&&!e.forceJSONP)return new Xt(e);if(!s)throw new Error("JSONP disabled");return new en(e)},websocket:dn},mn=[].indexOf,gn=function(e,t){if(mn)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},yn=Se("engine.io-client:socket"),vn=bn;function bn(e,t){if(!(this instanceof bn))return new bn(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=we(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=we(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=Tt(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}bn.priorWebsocketSuccess=!1,St(bn.prototype),bn.protocol=Et.protocol,bn.Socket=bn,bn.Transport=Bt,bn.transports=fn,bn.parser=Et,bn.prototype.createTransport=function(e){yn('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=Et.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new fn[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},bn.prototype.open=function(){var e;if(this.rememberUpgrade&&bn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},bn.prototype.setTransport=function(e){yn("setting transport %s",e.name);var t=this;this.transport&&(yn("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},bn.prototype.probe=function(e){yn('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,s=this;function r(){if(s.onlyBinaryUpgrades){var r=!this.supportsBinary&&s.transport.supportsBinary;n=n||r}n||(yn('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(yn('probe transport "%s" pong',e),s.upgrading=!0,s.emit("upgrading",t),!t)return;bn.priorWebsocketSuccess="websocket"===t.name,yn('pausing current transport "%s"',s.transport.name),s.transport.pause((function(){n||"closed"!==s.readyState&&(yn("changing transport and sending upgrade packet"),u(),s.setTransport(t),t.send([{type:"upgrade"}]),s.emit("upgrade",t),t=null,s.upgrading=!1,s.flush())}))}else{yn('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,s.emit("upgradeError",o)}})))}function o(){n||(n=!0,u(),t.close(),t=null)}function i(n){var r=new Error("probe error: "+n);r.transport=t.name,o(),yn('probe transport "%s" failed because of error: %s',e,n),s.emit("upgradeError",r)}function a(){i("transport closed")}function c(){i("socket closed")}function l(e){t&&e.name!==t.name&&(yn('"%s" works - aborting "%s"',e.name,t.name),o())}function u(){t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",a),s.removeListener("close",c),s.removeListener("upgrading",l)}bn.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",i),t.once("close",a),this.once("close",c),this.once("upgrading",l),t.open()},bn.prototype.onOpen=function(){if(yn("socket open"),this.readyState="open",bn.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){yn("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},bn.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(yn('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else yn('packet received with socket readyState "%s"',this.readyState)},bn.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},bn.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},bn.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){yn("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},bn.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},bn.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},bn.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(yn("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},bn.prototype.write=bn.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},bn.prototype.sendPacket=function(e,t,n,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof n&&(s=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}},bn.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?s():t()})):this.upgrading?s():t()}function t(){e.onClose("forced close"),yn("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function s(){e.once("upgrade",n),e.once("upgradeError",n)}return this},bn.prototype.onError=function(e){yn("socket error %j",e),bn.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},bn.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){yn('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},bn.prototype.filterUpgrades=function(e){for(var t=[],n=0,s=e.length;n<s;n++)~gn(this.transports,e[n])&&t.push(e[n]);return t};var wn=vn,Cn=Et;wn.parser=Cn;var xn=function(e,t){for(var n=[],s=(t=t||0)||0;s<e.length;s++)n[s-t]=e[s];return n};var kn=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}};var Pn=[].slice,$n=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=Pn.call(arguments,2);return function(){return t.apply(e,n.concat(Pn.call(arguments)))}},An=ye((function(e,t){var n=Se("socket.io-client:socket");e.exports=o;var s={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},r=_e.prototype.emit;function o(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}_e(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[kn(e,"open",$n(this,"onopen")),kn(e,"packet",$n(this,"onpacket")),kn(e,"close",$n(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},o.prototype.send=function(){var e=xn(arguments);return e.unshift("message"),this.emit.apply(this,e),this},o.prototype.emit=function(e){if(s.hasOwnProperty(e))return r.apply(this,arguments),this;var t=xn(arguments),o={type:(void 0!==this.flags.binary?this.flags.binary:st(t))?We.BINARY_EVENT:We.EVENT,data:t,options:{}};return o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),this.flags={},this},o.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},o.prototype.onopen=function(){if(n("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?Nt(this.query):this.query;n("sending connect packet with query %s",e),this.packet({type:We.CONNECT,query:e})}else this.packet({type:We.CONNECT})},o.prototype.onclose=function(e){n("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},o.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===We.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case We.CONNECT:this.onconnect();break;case We.EVENT:case We.BINARY_EVENT:this.onevent(e);break;case We.ACK:case We.BINARY_ACK:this.onack(e);break;case We.DISCONNECT:this.ondisconnect();break;case We.ERROR:this.emit("error",e.data)}},o.prototype.onevent=function(e){var t=e.data||[];n("emitting event %j",t),null!=e.id&&(n("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?r.apply(this,t):this.receiveBuffer.push(t)},o.prototype.ack=function(e){var t=this,s=!1;return function(){if(!s){s=!0;var r=xn(arguments);n("sending ack %j",r),t.packet({type:st(r)?We.BINARY_ACK:We.ACK,id:e,data:r})}}},o.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(n("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):n("bad ack %s",e.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)r.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:We.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(e){return this.flags.compress=e,this},o.prototype.binary=function(e){return this.flags.binary=e,this}})),En=Sn;function Sn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Sn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Sn.prototype.reset=function(){this.attempts=0},Sn.prototype.setMin=function(e){this.ms=e},Sn.prototype.setMax=function(e){this.max=e},Sn.prototype.setJitter=function(e){this.jitter=e};var Bn=Se("socket.io-client:manager"),Fn=Object.prototype.hasOwnProperty,Mn=Nn;function Nn(e,t){if(!(this instanceof Nn))return new Nn(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new En({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||We;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}Nn.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)Fn.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},Nn.prototype.updateSocketIds=function(){for(var e in this.nsps)Fn.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},Nn.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},_e(Nn.prototype),Nn.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},Nn.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},Nn.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},Nn.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},Nn.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},Nn.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},Nn.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Nn.prototype.open=Nn.prototype.connect=function(e,t){if(Bn("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Bn("opening %s",this.uri),this.engine=wn(this.uri,this.opts);var n=this.engine,s=this;this.readyState="opening",this.skipReconnect=!1;var r=kn(n,"open",(function(){s.onopen(),e&&e()})),o=kn(n,"error",(function(t){if(Bn("connect_error"),s.cleanup(),s.readyState="closed",s.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else s.maybeReconnectOnOpen()}));if(!1!==this._timeout){var i=this._timeout;Bn("connect attempt will timeout after %d",i);var a=setTimeout((function(){Bn("connect attempt timed out after %d",i),r.destroy(),n.close(),n.emit("error","timeout"),s.emitAll("connect_timeout",i)}),i);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(r),this.subs.push(o),this},Nn.prototype.onopen=function(){Bn("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(kn(e,"data",$n(this,"ondata"))),this.subs.push(kn(e,"ping",$n(this,"onping"))),this.subs.push(kn(e,"pong",$n(this,"onpong"))),this.subs.push(kn(e,"error",$n(this,"onerror"))),this.subs.push(kn(e,"close",$n(this,"onclose"))),this.subs.push(kn(this.decoder,"decoded",$n(this,"ondecoded")))},Nn.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Nn.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Nn.prototype.ondata=function(e){this.decoder.add(e)},Nn.prototype.ondecoded=function(e){this.emit("packet",e)},Nn.prototype.onerror=function(e){Bn("error",e),this.emitAll("error",e)},Nn.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new An(this,e,t),this.nsps[e]=n;var s=this;n.on("connecting",r),n.on("connect",(function(){n.id=s.generateId(e)})),this.autoConnect&&r()}function r(){~gn(s.connecting,n)||s.connecting.push(n)}return n},Nn.prototype.destroy=function(e){var t=gn(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},Nn.prototype.packet=function(e){Bn("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var s=0;s<n.length;s++)t.engine.write(n[s],e.options);t.encoding=!1,t.processPacketQueue()})))},Nn.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},Nn.prototype.cleanup=function(){Bn("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Nn.prototype.close=Nn.prototype.disconnect=function(){Bn("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Nn.prototype.onclose=function(e){Bn("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},Nn.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Bn("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();Bn("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(Bn("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(Bn("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(Bn("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},Nn.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};var Tn=ye((function(e,t){var n=Se("socket.io-client");e.exports=t=r;var s=t.managers={};function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o=Fe(e),i=o.source,a=o.id,c=o.path,l=s[a]&&c in s[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?(n("ignoring socket cache for %s",i),r=Mn(i,t)):(s[a]||(n("new io instance for %s",i),s[a]=Mn(i,t)),r=s[a]),o.query&&!t.query&&(t.query=o.query),r.socket(o.path,t)}t.protocol=We.protocol,t.connect=r,t.Manager=Mn,t.Socket=An}));Tn.managers,Tn.protocol,Tn.connect,Tn.Manager,Tn.Socket;var qn="http://localhost:4000/",Rn="https://checkerio-server.herokuapp.com/",In="https://us-central1-checker-io.cloudfunctions.net/";const _n=ge(null);window.location.hostname.includes("localhost")?_n.set(Tn(qn)):_n.set(Tn(Rn));const Dn=ge(null),On=ge(0),Un=ge(0),Ln=ge([]),jn=ge([]),Hn=ge(null),Gn=ge([]),zn=ge(null),Yn=ge([]),Xn=ge([]),Jn=ge(!1),Wn=ge(!1),Vn=ge(!1),Kn=ge(!1),Zn=ge(!1);window.onbeforeunload=async function(){const e={};await Dn.update(t=>(e.user=t,t)),await On.update(t=>(e.page=t,t)),await Un.update(t=>(e.tab=t,t)),await Hn.update(t=>(e.board=t,t)),await Gn.update(t=>(e.history=t,t)),await zn.update(t=>(e.pref=t,t)),await Yn.update(t=>(e.chat=t,t)),await Xn.update(t=>(e.chats=t,t)),await Ln.update(t=>(e.games=t,t)),await jn.update(t=>(e.league=t,t)),await sessionStorage.setItem("idx",JSON.stringify(e))},window.onload=async function(){if(null!=sessionStorage.getItem("idx")){const e=await JSON.parse(sessionStorage.getItem("idx"));await Dn.set(e.user),await jn.set(e.league),await Hn.set(new Qn(e.board.board,null)),await Gn.set(e.history),await zn.set(e.pref),await Yn.set(e.chat),await Xn.set(e.chats),await Un.set(e.tab),await Ln.set(e.games),await On.set(e.page),sessionStorage.removeItem("idx")}};class Qn{constructor(e,t){if(null!=e||t){if(null!=e&&null==t){let t,n;for(this.board=[],t=0;t<8;t++)for(this.board[t]=[],n=0;n<8;n++)null!=e[t][n]?this.board[t][n]=new fe(t,n,e[t][n].side,e[t][n].id,e[t][n].stack):this.board[t][n]=null}else if(null==e&&t){this.board=[];let e,t,n=23;for(e=0;e<8;e++)for(this.board[e]=[],t=0;t<8;t++){let s=e%2!=0&&t%2!=0;e%2==0&&t%2==0||s||3==e||4==e?this.board[e][t]=null:(this.board[e][t]=new fe(e,t,0<=e&&e<=2?"red":"black",n,null),n--)}}}else{this.board=[];let e,t,n=0;for(e=0;e<8;e++)for(this.board[e]=[],t=0;t<8;t++){let s=e%2!=0&&t%2!=0;e%2==0&&t%2==0||s||3==e||4==e?this.board[e][t]=null:(this.board[e][t]=new fe(e,t,0<=e&&e<=2?"black":"red",n,null),n++)}}}saveBoardState(){let e,t,n=[];for(e=0;e<8;e++)for(n[e]=[],t=0;t<8;t++)null!=this.board[e][t]?(n[e][t]={},n[e][t].stack=this.board[e][t].stack,n[e][t].side=this.board[e][t].side,n[e][t].id=this.board[e][t].id):n[e][t]=null;return n}takePiece(e,t,n,s){let r=!1,o=null,i=null;return s.xPos<t.xPos&&s.yPos<t.yPos&&(o=t.xPos-1,i=t.yPos-1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,r=!0)),s.xPos<t.xPos&&s.yPos>t.yPos&&(o=t.xPos-1,i=t.yPos+1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,r=!0)),s.xPos>t.xPos&&s.yPos<t.yPos&&(o=t.xPos+1,i=t.yPos-1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,r=!0)),s.xPos>t.xPos&&s.yPos>t.yPos&&(o=t.xPos+1,i=t.yPos+1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,r=!0)),r}isMoveLegal(e,t){let n,s,r;Dn.update(e=>(n=e.name,e)),zn.update(e=>(s=e.pri,r=e.sec,e));let o=!1,i=e.getPosition();if(console.log(t.isEmpty),console.log("red: "+e.side=="red"),console.log("black: "+e.side=="black"),"red"==e.side&&t.isEmpty&&n==s){console.log(i.xPos+", "+i.yPos+" --\x3e "+t.xPos+", "+t.yPos);let n=i.xPos-t.xPos,s=i.yPos-t.yPos;if(1==e.stack){(1==s||-1==s)&&1==n&&(o=!0),!(2!=n&&-2!=n||2!=s&&-2!=s)&&this.takePiece(e,i,s,t)&&(o=!0)}else{!(1!=n&&-1!=n||1!=s&&-1!=s)&&(o=!0),!(2!=n&&-2!=n||2!=s&&-2!=s)&&this.takePiece(e,i,s,t)&&(o=!0)}}if("black"==e.side&&t.isEmpty&&n==r){let n=i.xPos-t.xPos,s=i.yPos-t.yPos;if(1==e.stack){(1==s||-1==s)&&1==n&&(o=!0),!(2!=n&&-2!=n||2!=s&&-2!=s)&&this.takePiece(e,i,s,t)&&(o=!0)}else{!(1!=n&&-1!=n||1!=s&&-1!=s)&&(o=!0),!(2!=n&&-2!=n||2!=s&&-2!=s)&&this.takePiece(e,i,s,t)&&(o=!0)}}return o}doMove(e,t){let n,s,r;Dn.update(e=>(n=e.name,e)),zn.update(e=>(s=e.pri,r=e.sec,e));let o=!1,i=null;if(this.isMoveLegal(e,t)){i=this.scanBoard(e,t);let a=new fe(t.xPos,t.yPos,e.side,e.id,e.stack);n==s&&0==t.xPos&&"red"==a.side&&1==a.stack&&a.incrementStack(),n==r&&0==t.xPos&&"black"==a.side&&1==a.stack&&a.incrementStack(),this.board[t.xPos][t.yPos]=a;let c=e.getPosition();this.board[c.xPos][c.yPos]=null,o=!0}return{move:o,id:i}}scanBoard(e,t){let n,s,r=null;for(n=0;n<8;n++)for(s=0;s<8;s++)if(null!=this.board[n][s]&&this.board[n][s].id!=e.id&&this.board[n][s].side==e.side&&this.checkPiece(this.board[n][s],e,t)){r=e.id;break}return r}checkPiece(e,t,n){let s=!1,r=(n.xPos,n.yPos,e.getPosition().xPos),o=e.getPosition().yPos;return 0<=r-2&&0<=o-2&&r-2<=7&&o-2<=7&&null!=this.board[r-1][o-1]&&this.board[r-1][o-1].side!=t.side&&null==this.board[r-2][o-2]&&(this.board[r][o]=null,s=!0),0<=r+2&&0<=o+2&&r+2<=7&&o+2<=7&&0==s&&null!=this.board[r+1][o+1]&&this.board[r+1][o+1].side!=t.side&&null==this.board[r+2][o+2]&&(this.board[r][o]=null,s=!0),0<=r-2&&0<=o+2&&r-2<=7&&o+2<=7&&0==s&&null!=this.board[r-1][o+1]&&this.board[r-1][o+1].side!=t.side&&null==this.board[r-2][o+2]&&(this.board[r][o]=null,s=!0),0<=r+2&&0<=o-2&&r+2<=7&&o-2<=7&&0==s&&null!=this.board[r+1][o-1]&&this.board[r+1][o-1].side!=t.side&&null==this.board[r+2][o-2]&&(this.board[r][o]=null,s=!0),s}removePiece(e){let t=e.getPosition().xPos,n=e.getPosition().yPos;this.board[t][n]=null}otherPlayerMove(e,t,n){let s,r,o;Dn.update(e=>(s=e.name,e)),zn.update(e=>(r=e.pri,o=e.sec,e));let i=e.getPosition().xPos,a=e.getPosition().yPos,c=i+t,l=a+n,u=new fe(c,l,e.side,e.id,e.stack);s==r&&0==c&&"red"==u.side&&1==u.stack&&u.incrementStack(),s==o&&0==c&&"black"==u.side&&1==u.stack&&u.incrementStack(),this.board[c][l]=u,2==t&&2==n&&(c=i+t/2,l=a+n/2,this.board[c][l]=null),this.board[i][a]=null}isEmpty(e,t){return null==this.board[e][t]}getId(e,t){return this.board[e][t].id}getSide(e,t){return this.board[e][t].side}getPiece(e,t){if(null!=this.board[e][t])return this.board[e][t]}getPieceFromId(e){let t,n,s;for(t=0;t<8;t++)for(n=0;n<8;n++)if(null!=this.board[t][n]&&this.board[t][n].id==e){s=this.board[t][n];break}return s}getBoard(){return this.board}}function es(e){const t=e-1;return t*t*t+1}function ts(e){return"[object Date]"===Object.prototype.toString.call(e)}function ns(e,t={}){const n=ge(e),{stiffness:s=.15,damping:r=.8,precision:o=.01}=t;let i,a,c,l=e,u=e,p=1,h=0,f=!1;function m(t,s={}){u=t;const r=c={};if(null==e||s.hard||y.stiffness>=1&&y.damping>=1)return f=!0,i=d(),l=t,n.set(e=u),Promise.resolve();if(s.soft){const e=!0===s.soft?.5:+s.soft;h=1/(60*e),p=0}return a||(i=d(),f=!1,a=g(t=>{if(f)return f=!1,a=null,!1;p=Math.min(p+h,1);const s={inv_mass:p,opts:y,settled:!0,dt:60*(t-i)/1e3},r=function e(t,n,s,r){if("number"==typeof s||ts(s)){const e=r-s,o=(s-n)/(t.dt||1/60),i=(o+(t.opts.stiffness*e-t.opts.damping*o)*t.inv_mass)*t.dt;return Math.abs(i)<t.opts.precision&&Math.abs(e)<t.opts.precision?r:(t.settled=!1,ts(s)?new Date(s.getTime()+i):s+i)}if(Array.isArray(s))return s.map((o,i)=>e(t,n[i],s[i],r[i]));if("object"==typeof s){const o={};for(const i in s)o[i]=e(t,n[i],s[i],r[i]);return o}throw new Error(`Cannot spring ${typeof s} values`)}(s,l,e,u);return i=t,l=e,n.set(e=r),s.settled&&(a=null),!s.settled})),new Promise(e=>{a.promise.then(()=>{r===c&&e()})})}const y={set:m,update:(t,n)=>m(t(u,e),n),subscribe:n.subscribe,stiffness:s,damping:r,precision:o};return y}function ss(e){return new Promise((t,n)=>{Dn.update(t=>(null!=t&&(e.id=t.email),t));const s=In+e.func;e=new URLSearchParams(e).toString(),fetch(s,{method:"POST",body:e,headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"},"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"}).then(e=>e.json()).then(e=>{t(e)}).catch(e=>n(e))})}function rs(e,{delay:t=0,duration:s=400,easing:r=n}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:r,css:e=>"opacity: "+e*o}}function os(e,{delay:t=0,duration:n=400,easing:s=es,x:r=0,y:o=0,opacity:i=0}){const a=getComputedStyle(e),c=+a.opacity,l="none"===a.transform?"":a.transform,u=c*(1-i);return{delay:t,duration:n,easing:s,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*r}px, ${(1-e)*o}px);\n\t\t\topacity: ${c-u*t}`}}function is(e){let n,s,r,o,i;return{c(){n=x("svg"),s=x("g"),r=x("circle"),o=x("circle"),i=x("circle"),E(r,"class","dot svelte-16rctq0"),E(r,"cx","3"),E(r,"cy","3"),E(r,"r","3"),E(o,"class","dot svelte-16rctq0"),E(o,"cx","12"),E(o,"cy","3"),E(o,"r","3"),E(i,"class","dot svelte-16rctq0"),E(i,"cx","21"),E(i,"cy","3"),E(i,"r","3"),E(n,"id","typing_bubble"),E(n,"data-name","typing bubble"),E(n,"xmlns","http://www.w3.org/2000/svg"),E(n,"width","24"),E(n,"height","6"),E(n,"viewBox","0 0 24 6")},m(e,t){v(e,n,t),y(n,s),y(s,r),y(s,o),y(s,i)},p:t,i:t,o:t,d(e){e&&b(n)}}}class as extends de{constructor(e){super(),pe(this,e,null,is,a,{})}}function cs(e,t,n){const s=e.slice();return s[20]=t[n],s[22]=n,s}function ls(e,t,n){const s=e.slice();return s[23]=t[n],s[22]=n,s}function us(e){let t,n,s,r,o,i=e[23].history[e[23].history.length-1].msg+"",a=ks(e[23].history[e[23].history.length-1].date)+"";return{c(){t=C("p"),n=k(i),s=P(),r=C("p"),o=k(a),N(t,"font-weight","lighter"),N(t,"font-size","15px"),N(t,"text-align","left"),E(t,"class","svelte-3sc3k4"),N(r,"font-weight","lighter"),N(r,"font-size","15px"),N(r,"margin-top","-15px"),N(r,"text-align","right"),E(r,"class","svelte-3sc3k4")},m(e,i){v(e,t,i),y(t,n),v(e,s,i),v(e,r,i),y(r,o)},p(e,t){32&t&&i!==(i=e[23].history[e[23].history.length-1].msg+"")&&F(n,i),32&t&&a!==(a=ks(e[23].history[e[23].history.length-1].date)+"")&&F(o,a)},d(e){e&&b(t),e&&b(s),e&&b(r)}}}function ps(e){let t,n,s,r,o,i,a,c,l,u,p=(e[23].priName==e[6].name?e[23].secName.toUpperCase():e[23].priName.toUpperCase())+"",d=e[23].history.length>0&&us(e);function h(...t){return e[16](e[22],...t)}return{c(){t=C("button"),n=C("img"),r=P(),o=C("div"),i=C("h5"),a=k(p),c=P(),d&&d.c(),l=P(),E(n,"alt","propic"),n.src!==(s="https://source.unsplash.com/900x900/")&&E(n,"src","https://source.unsplash.com/900x900/"),E(n,"class","svelte-3sc3k4"),N(i,"text-align","left"),E(i,"class","svelte-3sc3k4"),N(o,"float","right"),N(o,"height","100%"),N(o,"width","70%"),E(o,"class","svelte-3sc3k4"),E(t,"class","user btn btn-lg btn-dark svelte-3sc3k4")},m(e,s,p){v(e,t,s),y(t,n),y(t,r),y(t,o),y(o,i),y(i,a),y(o,c),d&&d.m(o,null),y(t,l),p&&u(),u=A(t,"click",h)},p(t,n){e=t,96&n&&p!==(p=(e[23].priName==e[6].name?e[23].secName.toUpperCase():e[23].priName.toUpperCase())+"")&&F(a,p),e[23].history.length>0?d?d.p(e,n):(d=us(e),d.c(),d.m(o,null)):d&&(d.d(1),d=null)},d(e){e&&b(t),d&&d.d(),u()}}}function ds(e){let t,n,s,r,o=e[20].msg+"";function i(e,t){return e[22]<e[3].length-1?ms:fs}let a=i(e),c=a(e);return{c(){t=C("article"),n=C("span"),s=k(o),r=P(),c.c(),E(n,"class","txtMsg svelte-3sc3k4"),E(t,"class","odaMsg svelte-3sc3k4")},m(e,o){v(e,t,o),y(t,n),y(n,s),y(t,r),c.m(t,null)},p(e,n){8&n&&o!==(o=e[20].msg+"")&&F(s,o),a===(a=i(e))&&c?c.p(e,n):(c.d(1),c=a(e),c&&(c.c(),c.m(t,null)))},d(e){e&&b(t),c.d()}}}function hs(e){let t,n,s,r,o=e[20].msg+"";function i(e,t){return e[22]<e[3].length-1?vs:ys}let a=i(e),c=a(e);return{c(){t=C("article"),n=C("span"),s=k(o),r=P(),c.c(),E(n,"class","txtMsg svelte-3sc3k4"),E(t,"class","myMsg svelte-3sc3k4")},m(e,o){v(e,t,o),y(t,n),y(n,s),y(t,r),c.m(t,null)},p(e,n){8&n&&o!==(o=e[20].msg+"")&&F(s,o),a===(a=i(e))&&c?c.p(e,n):(c.d(1),c=a(e),c&&(c.c(),c.m(t,null)))},d(e){e&&b(t),c.d()}}}function fs(e){let t,n,s=ks(e[20].date)+"";return{c(){t=C("p"),n=k(s),N(t,"font-size","10px"),E(t,"class","svelte-3sc3k4")},m(e,s){v(e,t,s),y(t,n)},p(e,t){8&t&&s!==(s=ks(e[20].date)+"")&&F(n,s)},d(e){e&&b(t)}}}function ms(e){let t,n=e[3][e[22]+1].date!=e[3][e[22]].date&&gs(e);return{c(){n&&n.c(),t=$()},m(e,s){n&&n.m(e,s),v(e,t,s)},p(e,s){e[3][e[22]+1].date!=e[3][e[22]].date?n?n.p(e,s):(n=gs(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&b(t)}}}function gs(e){let t,n,s=ks(e[20].date)+"";return{c(){t=C("p"),n=k(s),N(t,"font-size","10px"),E(t,"class","svelte-3sc3k4")},m(e,s){v(e,t,s),y(t,n)},p(e,t){8&t&&s!==(s=ks(e[20].date)+"")&&F(n,s)},d(e){e&&b(t)}}}function ys(e){let t,n,s=ks(e[20].date)+"";return{c(){t=C("p"),n=k(s),N(t,"font-size","10px"),E(t,"class","svelte-3sc3k4")},m(e,s){v(e,t,s),y(t,n)},p(e,t){8&t&&s!==(s=ks(e[20].date)+"")&&F(n,s)},d(e){e&&b(t)}}}function vs(e){let t,n=e[3][e[22]+1].date!=e[3][e[22]].date&&bs(e);return{c(){n&&n.c(),t=$()},m(e,s){n&&n.m(e,s),v(e,t,s)},p(e,s){e[3][e[22]+1].date!=e[3][e[22]].date?n?n.p(e,s):(n=bs(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&b(t)}}}function bs(e){let t,n,s=ks(e[20].date)+"";return{c(){t=C("p"),n=k(s),N(t,"font-size","10px"),E(t,"class","svelte-3sc3k4")},m(e,s){v(e,t,s),y(t,n)},p(e,t){8&t&&s!==(s=ks(e[20].date)+"")&&F(n,s)},d(e){e&&b(t)}}}function ws(e){let t;function n(e,t){return e[20].name==e[6].name?hs:ds}let s=n(e),r=s(e);return{c(){r.c(),t=$()},m(e,n){r.m(e,n),v(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&b(t)}}}function Cs(e){let t,n;const s=new as({});return{c(){t=C("span"),ae(s.$$.fragment),E(t,"class","txtMsg svelte-3sc3k4"),E(t,"id","isTypingSpan")},m(e,r){v(e,t,r),ce(s,t,null),n=!0},i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){e&&b(t),le(s)}}}function xs(e){let t,n,s,r,i,a,c,l,u,p,d,h,f,m,g,x,$,S,B,T,q,R,I,_,D,O=e[4].toUpperCase()+"",U=e[5],L=[];for(let t=0;t<U.length;t+=1)L[t]=ps(ls(e,U,t));let j=e[3],H=[];for(let t=0;t<j.length;t+=1)H[t]=ws(cs(e,j,t));let G=e[2]&&Cs();return{c(){t=C("div"),n=C("div");for(let e=0;e<L.length;e+=1)L[e].c();s=P(),r=C("div"),i=C("h4"),a=C("button"),a.textContent="Versus Stats",c=P(),l=k(O),u=P(),p=C("button"),d=k("Request Game"),f=P(),m=C("div");for(let e=0;e<H.length;e+=1)H[e].c();g=P(),x=C("article"),G&&G.c(),$=P(),S=C("div"),B=C("i"),T=P(),q=C("input"),R=P(),I=C("i"),E(n,"id","allChats"),E(n,"class","svelte-3sc3k4"),E(a,"class","btn btn-light svelte-3sc3k4"),N(a,"float","left"),N(a,"border-radius","0"),E(p,"class","btn btn-light svelte-3sc3k4"),N(p,"float","right"),N(p,"border-radius","0 0.4rem 0 0"),p.disabled=h=null!=e[7],N(i,"text-align","center"),N(i,"color","white"),E(i,"class","svelte-3sc3k4"),E(x,"class","odaMsg svelte-3sc3k4"),E(x,"id","isTyping"),E(m,"class","scrollable container svelte-3sc3k4"),E(B,"class","fa fa-camera fa-2x svelte-3sc3k4"),E(q,"id","user-msg"),E(q,"placeholder","Type Here"),E(q,"class","svelte-3sc3k4"),E(I,"class","fa fa-paper-plane-o fa-2x svelte-3sc3k4"),E(S,"id","inputBar"),E(S,"class","svelte-3sc3k4"),E(r,"id","currChat"),E(r,"class","svelte-3sc3k4"),E(t,"id","chatWindow"),E(t,"class","svelte-3sc3k4")},m(h,b,w){v(h,t,b),y(t,n);for(let e=0;e<L.length;e+=1)L[e].m(n,null);y(t,s),y(t,r),y(r,i),y(i,a),y(i,c),y(i,l),y(i,u),y(i,p),y(p,d),y(r,f),y(r,m);for(let e=0;e<H.length;e+=1)H[e].m(m,null);y(m,g),y(m,x),G&&G.m(x,null),e[17](m),y(r,$),y(r,S),y(S,B),y(S,T),y(S,q),M(q,e[1]),y(S,R),y(S,I),_=!0,w&&o(D),D=[A(q,"input",e[18]),A(q,"keyup",e[10]),A(q,"keydown",e[19]),A(I,"click",e[9])]},p(e,[t]){if(352&t){let s;for(U=e[5],s=0;s<U.length;s+=1){const r=ls(e,U,s);L[s]?L[s].p(r,t):(L[s]=ps(r),L[s].c(),L[s].m(n,null))}for(;s<L.length;s+=1)L[s].d(1);L.length=U.length}if((!_||16&t)&&O!==(O=e[4].toUpperCase()+"")&&F(l,O),(!_||128&t&&h!==(h=null!=e[7]))&&(p.disabled=h),72&t){let n;for(j=e[3],n=0;n<j.length;n+=1){const s=cs(e,j,n);H[n]?H[n].p(s,t):(H[n]=ws(s),H[n].c(),H[n].m(m,g))}for(;n<H.length;n+=1)H[n].d(1);H.length=j.length}e[2]?G?4&t&&se(G,1):(G=Cs(),G.c(),se(G,1),G.m(x,null)):G&&(te(),re(G,1,1,()=>{G=null}),ne()),2&t&&q.value!==e[1]&&M(q,e[1])},i(e){_||(se(G),_=!0)},o(e){re(G),_=!1},d(n){n&&b(t),w(L,n),w(H,n),G&&G.d(),e[17](null),o(D)}}}function ks(e){return moment(e,"YYYYMMDD, HH:mm").fromNow()}function Ps(e,t,n){let s,r,o,i,a,c,u;l(e,Xn,e=>n(5,s=e)),l(e,Dn,e=>n(6,r=e)),l(e,_n,e=>n(15,o=e)),l(e,zn,e=>n(7,i=e));let p,d=!1,h=0,f=s[0].id,m=s[0].history,g=s[0].priName==r.name?s[0].secName:s[0].priName;var y;function v(e,t){h=e,f=s[e].id,n(3,m=s[e].history),n(4,g=s[e].priName==r.name?s[e].secName:s[e].priName),t||o.emit("join-room",f,r.name)}function b(){null==u&&""==u||(p={name:r.name,msg:u,date:moment().format("YYYYMMDD, HH:mm"),room:f,chatID:f},o.emit("chat message",p),n(1,u=""))}o.emit("join-room",f,r.name),y=()=>{c=a&&a.offsetHeight+a.scrollTop>a.scrollHeight-20},O().$$.before_update.push(y),function(e){O().$$.after_update.push(e)}(()=>{c&&a.scrollTo(0,a.scrollHeight)}),o.on("typing",e=>{n(2,d=!0)}),o.on("no-typing",e=>{n(2,d=!1)}),setInterval((function(){v(h,!0)}),100);return[a,u,d,m,g,s,r,i,v,b,function(){""==u?o.emit("no-typing",f):o.emit("typing",f)},c,p,h,f,o,e=>v(e,!1),function(e){L[e?"unshift":"push"](()=>{n(0,a=e)})},function(){u=this.value,n(1,u)},e=>13===e.which&&b()]}class $s extends de{constructor(e){super(),pe(this,e,Ps,xs,a,{})}}function As(e){let n,s,r;return{c(){n=C("div"),E(n,"class","container-fluid svelte-83kxav")},m(e,t){v(e,n,t),r=!0},p:t,i(e){r||(Y(()=>{s||(s=ie(n,rs,{},!0)),s.run(1)}),r=!0)},o(e){s||(s=ie(n,rs,{},!1)),s.run(0),r=!1},d(e){e&&b(n),e&&s&&s.end()}}}class Es extends de{constructor(e){super(),pe(this,e,null,As,a,{})}}function Ss(e,t,n){const s=e.slice();return s[40]=t[n],s}function Bs(e,t,n){const s=e.slice();return s[37]=t[n],s}function Fs(e){let t,n,s,r,o,i,a,c,l=e[3].gameID+"";const u=new Es({});return{c(){ae(u.$$.fragment),t=P(),n=C("div"),s=C("h5"),r=k("Please share Game Password '"),o=k(l),i=k("' with other player"),N(s,"text-align","center"),N(s,"margin-top","50%"),E(n,"id","popUp"),E(n,"class","container svelte-p77mst")},m(e,a){ce(u,e,a),v(e,t,a),v(e,n,a),y(n,s),y(s,r),y(s,o),y(s,i),c=!0},p(e,t){(!c||8&t[0])&&l!==(l=e[3].gameID+"")&&F(o,l)},i(e){c||(se(u.$$.fragment,e),Y(()=>{a||(a=ie(n,os,{y:-200,duration:1e3},!0)),a.run(1)}),c=!0)},o(e){re(u.$$.fragment,e),a||(a=ie(n,os,{y:-200,duration:1e3},!1)),a.run(0),c=!1},d(e){le(u,e),e&&b(t),e&&b(n),e&&a&&a.end()}}}function Ms(e){let t,n=(e[37]%2!=0&&e[40]%2==0||e[37]%2==0&&e[40]%2!=0)&&function(e){let t,n,s,r;function o(...t){return e[33](e[37],e[40],...t)}return{c(){t=x("rect"),E(t,"width",e[1]),E(t,"height",e[1]),N(t,"fill","brown"),E(t,"x",n=e[40]*e[1]),E(t,"y",s=e[37]*e[1])},m(e,n,s){v(e,t,n),s&&r(),r=A(t,"click",o)},p(r,o){e=r,2&o[0]&&E(t,"width",e[1]),2&o[0]&&E(t,"height",e[1]),2&o[0]&&n!==(n=e[40]*e[1])&&E(t,"x",n),2&o[0]&&s!==(s=e[37]*e[1])&&E(t,"y",s)},d(e){e&&b(t),r()}}}(e);return{c(){n&&n.c(),t=$()},m(e,s){n&&n.m(e,s),v(e,t,s)},p(e,t){(e[37]%2!=0&&e[40]%2==0||e[37]%2==0&&e[40]%2!=0)&&n.p(e,t)},d(e){n&&n.d(e),e&&b(t)}}}function Ns(e){let t,n,s,r,o,i,a,c,l,p,d;function h(...t){return e[32](e[37],e[40],...t)}return{c(){t=x("rect"),r=x("circle"),E(t,"width",e[1]),E(t,"height",e[1]),N(t,"fill","brown"),E(t,"x",n=e[40]*e[1]),E(t,"y",s=e[37]*e[1]),E(r,"class",o=u(e[4].getSide(e[37],e[40]))+" svelte-p77mst"),E(r,"id",i=e[4].getId(e[37],e[40])),E(r,"cx",a=e[5][e[4].getId(e[37],e[40])].y),E(r,"cy",c=e[5][e[4].getId(e[37],e[40])].x),E(r,"r",e[6]),E(r,"stroke","white"),E(r,"stroke-width",l=2*e[4].getPiece(e[37],e[40]).stack),E(r,"fill",p=e[4].getSide(e[37],e[40]))},m(e,n,s){v(e,t,n),v(e,r,n),s&&d(),d=A(r,"click",h)},p(d,h){e=d,2&h[0]&&E(t,"width",e[1]),2&h[0]&&E(t,"height",e[1]),2&h[0]&&n!==(n=e[40]*e[1])&&E(t,"x",n),2&h[0]&&s!==(s=e[37]*e[1])&&E(t,"y",s),16&h[0]&&o!==(o=u(e[4].getSide(e[37],e[40]))+" svelte-p77mst")&&E(r,"class",o),16&h[0]&&i!==(i=e[4].getId(e[37],e[40]))&&E(r,"id",i),48&h[0]&&a!==(a=e[5][e[4].getId(e[37],e[40])].y)&&E(r,"cx",a),48&h[0]&&c!==(c=e[5][e[4].getId(e[37],e[40])].x)&&E(r,"cy",c),64&h[0]&&E(r,"r",e[6]),16&h[0]&&l!==(l=2*e[4].getPiece(e[37],e[40]).stack)&&E(r,"stroke-width",l),16&h[0]&&p!==(p=e[4].getSide(e[37],e[40]))&&E(r,"fill",p)},d(e){e&&b(t),e&&b(r),d()}}}function Ts(e){let t,n,s;function r(e,s){return(null==t||16&s[0])&&(t=!e[4].isEmpty(e[37],e[40])),t?Ns:((null==n||16&s[0])&&(n=!!e[4].isEmpty(e[37],e[40])),n?Ms:void 0)}let o=r(e,[-1]),i=o&&o(e);return{c(){i&&i.c(),s=$()},m(e,t){i&&i.m(e,t),v(e,s,t)},p(e,t){o===(o=r(e,t))&&i?i.p(e,t):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(s.parentNode,s)))},d(e){i&&i.d(e),e&&b(s)}}}function qs(e){let t,n=e[8],s=[];for(let t=0;t<n.length;t+=1)s[t]=Ts(Ss(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);v(e,t,n)},p(e,r){if(1906&r[0]){let o;for(n=e[8],o=0;o<n.length;o+=1){const i=Ss(e,n,o);s[o]?s[o].p(i,r):(s[o]=Ts(i),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){w(s,e),e&&b(t)}}}function Rs(e){let t,n,s=e[3].paused&&e[3].side==e[3].currPlayer&&null!=e[3].pri&&null!=e[3].sec&&_s(e),r=e[3].side==e[3].currPlayer&&e[3].numMoves>0&&Ds(e);return{c(){t=C("div"),s&&s.c(),n=P(),r&&r.c(),E(t,"id","gameBtn"),E(t,"class","container svelte-p77mst")},m(e,o){v(e,t,o),s&&s.m(t,null),y(t,n),r&&r.m(t,null)},p(e,o){e[3].paused&&e[3].side==e[3].currPlayer&&null!=e[3].pri&&null!=e[3].sec?s?s.p(e,o):(s=_s(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),e[3].side==e[3].currPlayer&&e[3].numMoves>0?r?r.p(e,o):(r=Ds(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&b(t),s&&s.d(),r&&r.d()}}}function Is(e){let t,n,s,r,i,a,c,l,u,p=e[3].rangeMoves+"";return{c(){t=C("div"),n=C("h2"),s=k("Game State at Move: "),r=k(p),i=P(),a=C("input"),E(n,"id","rangeBar"),E(n,"class","svelte-p77mst"),E(a,"class","custom-range svelte-p77mst"),E(a,"orient","vertical"),a.disabled=c=!e[3].paused,E(a,"type","range"),E(a,"min","0"),E(a,"max",l=e[3].numMoves),E(a,"step","1"),E(t,"id","state"),E(t,"class","svelte-p77mst")},m(c,l,p){v(c,t,l),y(t,n),y(n,s),y(n,r),y(t,i),y(t,a),M(a,e[3].rangeMoves),p&&o(u),u=[A(a,"change",e[11]),A(a,"change",e[34]),A(a,"input",e[34])]},p(e,t){8&t[0]&&p!==(p=e[3].rangeMoves+"")&&F(r,p),8&t[0]&&c!==(c=!e[3].paused)&&(a.disabled=c),8&t[0]&&l!==(l=e[3].numMoves)&&E(a,"max",l),8&t[0]&&M(a,e[3].rangeMoves)},d(e){e&&b(t),o(u)}}}function _s(e){let n,s;return{c(){n=C("button"),n.textContent="Start Game",E(n,"class","btn btn-success btn-lg pause svelte-p77mst")},m(t,r,o){v(t,n,r),o&&s(),s=A(n,"click",e[13])},p:t,d(e){e&&b(n),s()}}}function Ds(e){let n,s,r,i,a,c;return{c(){n=C("button"),n.textContent="Switch Turn",s=P(),r=C("button"),r.textContent="Save Game",i=P(),a=C("button"),a.textContent="Forfeit Game",E(n,"class","btn btn-primary btn-lg switch svelte-p77mst"),E(r,"class","btn btn-warning btn-lg save svelte-p77mst"),E(a,"class","btn btn-danger btn-lg forfeit svelte-p77mst")},m(t,l,u){v(t,n,l),v(t,s,l),v(t,r,l),v(t,i,l),v(t,a,l),u&&o(c),c=[A(n,"click",e[12]),A(r,"click",e[35]),A(a,"click",e[36])]},p:t,d(e){e&&b(n),e&&b(s),e&&b(r),e&&b(i),e&&b(a),o(c)}}}function Os(e){let t,n,s,r,o,i,a,c,l,u,p,d,h,f,m,g,A,B,M,T,q,R,I,_,D,O,U,L=e[3].numMoves+"",j=e[3].time+"",H=(e[3].pri==e[2].name?e[3].sec:e[3].pri)+"",G=(e[3].pri==e[2].name?e[3].pri:e[3].sec)+"",z=e[3].pri==e[2].name&&null==e[3].sec&&0==e[3].numMoves&&Fs(e),Y=e[8],X=[];for(let t=0;t<Y.length;t+=1)X[t]=qs(Bs(e,Y,t));function J(e,t){return e[3].finished?Is:Rs}let W=J(e),V=W(e);return{c(){z&&z.c(),t=P(),n=C("div"),s=C("h2"),r=k("Playing: "),o=C("i"),i=P(),a=C("h2"),c=k("Moves: "),l=k(L),u=P(),p=C("h2"),d=k("Timer: "),h=k(j),f=P(),m=C("h4"),g=k(H),A=P(),B=C("div"),M=x("svg");for(let e=0;e<X.length;e+=1)X[e].c();T=x("use"),q=x("svg"),R=P(),I=C("h4"),_=k(G),D=P(),V.c(),O=$(),E(o,"class","fa fa-circle"),N(o,"color",e[3].currPlayer),E(s,"id","player"),E(s,"class","svelte-p77mst"),E(a,"id","moves"),E(a,"class","svelte-p77mst"),E(p,"id","time"),E(p,"class","svelte-p77mst"),E(n,"id","gameStatus"),E(n,"class","svelte-p77mst"),E(m,"class","players svelte-p77mst"),E(m,"style","top:0;%"),E(T,"id","use"),S(T,"xlink:href","#24"),E(M,"id","hover"),E(M,"class","svelte-p77mst"),E(B,"id","board"),E(B,"class","svelte-p77mst"),E(I,"class","players svelte-p77mst"),N(I,"bottom","0")},m(e,b){z&&z.m(e,b),v(e,t,b),v(e,n,b),y(n,s),y(s,r),y(s,o),y(n,i),y(n,a),y(a,c),y(a,l),y(n,u),y(n,p),y(p,d),y(p,h),v(e,f,b),v(e,m,b),y(m,g),v(e,A,b),v(e,B,b),y(B,M);for(let e=0;e<X.length;e+=1)X[e].m(M,null);y(M,T),y(M,q),v(e,R,b),v(e,I,b),y(I,_),v(e,D,b),V.m(e,b),v(e,O,b),U=!0},p(e,n){if(e[3].pri==e[2].name&&null==e[3].sec&&0==e[3].numMoves?z?(z.p(e,n),12&n[0]&&se(z,1)):(z=Fs(e),z.c(),se(z,1),z.m(t.parentNode,t)):z&&(te(),re(z,1,1,()=>{z=null}),ne()),(!U||8&n[0])&&N(o,"color",e[3].currPlayer),(!U||8&n[0])&&L!==(L=e[3].numMoves+"")&&F(l,L),(!U||8&n[0])&&j!==(j=e[3].time+"")&&F(h,j),(!U||12&n[0])&&H!==(H=(e[3].pri==e[2].name?e[3].sec:e[3].pri)+"")&&F(g,H),1906&n[0]){let t;for(Y=e[8],t=0;t<Y.length;t+=1){const s=Bs(e,Y,t);X[t]?X[t].p(s,n):(X[t]=qs(s),X[t].c(),X[t].m(M,T))}for(;t<X.length;t+=1)X[t].d(1);X.length=Y.length}(!U||12&n[0])&&G!==(G=(e[3].pri==e[2].name?e[3].pri:e[3].sec)+"")&&F(_,G),W===(W=J(e))&&V?V.p(e,n):(V.d(1),V=W(e),V&&(V.c(),V.m(O.parentNode,O)))},i(e){U||(se(z),U=!0)},o(e){re(z),U=!1},d(e){z&&z.d(e),e&&b(t),e&&b(n),e&&b(f),e&&b(m),e&&b(A),e&&b(B),w(X,e),e&&b(R),e&&b(I),e&&b(D),V.d(e),e&&b(O)}}}function Us(e,n,s){let r,o,i,a,u,p,d,h=t,f=()=>(h(),h=c(g,e=>s(6,d=e)),g);l(e,_n,e=>s(24,r=e)),l(e,Dn,e=>s(2,o=e)),l(e,zn,e=>s(3,i=e)),l(e,Hn,e=>s(4,a=e)),l(e,Gn,e=>s(25,u=e)),e.$$.on_destroy.push(()=>h()),r.emit("set-username",o.name),r.emit("join-room",i.gameID,o.name),i.pri==o.name&&null==i.currPlayer&&null==i.sec&&zn.update(e=>(e.currPlayer=0==Math.floor(2*Math.random())?"red":"black",e));let m,g,y=i.time,v=i.numMoves,b=null,w=null,C=!1,x=screen.width;f();const k=ns([]);l(e,k,e=>s(5,p=e));let P,$,A,E;screen.width<=800?(A=800/(screen.width-12.5),P=Math.floor((screen.width-10)/8),screen.width>=500?f(g=ns(25)):f(g=ns(12.5)),$=8*P,m=screen.width):(screen.height>=800?(A=1,f(g=ns(30)),P=100):(P=10*Math.floor(screen.height/100),A=1e3/(10*P),f(g=ns(25))),$=8*P,m=.8*(screen.width-800),E=.2*(screen.width-800)-40),r.on("piece-move",async e=>{if(console.log(e),null!=e.remove){let t=await a.getPieceFromId(e.id);await a.removePiece(t)}let t=await a.getPieceFromId(e.id);await a.otherPlayerMove(t,e.xDiff,e.yDiff),await Hn.set(a),u.push(a.saveBoardState()),await N(),await zn.update(t=>(t.numMoves=e.num,t.rangeMoves=e.range,t))}),document.documentElement.style.setProperty("--chat-width",m+"px"),document.documentElement.style.setProperty("--board-height",$+"px"),document.documentElement.style.setProperty("--btn-width",E+"px"),N();let S=setInterval(F,1e3);function F(){null!=b&&R(b),i.rangeMoves==i.numMoves&&0==i.paused&&(i.timer>0?zn.update(e=>(e.timer-=1,e.secondsPlayed+=1,e)):(clearInterval(S),zn.update(e=>(e.currPlayer="red"==e.currPlayer?"black":"red",e.timer=e.time,e.secondsPlayed+=1,e)),b=null,w=null,C=!1,S=setInterval(F,1e3)))}function M(e){let t=e.xPos,n=e.yPos,s=a.getId(t,n);k.update(e=>(e[s].x=(t+t+1)*(50/A),e[s].y=(n+n+1)*(50/A),e))}function N(){for(let e=0;e<8;e++)for(let t=0;t<8;t++)if(!a.isEmpty(e,t)){let n=a.getId(e,t);k.update(s=>(s[n]={},s[n].x=(e+e+1)*(50/A),s[n].y=(t+t+1)*(50/A),s))}}function T(e,t,n){if(console.log(e+", "+t),i.currPlayer==i.side&&0==C&&i.rangeMoves==i.numMoves&&0==i.paused&&null!=i.sec){let s,r,c=document.getElementById(a.getId(e,t));if("black"==a.getSide(e,t)&&o.name==i.sec){for(s=document.getElementsByClassName("black"),r=0;r<s.length;++r)s[r].setAttribute("style","fill:black");c.setAttribute("style","fill:grey")}if("red"==a.getSide(e,t)&&o.name==i.pri){for(s=document.getElementsByClassName("red"),r=0;r<s.length;++r)s[r].setAttribute("style","fill:red");c.setAttribute("style","fill:pink")}let l=n.target||event.target;document.getElementById("use").setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+l.id),b=a.getPiece(e,t)}}function q(e,t){if(console.log(e+", "+t),a.isEmpty(e,t)&&null!=b&&i.rangeMoves==i.numMoves){w=new he(e,t,"E");let n=a.doMove(b,w);if(console.log(n.move),Hn.set(a),console.log(a),n.move){zn.update(e=>(e.numMoves+=1,e.rangeMoves+=1,e)),C=!0;let s={id:a.getId(e,t),xDiff:b.getPosition().xPos-w.xPos,yDiff:b.getPosition().yPos-w.yPos,remove:n.id,num:i.numMoves,range:i.rangeMoves,room:i.ganeID};r.emit("piece-move",s),M(w),u.push(a.saveBoardState()),b=a.getPiece(w.xPos,w.yPos)}}}function R(e){let t=e.getPosition().xPos,n=e.getPosition().yPos,s=document.getElementById(a.getId(t,n));"black"==a.getSide(t,n)&&s.setAttribute("style","fill:grey"),"red"==a.getSide(t,n)&&s.setAttribute("style","fill:pink")}function I(e){if(i.side==i.currPlayer&&i.numMoves>0){clearInterval(S);let t={func:"saveGame",id:o.name,gameID:i.gameID,gameHistory:u,pri:i.pri==o.name,sec:i.sec==o.name,minutes:Math.floor(i.secondsPlayed/60),currPlayer:i.currPlayer,auto:e,saved:!1};e?(r.emit("saveGame",t),S=setInterval(F,1e3)):(r.emit("saveGame",t),On.set(0))}}setInterval((function(){i.numMoves>v&&(I(!0),v=i.numMoves)}),3e5);return[g,P,o,i,a,p,d,k,[0,1,2,3,4,5,6,7],T,q,function(){Hn.set(new Qn(u[i.rangeMoves],null)),N()},function(){if(i.side==i.currPlayer){let e,t;if(clearInterval(S),"black"==i.currPlayer)for(e=document.getElementsByClassName("black"),t=0;t<e.length;++t)e[t].setAttribute("style","fill:black");if("red"==i.currPlayer)for(e=document.getElementsByClassName("red"),t=0;t<e.length;++t)e[t].setAttribute("style","fill:red");zn.update(e=>(e.currPlayer="red"==e.currPlayer?"black":"red",e.timer=y,e)),r.emit("current-player",{player:i.currPlayer,room:i.id}),b=null,w=null,C=!1,S=setInterval(F,1e3)}},function(){i.side==i.currPlayer&&(zn.update(e=>(e.paused=!e.paused,e)),r.emit("paused",{paused:i.paused,room:i.id}))},I,v,b,w,C,m,$,A,E,S,r,u,y,x,F,M,N,R,(e,t)=>T(e,t,event),(e,t)=>q(e,t),function(){i.rangeMoves=B(this.value),zn.set(i)},()=>I(!1),()=>I(!1)]}class Ls extends de{constructor(e){super(),pe(this,e,Us,Os,a,{},[-1,-1])}}function js(e,t,n){const s=e.slice();return s[47]=t[n],s}function Hs(e,t,n){const s=e.slice();return s[44]=t[n],s}function Gs(e){let t,n=(e[44]%2!=0&&e[47]%2==0||e[44]%2==0&&e[47]%2!=0)&&function(e){let t,n,s,r;function o(...t){return e[39](e[44],e[47],...t)}return{c(){t=x("rect"),E(t,"width",e[5]),E(t,"height",e[5]),N(t,"fill","brown"),E(t,"x",n=e[47]*e[5]),E(t,"y",s=e[44]*e[5])},m(e,n,s){v(e,t,n),s&&r(),r=A(t,"click",o)},p(r,o){e=r,32&o[0]&&E(t,"width",e[5]),32&o[0]&&E(t,"height",e[5]),32&o[0]&&n!==(n=e[47]*e[5])&&E(t,"x",n),32&o[0]&&s!==(s=e[44]*e[5])&&E(t,"y",s)},d(e){e&&b(t),r()}}}(e);return{c(){n&&n.c(),t=$()},m(e,s){n&&n.m(e,s),v(e,t,s)},p(e,t){(e[44]%2!=0&&e[47]%2==0||e[44]%2==0&&e[47]%2!=0)&&n.p(e,t)},d(e){n&&n.d(e),e&&b(t)}}}function zs(e){let t,n,s,r,o,i,a,c,l,p,d;function h(...t){return e[38](e[44],e[47],...t)}return{c(){t=x("rect"),r=x("circle"),E(t,"width",e[5]),E(t,"height",e[5]),N(t,"fill","brown"),E(t,"x",n=e[47]*e[5]),E(t,"y",s=e[44]*e[5]),E(r,"class",o=u(e[6].getSide(e[44],e[47]))+" svelte-17c06h6"),E(r,"id",i=e[6].getId(e[44],e[47])),E(r,"cx",a=e[7][e[6].getId(e[44],e[47])].y),E(r,"cy",c=e[7][e[6].getId(e[44],e[47])].x),E(r,"r",e[8]),E(r,"stroke","white"),E(r,"stroke-width",l=2*e[6].getPiece(e[44],e[47]).stack),E(r,"fill",p=e[6].getSide(e[44],e[47]))},m(e,n,s){v(e,t,n),v(e,r,n),s&&d(),d=A(r,"click",h)},p(d,h){e=d,32&h[0]&&E(t,"width",e[5]),32&h[0]&&E(t,"height",e[5]),32&h[0]&&n!==(n=e[47]*e[5])&&E(t,"x",n),32&h[0]&&s!==(s=e[44]*e[5])&&E(t,"y",s),64&h[0]&&o!==(o=u(e[6].getSide(e[44],e[47]))+" svelte-17c06h6")&&E(r,"class",o),64&h[0]&&i!==(i=e[6].getId(e[44],e[47]))&&E(r,"id",i),192&h[0]&&a!==(a=e[7][e[6].getId(e[44],e[47])].y)&&E(r,"cx",a),192&h[0]&&c!==(c=e[7][e[6].getId(e[44],e[47])].x)&&E(r,"cy",c),256&h[0]&&E(r,"r",e[8]),64&h[0]&&l!==(l=2*e[6].getPiece(e[44],e[47]).stack)&&E(r,"stroke-width",l),64&h[0]&&p!==(p=e[6].getSide(e[44],e[47]))&&E(r,"fill",p)},d(e){e&&b(t),e&&b(r),d()}}}function Ys(e){let t,n,s;function r(e,s){return(null==t||64&s[0])&&(t=!e[6].isEmpty(e[44],e[47])),t?zs:((null==n||64&s[0])&&(n=!!e[6].isEmpty(e[44],e[47])),n?Gs:void 0)}let o=r(e,[-1]),i=o&&o(e);return{c(){i&&i.c(),s=$()},m(e,t){i&&i.m(e,t),v(e,s,t)},p(e,t){o===(o=r(e,t))&&i?i.p(e,t):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(s.parentNode,s)))},d(e){i&&i.d(e),e&&b(s)}}}function Xs(e){let t,n=e[12],s=[];for(let t=0;t<n.length;t+=1)s[t]=Ys(js(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);v(e,t,n)},p(e,r){if(29152&r[0]){let o;for(n=e[12],o=0;o<n.length;o+=1){const i=js(e,n,o);s[o]?s[o].p(i,r):(s[o]=Ys(i),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){w(s,e),e&&b(t)}}}function Js(e){let n,s,r,i,a,c;return{c(){n=C("button"),n.textContent="Pause Game",s=P(),r=C("button"),r.textContent="Switch Turn",i=P(),a=C("button"),a.textContent="Forfeit Game",E(n,"class","btn btn-warning btn-lg pause svelte-17c06h6"),E(r,"class","btn btn-primary btn-lg switch svelte-17c06h6"),E(a,"class","btn btn-danger btn-lg forfeit svelte-17c06h6")},m(t,l,u){v(t,n,l),v(t,s,l),v(t,r,l),v(t,i,l),v(t,a,l),u&&o(c),c=[A(n,"click",e[42]),A(r,"click",e[16]),A(a,"click",e[43])]},p:t,d(e){e&&b(n),e&&b(s),e&&b(r),e&&b(i),e&&b(a),o(c)}}}function Ws(e){let t,n,s,r,i,a,c,l,u;return{c(){t=C("button"),t.textContent="Start Game",n=P(),s=C("div"),r=C("h2"),i=k("Game State at Move: "),a=k(e[2]),c=P(),l=C("input"),E(t,"class","btn btn-success btn-lg start svelte-17c06h6"),E(r,"id","rangeBar"),E(r,"class","svelte-17c06h6"),E(l,"class","custom-range svelte-17c06h6"),E(l,"orient","vertical"),E(l,"type","range"),E(l,"min","0"),E(l,"max",e[1]),E(l,"step","1"),E(s,"id","state"),E(s,"class","svelte-17c06h6")},m(p,d,h){v(p,t,d),v(p,n,d),v(p,s,d),y(s,r),y(r,i),y(r,a),y(s,c),y(s,l),M(l,e[2]),h&&o(u),u=[A(t,"click",e[40]),A(l,"change",e[15]),A(l,"change",e[41]),A(l,"input",e[41])]},p(e,t){4&t[0]&&F(a,e[2]),2&t[0]&&E(l,"max",e[1]),4&t[0]&&M(l,e[2])},d(e){e&&b(t),e&&b(n),e&&b(s),o(u)}}}function Vs(e){let n,s,r,o,i,a,c,l,u,p,d,h,f,m,g,$,A,B,M,T,q,R,I=e[9].name+"",_=e[12],D=[];for(let t=0;t<_.length;t+=1)D[t]=Xs(Hs(e,_,t));function O(e,t){return e[3]?Ws:Js}let U=O(e),L=U(e);return{c(){n=C("div"),s=C("h2"),r=k("Playing: "),o=C("i"),i=P(),a=C("h2"),c=k("Moves: "),l=k(e[1]),u=P(),p=C("h2"),p.textContent="Timer: "+e[10],d=P(),h=C("h4"),h.textContent="Computer",f=P(),m=C("div"),g=x("svg");for(let e=0;e<D.length;e+=1)D[e].c();$=x("use"),A=x("svg"),B=P(),M=C("h4"),T=k(I),q=P(),R=C("div"),L.c(),E(o,"class","fa fa-circle"),N(o,"color",e[0]),E(s,"id","player"),E(s,"class","svelte-17c06h6"),E(a,"id","moves"),E(a,"class","svelte-17c06h6"),E(p,"id","time"),E(p,"class","svelte-17c06h6"),E(n,"id","gameStatus"),E(n,"class","svelte-17c06h6"),E(h,"class","players svelte-17c06h6"),E(h,"style","top:0;%"),E($,"id","use"),S($,"xlink:href","#24"),E(g,"id","hover"),E(g,"class","svelte-17c06h6"),E(m,"id","board"),E(m,"class","svelte-17c06h6"),E(M,"class","players svelte-17c06h6"),N(M,"bottom","0"),E(R,"id","gameBtn"),E(R,"class","container svelte-17c06h6")},m(e,t){v(e,n,t),y(n,s),y(s,r),y(s,o),y(n,i),y(n,a),y(a,c),y(a,l),y(n,u),y(n,p),v(e,d,t),v(e,h,t),v(e,f,t),v(e,m,t),y(m,g);for(let e=0;e<D.length;e+=1)D[e].m(g,null);y(g,$),y(g,A),v(e,B,t),v(e,M,t),y(M,T),v(e,q,t),v(e,R,t),L.m(R,null)},p(e,t){if(1&t[0]&&N(o,"color",e[0]),2&t[0]&&F(l,e[1]),29152&t[0]){let n;for(_=e[12],n=0;n<_.length;n+=1){const s=Hs(e,_,n);D[n]?D[n].p(s,t):(D[n]=Xs(s),D[n].c(),D[n].m(g,$))}for(;n<D.length;n+=1)D[n].d(1);D.length=_.length}512&t[0]&&I!==(I=e[9].name+"")&&F(T,I),U===(U=O(e))&&L?L.p(e,t):(L.d(1),L=U(e),L&&(L.c(),L.m(R,null)))},i:t,o:t,d(e){e&&b(n),e&&b(d),e&&b(h),e&&b(f),e&&b(m),w(D,e),e&&b(B),e&&b(M),e&&b(q),e&&b(R),L.d()}}}function Ks(e,n,s){let r,o,i,a,u,p,d=t,h=()=>(d(),d=c(m,e=>s(8,u=e)),m);l(e,Hn,e=>s(6,r=e)),l(e,Gn,e=>s(28,o=e)),l(e,zn,e=>s(29,i=e)),l(e,Dn,e=>s(9,p=e)),e.$$.on_destroy.push(()=>d()),Hn.set(new Qn(null,!1));let f,m,g="red",y=60,v=0,b=0,w=0,C=!0,x=null,k=null,P=!1,$=screen.width;h();const A=ns([]);l(e,A,e=>s(7,a=e));let E,S,F,M;screen.width<=800?(F=800/(screen.width-12.5),E=Math.floor((screen.width-10)/8),screen.width>=500?h(m=ns(25)):h(m=ns(12.5)),S=8*E,f=screen.width):(screen.height>=800?(F=1,h(m=ns(30)),E=100):(E=10*Math.floor(screen.height/100),F=1e3/(10*E),h(m=ns(25))),S=8*E,f=.8*(screen.width-800),M=.2*(screen.width-800)-40),document.documentElement.style.setProperty("--chat-width",f+"px"),document.documentElement.style.setProperty("--board-height",S+"px"),document.documentElement.style.setProperty("--btn-width",M+"px"),R();let N=setInterval(T,1e3);function T(){null!=x&&D(x),b==v&&0==C&&(y>0?y--:(clearInterval(N),s(0,g="red"==g?"black":"red"),y=60,x=null,k=null,P=!1,N=setInterval(T,1e3)))}function q(e){let t=e.xPos,n=e.yPos,s=r.getId(t,n);A.update(e=>(e[s].x=(t+t+1)*(50/F),e[s].y=(n+n+1)*(50/F),e))}function R(){for(let e=0;e<8;e++)for(let t=0;t<8;t++)if(!r.isEmpty(e,t)){let n=r.getId(e,t);A.update(s=>(s[n]={},s[n].x=(e+e+1)*(50/F),s[n].y=(t+t+1)*(50/F),s))}}function I(e,t,n){if(console.log(e+", "+t),"red"==g&&0==P&&b==v&&0==C){let s,o,i=document.getElementById(r.getId(e,t));if("black"==r.getSide(e,t)){for(s=document.getElementsByClassName("black"),o=0;o<s.length;++o)s[o].setAttribute("style","fill:black");i.setAttribute("style","fill:grey")}if("red"==r.getSide(e,t)){for(s=document.getElementsByClassName("red"),o=0;o<s.length;++o)s[o].setAttribute("style","fill:red");i.setAttribute("style","fill:pink")}let a=n.target||event.target;document.getElementById("use").setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+a.id),x=r.getPiece(e,t)}}function _(e,t){if(console.log(e+", "+t),r.isEmpty(e,t)&&null!=x&&b==v){k=new he(e,t,"E");let n=r.doMove(x,k);console.log(n.move),Hn.set(r),console.log(r),n.move&&(s(1,v+=1),s(2,b+=1),P=!0,q(k),o.push(r.saveBoardState()),x=r.getPiece(k.xPos,k.yPos))}}function D(e){let t=e.getPosition().xPos,n=e.getPosition().yPos,s=document.getElementById(r.getId(t,n));"black"==r.getSide(t,n)&&s.setAttribute("style","fill:grey"),"red"==r.getSide(t,n)&&s.setAttribute("style","fill:pink")}function O(e){"red"==g&&v>0&&clearInterval(N)}setInterval((function(){v>w&&(O(),w=v)}),3e5);return[g,v,b,C,m,E,r,a,u,p,60,A,[0,1,2,3,4,5,6,7],I,_,function(){Hn.set(new Qn(o[i.rangeMoves],null)),R()},function(){if("red"==g){let e,t;if(clearInterval(N),"black"==g)for(e=document.getElementsByClassName("black"),t=0;t<e.length;++t)e[t].setAttribute("style","fill:black");if("red"==g)for(e=document.getElementsByClassName("red"),t=0;t<e.length;++t)e[t].setAttribute("style","fill:red");s(0,g="red"==g?"black":"red"),y=60,x=null,k=null,P=!1,N=setInterval(T,1e3)}},O,y,w,x,k,P,f,S,F,M,N,o,i,60,!1,$,T,q,R,D,function(){"red"==g&&s(3,C=!C)},(e,t)=>I(e,t,event),(e,t)=>_(e,t),()=>s(3,C=!C),function(){b=B(this.value),s(2,b)},()=>s(3,C=!C),()=>O()]}class Zs extends de{constructor(e){super(),pe(this,e,Ks,Vs,a,{},[-1,-1])}}function Qs(e){let t;const n=new Zs({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function er(e){let t;const n=new Ls({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function tr(e){let t,n,s,r;const o=[er,Qs],i=[];function a(e,t){return null!=e[0]?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=$()},m(e,n){i[t].m(e,n),v(e,s,n),r=!0},p(e,[r]){let c=t;t=a(e),t!==c&&(te(),re(i[c],1,1,()=>{i[c]=null}),ne(),n=i[t],n||(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&b(s)}}}function nr(e,t,n){let s;return l(e,zn,e=>n(0,s=e)),[s]}class sr extends de{constructor(e){super(),pe(this,e,nr,tr,a,{})}}function rr(e){let n,s,r,i,a,c,l;return{c(){n=C("div"),s=C("table"),r=C("tr"),i=C("td"),i.innerHTML='<i class="fa fa-qrcode svelte-nu81iu"></i> \n                <span class="svelte-nu81iu">Game</span>',a=P(),c=C("td"),c.innerHTML='<i class="fa fa-comments svelte-nu81iu"></i> \n                <span class="svelte-nu81iu">Chat</span>',E(i,"class","tabIndex"),E(i,"align","center"),E(c,"class","tabIndex"),E(c,"align","center"),E(r,"height","50"),E(s,"id","sidebar-inner-mob"),E(s,"cellpadding","10"),E(s,"class","svelte-nu81iu"),E(n,"id","sidebar-outer-mob"),E(n,"class","svelte-nu81iu")},m(t,u,p){v(t,n,u),y(n,s),y(s,r),y(r,i),y(r,a),y(r,c),p&&o(l),l=[A(i,"click",e[1]),A(c,"click",e[2])]},p:t,i:t,o:t,d(e){e&&b(n),o(l)}}}function or(e){function t(e){Un.set(e)}return[t,()=>t(0),()=>t(1)]}class ir extends de{constructor(e){super(),pe(this,e,or,rr,a,{})}}function ar(e,t,n){let s,r,o,i,a;return l(e,_n,e=>n(0,s=e)),l(e,Xn,e=>n(1,r=e)),l(e,Dn,e=>n(2,o=e)),l(e,zn,e=>n(3,i=e)),l(e,Gn,e=>n(4,a=e)),s.on("chat message",e=>{let t,n;for(console.log("Received: "+e.msg),t=0;t<r.length;t++)if(r[t].id==e.chatID){Xn.update(n=>(n[t].history.push(e),n)),n=t;break}console.log(r);let i={func:"saveChat",id:o.email,chatID:r[n].id,history:r[n].history};s.emit("save-chat",i)}),s.on("second-user",e=>{null==i.sec&&null!=i.currPlayer&&(console.log("Received second player"),zn.update(t=>(t.sec=e,t)),s.emit("current-player",{player:i.currPlayer,room:i.gameID}),s.emit("first-user",{room:i.gameID,name:o.name}),screen.width<800&&Un.set(0))}),s.on("first-user",e=>{null==i.pri&&null!=i.currPlayer&&(console.log("Received first player"),zn.update(t=>(t.pri=e,t)),s.emit("current-player",{player:i.currPlayer,room:i.gameID}),screen.width<800&&Un.set(0))}),s.on("current-player",e=>{console.log("Received current player"),zn.update(t=>(t.timer=t.time,t.currPlayer=e,t)),console.log(i.currPlayer)}),s.on("paused",e=>{zn.update(t=>(t.paused=e,t))}),s.on("saveGame",e=>{let t={func:"saveGame",id:o.email,gameID:i.id,gameHistory:a,pri:i.pri==o.name,sec:i.sec==o.name,minutes:Math.floor(i.secondsPlayed/60),currPlayer:i.currPlayer,auto:e.auto,saved:!0};s.emit("save-game",t),e.auto||On.set(0)}),[]}class cr extends de{constructor(e){super(),pe(this,e,ar,null,a,{})}}function lr(e){let n;return{c(){n=C("div"),n.innerHTML='<div class="loader svelte-1wwoatl"></div>',E(n,"id","signup-loader"),E(n,"class","loader-container svelte-1wwoatl")},m(e,t){v(e,n,t)},p:t,i:t,o:t,d(e){e&&b(n)}}}class ur extends de{constructor(e){super(),pe(this,e,null,lr,a,{})}}function pr(e){let n,s;return{c(){n=C("button"),n.textContent="Create",E(n,"class","btn btn-primary svelte-1oxvc8w")},m(t,r,o){v(t,n,r),o&&s(),s=A(n,"click",e[3])},p:t,i:t,o:t,d(e){e&&b(n),s()}}}function dr(e){let n;const s=new ur({});return{c(){ae(s.$$.fragment)},m(e,t){ce(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){le(s,e)}}}function hr(e){let t,n,s,r,i,a,c,l,u,p,d,h,f,m,g,w,x,S,B,N,T,q,R,I,_,D,O,U,L,j,H,G,z,Y,X,J;const W=[dr,pr],V=[];function K(e,t){return e[1]?0:1}return G=K(e),z=V[G]=W[G](e),{c(){t=C("h5"),t.textContent="Game Preferences",n=P(),s=C("div"),r=C("h6"),r.textContent="Time Per Turn (seconds)",i=P(),a=C("div"),c=C("input"),l=P(),u=C("label"),u.textContent="15",p=P(),d=C("div"),h=C("input"),f=P(),m=C("label"),m.textContent="30",g=P(),w=C("div"),x=C("input"),S=P(),B=C("label"),B.textContent="45",N=P(),T=C("div"),q=C("input"),R=P(),I=C("label"),I.textContent="60",_=P(),D=C("h6"),O=k(e[0]),U=k(" seconds"),L=P(),j=C("input"),H=P(),z.c(),Y=$(),E(t,"class","svelte-1oxvc8w"),E(r,"class","svelte-1oxvc8w"),E(c,"class","form-check-input"),E(c,"type","radio"),E(c,"name","inlineRadioOptions"),E(c,"id","inlineRadio1"),E(u,"class","form-check-label"),E(u,"for","inlineRadio1"),E(a,"class","form-check form-check-inline svelte-1oxvc8w"),E(h,"class","form-check-input"),E(h,"type","radio"),E(h,"name","inlineRadioOptions"),E(h,"id","inlineRadio2"),E(m,"class","form-check-label"),E(m,"for","inlineRadio2"),E(d,"class","form-check form-check-inline svelte-1oxvc8w"),E(x,"class","form-check-input"),E(x,"type","radio"),E(x,"name","inlineRadioOptions"),E(x,"id","inlineRadio3"),E(B,"class","form-check-label"),E(B,"for","inlineRadio3"),E(w,"class","form-check form-check-inline svelte-1oxvc8w"),E(q,"class","form-check-input"),E(q,"type","radio"),E(q,"name","inlineRadioOptions"),E(q,"id","inlineRadio3"),E(I,"class","form-check-label"),E(I,"for","inlineRadio3"),E(T,"class","form-check form-check-inline svelte-1oxvc8w"),E(s,"id","suggest"),E(s,"class","svelte-1oxvc8w"),E(D,"class","svelte-1oxvc8w"),E(j,"class","custom-range"),E(j,"type","range"),E(j,"min","15"),E(j,"max","60"),E(j,"step","1")},m(b,C,k){v(b,t,C),v(b,n,C),v(b,s,C),y(s,r),y(s,i),y(s,a),y(a,c),y(a,l),y(a,u),y(s,p),y(s,d),y(d,h),y(d,f),y(d,m),y(s,g),y(s,w),y(w,x),y(w,S),y(w,B),y(s,N),y(s,T),y(T,q),y(T,R),y(T,I),v(b,_,C),v(b,D,C),y(D,O),y(D,U),v(b,L,C),v(b,j,C),M(j,e[0]),v(b,H,C),V[G].m(b,C),v(b,Y,C),X=!0,k&&o(J),J=[A(c,"change",e[8]),A(h,"change",e[9]),A(x,"change",e[10]),A(q,"change",e[11]),A(j,"change",e[12]),A(j,"input",e[12])]},p(e,[t]){(!X||1&t)&&F(O,e[0]),1&t&&M(j,e[0]);let n=G;G=K(e),G===n?V[G].p(e,t):(te(),re(V[n],1,1,()=>{V[n]=null}),ne(),z=V[G],z||(z=V[G]=W[G](e),z.c()),se(z,1),z.m(Y.parentNode,Y))},i(e){X||(se(z),X=!0)},o(e){re(z),X=!1},d(e){e&&b(t),e&&b(n),e&&b(s),e&&b(_),e&&b(D),e&&b(L),e&&b(j),e&&b(H),V[G].d(e),e&&b(Y),o(J)}}}function fr(e,t,n){let s,r,o;l(e,Gn,e=>n(5,s=e)),l(e,Hn,e=>n(6,r=e)),l(e,Dn,e=>n(7,o=e));let i,a=15,c=!1;function u(e){n(0,a=e)}return[a,c,u,function(){n(1,c=!0),Hn.set(new Qn(null,!1)),s.push(r.saveBoardState()),i={func:"createGame",email:o.email,name:o.name,time:a,date:moment().format("YYYY-MM-DD")},ss(i).then(e=>{console.log(e),null!=e.msg?(console.log(e.msg),zn.update(t=>((t={}).gameID=e.msg,t.time=a,t.timer=a,t.pri=o.name,t.sec=null,t.chatID=null,t.currPlayer=null,t.numMoves=0,t.rangeMoves=0,t.paused=!0,t.finished=!1,t.side="red",t.secondsPlayed=0,t)),n(1,c=!1),Jn.set(!1),Vn.set(!1),Un.set(0)):(n(1,c=!1),console.log(e.err))}).catch(e=>{n(1,c=!1),console.log(e)})},i,s,r,o,()=>u(15),()=>u(30),()=>u(45),()=>u(60),function(){a=B(this.value),n(0,a)}]}class mr extends de{constructor(e){super(),pe(this,e,fr,hr,a,{})}}function gr(e){let t,n;return{c(){t=C("h6"),n=k(e[2]),N(t,"text-align","center"),N(t,"color","red"),N(t,"margin-top","20px")},m(e,s){v(e,t,s),y(t,n)},p(e,t){4&t&&F(n,e[2])},d(e){e&&b(t)}}}function yr(e){let n,s;return{c(){n=C("button"),n.textContent="Join",E(n,"class","btn btn-primary svelte-minyyb"),N(n,"margin-bottom","30px")},m(t,r,o){v(t,n,r),o&&s(),s=A(n,"click",e[4])},p:t,i:t,o:t,d(e){e&&b(n),s()}}}function vr(e){let n;const s=new ur({});return{c(){ae(s.$$.fragment)},m(e,t){ce(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){le(s,e)}}}function br(e){let t,n,s,r,i,a,c,l,u,p,d=e[1]&&gr(e);const h=[vr,yr],f=[];function m(e,t){return e[3]?0:1}return a=m(e),c=f[a]=h[a](e),{c(){t=C("h5"),t.textContent="Game Password",n=P(),d&&d.c(),s=P(),r=C("input"),i=P(),c.c(),l=$(),E(t,"class","svelte-minyyb"),E(r,"placeholder","Game Password"),r.required=!0,E(r,"class","svelte-minyyb")},m(c,h,m){v(c,t,h),v(c,n,h),d&&d.m(c,h),v(c,s,h),v(c,r,h),M(r,e[0]),v(c,i,h),f[a].m(c,h),v(c,l,h),u=!0,m&&o(p),p=[A(r,"input",e[10]),A(r,"keydown",e[11])]},p(e,[t]){e[1]?d?d.p(e,t):(d=gr(e),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null),1&t&&r.value!==e[0]&&M(r,e[0]);let n=a;a=m(e),a===n?f[a].p(e,t):(te(),re(f[n],1,1,()=>{f[n]=null}),ne(),c=f[a],c||(c=f[a]=h[a](e),c.c()),se(c,1),c.m(l.parentNode,l))},i(e){u||(se(c),u=!0)},o(e){re(c),u=!1},d(e){e&&b(t),e&&b(n),d&&d.d(e),e&&b(s),e&&b(r),e&&b(i),f[a].d(e),e&&b(l),o(p)}}}function wr(e,t,n){let s,r,o,i,a;l(e,Dn,e=>n(6,s=e)),l(e,Gn,e=>n(7,r=e)),l(e,Hn,e=>n(8,o=e));let c,u=!1,p=!1;function d(){null!=i&&(n(3,p=!0),a={func:"joinGame",gameID:i,email:s.email,name:s.name},ss(a).then(e=>{if(console.log(e),null!=e.msg){let t=e.msg.game;t.priEmail!=s.email?(Hn.set(new Qn(null,!0)),r.push(o.saveBoardState()),Yn.set(e.msg.chat.history),zn.update(n=>((n={}).time=t.time,n.timer=t.time,n.gameID=i,n.chatID=e.msg.chat.id,n.pri=null,n.sec=t.secPlayer,n.currPlayer=null,n.numMoves=0,n.rangeMoves=0,n.paused=!0,n.finished=!1,n.side="black",n.secondsPlayed=0,n)),n(3,p=!1),Jn.set(!1),Kn.set(!1),Un.set(0)):(n(3,p=!1),n(2,c="Cannot Join A Game You Created"),n(1,u=!0),h(i,e.msg.chat.id))}else n(3,p=!1),console.log(e.err)}).catch(e=>{n(3,p=!1),console.log(e)}))}function h(e,t){a={func:"deleteGame",gameID:e,chatID:t},ss(a).then(e=>{console.log(e),"SUCCESS"==e.msg?console.log("Game deleted successfully"):console.log(e.err)}).catch(e=>{console.log(e)})}return[i,u,c,p,d,a,s,r,o,h,function(){i=this.value,n(0,i)},e=>13===e.which&&d()]}class Cr extends de{constructor(e){super(),pe(this,e,wr,br,a,{})}}function xr(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function kr(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function Pr(e){let t,n,s,r,o,i,a,c,l,p,d,h,f,m,g,x,$,S,B,M,N,T,q,R,I,_,D,O,U,L,j,H,G,z,Y,X,J,W,V,K,Z,Q,ee,te,ne,se,re,oe,ie,ae=(e[0].priPlayer==e[2].name?"Me":e[0].priPlayer.toUpperCase())+"",ce=(e[0].secPlayer==e[2].name?"Me":e[0].secPlayer.toUpperCase())+"",le=e[0].date+"",ue=0==e[0].finished?"On-Going":"Finished",pe=e[0].time+"",de=(e[0].priEmail==e[2].email?e[0].priGameHistory.length:e[0].secGameHistory.length)+"",he=e[0].minutesPlayed+"",fe=("red"==e[0].currPlayer&&e[0].priEmail==e[2].email?"You":e[0].secPlayer.toUpperCase())+"",me=1==e[0].finished?"Review Game":"Resume Game",ge=e[1],ye=[];for(let t=0;t<ge.length;t+=1)ye[t]=Er(kr(e,ge,t));let ve=e[1],be=[];for(let t=0;t<ve.length;t+=1)be[t]=Br(xr(e,ve,t));return{c(){t=C("div"),n=C("h5"),n.textContent="On-Going Games",s=P();for(let e=0;e<ye.length;e+=1)ye[e].c();r=P(),o=C("h5"),o.textContent="Finished Games",i=P();for(let e=0;e<be.length;e+=1)be[e].c();a=P(),c=C("div"),l=C("h3"),p=k(ae),d=k(" vs. "),h=k(ce),f=P(),m=C("h4"),g=k("Date Started: "),x=C("span"),$=k(le),S=P(),B=C("h4"),M=k("Status: "),N=C("span"),T=k(ue),q=P(),R=C("h4"),I=k("Turn Time: "),_=C("span"),D=k(pe),O=k(" seconds"),U=P(),L=C("h4"),j=k("Total Moves: "),H=C("span"),G=k(de),z=P(),Y=C("h4"),X=k("Minutes Played: "),J=C("span"),W=k(he),V=k(" minutes"),K=P(),Z=C("h4"),Q=k("Current Player: "),ee=C("span"),te=k(fe),ne=P(),se=C("button"),re=k(me),E(n,"class","svelte-epg60r"),E(o,"class","svelte-epg60r"),E(t,"id","gameList"),E(t,"class","container-fluid svelte-epg60r"),E(l,"id","versus"),E(l,"class","svelte-epg60r"),E(x,"class","svelte-epg60r"),E(m,"class","detail svelte-epg60r"),E(N,"class","svelte-epg60r"),E(B,"class","detail svelte-epg60r"),E(_,"class","svelte-epg60r"),E(R,"class","detail svelte-epg60r"),E(H,"class","svelte-epg60r"),E(L,"class","detail svelte-epg60r"),E(J,"class","svelte-epg60r"),E(Y,"class","detail svelte-epg60r"),E(ee,"class","svelte-epg60r"),E(Z,"class","detail svelte-epg60r"),E(se,"id","getGame"),E(se,"class",oe=u(1==e[0].finished?"btn btn-primary":"btn- btn-warning")+" svelte-epg60r"),E(c,"id","gameDetails"),E(c,"class","svelte-epg60r")},m(u,b,w){v(u,t,b),y(t,n),y(t,s);for(let e=0;e<ye.length;e+=1)ye[e].m(t,null);y(t,r),y(t,o),y(t,i);for(let e=0;e<be.length;e+=1)be[e].m(t,null);v(u,a,b),v(u,c,b),y(c,l),y(l,p),y(l,d),y(l,h),y(c,f),y(c,m),y(m,g),y(m,x),y(x,$),y(c,S),y(c,B),y(B,M),y(B,N),y(N,T),y(c,q),y(c,R),y(R,I),y(R,_),y(_,D),y(_,O),y(c,U),y(c,L),y(L,j),y(L,H),y(H,G),y(c,z),y(c,Y),y(Y,X),y(Y,J),y(J,W),y(J,V),y(c,K),y(c,Z),y(Z,Q),y(Z,ee),y(ee,te),y(c,ne),y(c,se),y(se,re),w&&ie(),ie=A(se,"click",e[4])},p(e,n){if(14&n){let s;for(ge=e[1],s=0;s<ge.length;s+=1){const o=kr(e,ge,s);ye[s]?ye[s].p(o,n):(ye[s]=Er(o),ye[s].c(),ye[s].m(t,r))}for(;s<ye.length;s+=1)ye[s].d(1);ye.length=ge.length}if(14&n){let s;for(ve=e[1],s=0;s<ve.length;s+=1){const r=xr(e,ve,s);be[s]?be[s].p(r,n):(be[s]=Br(r),be[s].c(),be[s].m(t,null))}for(;s<be.length;s+=1)be[s].d(1);be.length=ve.length}5&n&&ae!==(ae=(e[0].priPlayer==e[2].name?"Me":e[0].priPlayer.toUpperCase())+"")&&F(p,ae),5&n&&ce!==(ce=(e[0].secPlayer==e[2].name?"Me":e[0].secPlayer.toUpperCase())+"")&&F(h,ce),1&n&&le!==(le=e[0].date+"")&&F($,le),1&n&&ue!==(ue=0==e[0].finished?"On-Going":"Finished")&&F(T,ue),1&n&&pe!==(pe=e[0].time+"")&&F(D,pe),5&n&&de!==(de=(e[0].priEmail==e[2].email?e[0].priGameHistory.length:e[0].secGameHistory.length)+"")&&F(G,de),1&n&&he!==(he=e[0].minutesPlayed+"")&&F(W,he),5&n&&fe!==(fe=("red"==e[0].currPlayer&&e[0].priEmail==e[2].email?"You":e[0].secPlayer.toUpperCase())+"")&&F(te,fe),1&n&&me!==(me=1==e[0].finished?"Review Game":"Resume Game")&&F(re,me),1&n&&oe!==(oe=u(1==e[0].finished?"btn btn-primary":"btn- btn-warning")+" svelte-epg60r")&&E(se,"class",oe)},d(e){e&&b(t),w(ye,e),w(be,e),e&&b(a),e&&b(c),ie()}}}function $r(e){let n,s,r;return{c(){n=C("h5"),n.textContent="There are no games to view",s=P(),r=C("h5"),r.textContent="Create or Join a Game",E(n,"class","empty svelte-epg60r"),N(n,"margin-top","25%"),E(r,"class","empty svelte-epg60r")},m(e,t){v(e,n,t),v(e,s,t),v(e,r,t)},p:t,d(e){e&&b(n),e&&b(s),e&&b(r)}}}function Ar(e){let t,n,s,r,o,i=(e[7].priPlayer==e[2].name?"Me":e[7].priPlayer.toUpperCase())+"",a=(e[7].secPlayer==e[2].name?"Me":e[7].secPlayer.toUpperCase())+"";function c(...t){return e[5](e[9],...t)}return{c(){t=C("button"),n=k(i),s=k(" vs. "),r=k(a),E(t,"class","btn btn-dark svelte-epg60r")},m(e,i,a){v(e,t,i),y(t,n),y(t,s),y(t,r),a&&o(),o=A(t,"click",c)},p(t,s){e=t,6&s&&i!==(i=(e[7].priPlayer==e[2].name?"Me":e[7].priPlayer.toUpperCase())+"")&&F(n,i),6&s&&a!==(a=(e[7].secPlayer==e[2].name?"Me":e[7].secPlayer.toUpperCase())+"")&&F(r,a)},d(e){e&&b(t),o()}}}function Er(e){let t,n=!e[7].finished&&Ar(e);return{c(){n&&n.c(),t=$()},m(e,s){n&&n.m(e,s),v(e,t,s)},p(e,s){e[7].finished?n&&(n.d(1),n=null):n?n.p(e,s):(n=Ar(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&b(t)}}}function Sr(e){let t,n,s,r,o,i=(e[7].priPlayer==e[2].name?"Me":e[7].priPlayer.toUpperCase())+"",a=(e[7].secPlayer==e[2].name?"Me":e[7].secPlayer.toUpperCase())+"";function c(...t){return e[6](e[9],...t)}return{c(){t=C("button"),n=k(i),s=k(" vs. "),r=k(a),E(t,"class","btn btn-dark svelte-epg60r")},m(e,i,a){v(e,t,i),y(t,n),y(t,s),y(t,r),a&&o(),o=A(t,"click",c)},p(t,s){e=t,6&s&&i!==(i=(e[7].priPlayer==e[2].name?"Me":e[7].priPlayer.toUpperCase())+"")&&F(n,i),6&s&&a!==(a=(e[7].secPlayer==e[2].name?"Me":e[7].secPlayer.toUpperCase())+"")&&F(r,a)},d(e){e&&b(t),o()}}}function Br(e){let t,n=e[7].finished&&Sr(e);return{c(){n&&n.c(),t=$()},m(e,s){n&&n.m(e,s),v(e,t,s)},p(e,s){e[7].finished?n?n.p(e,s):(n=Sr(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&b(t)}}}function Fr(e){let n;function s(e,t){return 0==e[1].length?$r:Pr}let r=s(e),o=r(e);return{c(){o.c(),n=$()},m(e,t){o.m(e,t),v(e,n,t)},p(e,[t]){r===(r=s(e))&&o?o.p(e,t):(o.d(1),o=r(e),o&&(o.c(),o.m(n.parentNode,n)))},i:t,o:t,d(e){o.d(e),e&&b(n)}}}function Mr(e,t,n){let s,r;l(e,Ln,e=>n(1,s=e)),l(e,Dn,e=>n(2,r=e));let o=s[0];function i(e){n(0,o=s[e])}return[o,s,r,i,function(){let e=game.priEmail==r.email?o.priGameHistory:o.secGameHistory;Hn.set(new Qn(e[e.length-1],null)),Gn.set(e),zn.update(t=>((t={}).id=o.id,t.time=o.time,t.timer=o.time,t.pri=o.priEmail==r.email?r.name:null,t.sec=o.secEmail==r.email?r.name:null,t.currPlayer=o.currPlayer,t.numMoves=e.length,t.rangeMoves=e.length,t.paused=1==resume,t.finished=o.finished,t.side=o.priEmail==r.email?"red":"black",t.secondsPlayed=60*o.minutesPlayed,t)),Wn.set(!1),Zn.set(!1),Un.set(0)},e=>i(e),e=>i(e)]}class Nr extends de{constructor(e){super(),pe(this,e,Mr,Fr,a,{})}}function Tr(e){let n;const s=new ur({});return{c(){ae(s.$$.fragment)},m(e,t){ce(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){le(s,e)}}}function qr(e){let n,s;return{c(){n=C("button"),n.textContent="Update Profile",E(n,"class","btn btn-success svelte-b36ni")},m(t,r,o){v(t,n,r),o&&s(),s=A(n,"click",e[9])},p:t,i:t,o:t,d(e){e&&b(n),s()}}}function Rr(e){let n;const s=new ur({});return{c(){ae(s.$$.fragment)},m(e,t){ce(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){le(s,e)}}}function Ir(e){let n,s;return{c(){n=C("button"),n.textContent="Reset",E(n,"class","btn btn-success svelte-b36ni")},m(t,r,o){v(t,n,r),o&&s(),s=A(n,"click",e[10])},p:t,i:t,o:t,d(e){e&&b(n),s()}}}function _r(e){let t,n,s,r,i,a,c,l,u,p,d,h,f,m,g,w,x,$,S,B,T,q,R,I,_,D,O,U,L,j,H,G,z,Y,X,J,W,V,K,Z,Q=e[7].email+"";const ee=[qr,Tr],oe=[];function ie(e,t){return e[6]?1:0}D=ie(e),O=oe[D]=ee[D](e);const ae=[Ir,Rr],ce=[];function le(e,t){return e[6]?1:0}return X=le(e),J=ce[X]=ae[X](e),{c(){t=C("h3"),t.textContent="Settings",n=P(),s=C("div"),r=C("h5"),r.textContent="Profile",i=P(),a=C("h6"),c=k("Account ID: "),l=C("span"),u=k(Q),p=P(),d=C("img"),f=P(),m=C("div"),g=C("input"),w=P(),x=C("label"),$=k(e[5]),S=P(),B=C("p"),B.textContent="Image size should be less than 1MB",T=P(),q=C("input"),R=P(),I=C("input"),_=P(),O.c(),U=P(),L=C("h5"),L.textContent="Reset Password",j=P(),H=C("input"),G=P(),z=C("input"),Y=P(),J.c(),W=P(),V=C("div"),E(t,"class","svelte-b36ni"),N(r,"text-align","center"),N(a,"text-align","center"),E(d,"alt","propic"),d.src!==(h=e[1])&&E(d,"src",h),E(d,"class","svelte-b36ni"),E(g,"type","file"),E(g,"accept","image/jpeg"),E(g,"class","custom-file-input svelte-b36ni"),E(g,"id","customFile"),E(x,"class","custom-file-label"),E(x,"for","customFile"),E(m,"id","propic"),E(m,"class","custom-file input-group svelte-b36ni"),N(B,"text-align","center"),E(q,"type","text"),E(q,"id","inlineFormInputGroup"),E(q,"placeholder","Display Name"),E(q,"class","svelte-b36ni"),E(I,"id","authPass"),E(I,"type","password"),E(I,"placeholder","Account Password"),E(I,"class","svelte-b36ni"),N(L,"margin-top","60px"),N(L,"text-align","center"),E(H,"type","password"),E(H,"placeholder","Account Password"),E(H,"class","svelte-b36ni"),E(z,"type","password"),E(z,"placeholder","New Password"),E(z,"class","svelte-b36ni"),E(s,"id","leftSet"),E(s,"class","container-fluid svelte-b36ni"),E(V,"id","rightSet"),E(V,"class","container-fluid svelte-b36ni")},m(h,b,C){v(h,t,b),v(h,n,b),v(h,s,b),y(s,r),y(s,i),y(s,a),y(a,c),y(a,l),y(l,u),y(s,p),y(s,d),y(s,f),y(s,m),y(m,g),y(m,w),y(m,x),y(x,$),y(s,S),y(s,B),y(s,T),y(s,q),M(q,e[0]),y(s,R),y(s,I),M(I,e[2]),y(s,_),oe[D].m(s,null),y(s,U),y(s,L),y(s,j),y(s,H),M(H,e[3]),y(s,G),y(s,z),M(z,e[4]),y(s,Y),ce[X].m(s,null),v(h,W,b),v(h,V,b),K=!0,C&&o(Z),Z=[A(g,"change",e[8]),A(q,"input",e[12]),A(I,"input",e[13]),A(H,"input",e[14]),A(z,"input",e[15])]},p(e,[t]){(!K||128&t)&&Q!==(Q=e[7].email+"")&&F(u,Q),(!K||2&t&&d.src!==(h=e[1]))&&E(d,"src",h),(!K||32&t)&&F($,e[5]),1&t&&q.value!==e[0]&&M(q,e[0]),4&t&&I.value!==e[2]&&M(I,e[2]);let n=D;D=ie(e),D===n?oe[D].p(e,t):(te(),re(oe[n],1,1,()=>{oe[n]=null}),ne(),O=oe[D],O||(O=oe[D]=ee[D](e),O.c()),se(O,1),O.m(s,U)),8&t&&H.value!==e[3]&&M(H,e[3]),16&t&&z.value!==e[4]&&M(z,e[4]);let r=X;X=le(e),X===r?ce[X].p(e,t):(te(),re(ce[r],1,1,()=>{ce[r]=null}),ne(),J=ce[X],J||(J=ce[X]=ae[X](e),J.c()),se(J,1),J.m(s,null))},i(e){K||(se(O),se(J),K=!0)},o(e){re(O),re(J),K=!1},d(e){e&&b(t),e&&b(n),e&&b(s),oe[D].d(),ce[X].d(),e&&b(W),e&&b(V),o(Z)}}}function Dr(t,n,s){let r;l(t,Dn,e=>s(7,r=e));let o,i,a,c,u=r.name,p=r.picture,d="Choose Profile Photo",h=!1;return[u,p,o,i,a,d,h,r,function(){if(e.target.files[0].size<=1e6&&"image/jpeg"==e.target.files[0].type){var t=new FileReader;t.onload=function(e){s(1,p=e.target.result),Dn.update(t=>(t.picture=e.target.result,t))},t.readAsDataURL(e.target.files[0]),s(5,d=e.target.files[0].name)}},function(){null!=u&&null!=o&&(s(6,h=!0),c={func:"updateProfile",name:u,picture:p.includes("unsplash")?null:p,password:o,email:r.email},ss(c).then(e=>{null!=e.msg?(console.log(e.msg),s(2,o=""),Dn.update(e=>(e.name=u,e)),s(6,h=!1)):(s(6,h=!1),console.log(e.err))}).catch(e=>{s(6,h=!1),console.log(e)}))},function(){null!=i&&null!=a&&i!=a&&(s(6,h=!0),c={func:"resetPassword",email:r.email,password:i,newPass:a},ss(c).then(e=>{null!=e.msg?(console.log(e.msg),s(6,h=!1),s(3,i=""),s(4,a="")):(s(6,h=!1),console.log(e.err))}).catch(e=>{s(6,h=!1),console.log(e)}))},c,function(){u=this.value,s(0,u)},function(){o=this.value,s(2,o)},function(){i=this.value,s(3,i)},function(){a=this.value,s(4,a)}]}class Or extends de{constructor(e){super(),pe(this,e,Dr,_r,a,{})}}function Ur(e,t,n){const s=e.slice();return s[2]=t[n],s[4]=n,s}function Lr(e){let t,n,s,r,o,i,a,c,l,u,p,d,h,f,m,g,w,x,$,A,S,B,M=e[4]+1+"",N=e[2].name+"",T=e[2].gamesPlayed+"",q=e[2].wins+"",R=e[2].draws+"",I=e[2].losses+"",_=e[2].totalPoints+"";return{c(){t=C("tr"),n=C("th"),s=k(M),r=P(),o=C("th"),i=k(N),a=P(),c=C("th"),l=k(T),u=P(),p=C("th"),d=k(q),h=P(),f=C("th"),m=k(R),g=P(),w=C("th"),x=k(I),$=P(),A=C("th"),S=k(_),B=P(),E(n,"class","svelte-8gpex"),E(o,"class","svelte-8gpex"),E(c,"class","svelte-8gpex"),E(p,"class","svelte-8gpex"),E(f,"class","svelte-8gpex"),E(w,"class","svelte-8gpex"),E(A,"class","svelte-8gpex")},m(e,b){v(e,t,b),y(t,n),y(n,s),y(t,r),y(t,o),y(o,i),y(t,a),y(t,c),y(c,l),y(t,u),y(t,p),y(p,d),y(t,h),y(t,f),y(f,m),y(t,g),y(t,w),y(w,x),y(t,$),y(t,A),y(A,S),y(t,B)},p(e,t){2&t&&N!==(N=e[2].name+"")&&F(i,N),2&t&&T!==(T=e[2].gamesPlayed+"")&&F(l,T),2&t&&q!==(q=e[2].wins+"")&&F(d,q),2&t&&R!==(R=e[2].draws+"")&&F(m,R),2&t&&I!==(I=e[2].losses+"")&&F(x,I),2&t&&_!==(_=e[2].totalPoints+"")&&F(S,_)},d(e){e&&b(t)}}}function jr(e){let t,n,s,r,o,i,a,c,l,u,p,d,h,f,m,g,w,x,$,A,S,B,M=e[4]+1+"",N=e[2].name+"",T=e[2].gamesPlayed+"",q=e[2].wins+"",R=e[2].draws+"",I=e[2].losses+"",_=e[2].totalPoints+"";return{c(){t=C("tr"),n=C("td"),s=k(M),r=P(),o=C("td"),i=k(N),a=P(),c=C("td"),l=k(T),u=P(),p=C("td"),d=k(q),h=P(),f=C("td"),m=k(R),g=P(),w=C("td"),x=k(I),$=P(),A=C("td"),S=k(_),B=P(),E(n,"class","svelte-8gpex"),E(o,"class","svelte-8gpex"),E(c,"class","svelte-8gpex"),E(p,"class","svelte-8gpex"),E(f,"class","svelte-8gpex"),E(w,"class","svelte-8gpex"),E(A,"class","svelte-8gpex")},m(e,b){v(e,t,b),y(t,n),y(n,s),y(t,r),y(t,o),y(o,i),y(t,a),y(t,c),y(c,l),y(t,u),y(t,p),y(p,d),y(t,h),y(t,f),y(f,m),y(t,g),y(t,w),y(w,x),y(t,$),y(t,A),y(A,S),y(t,B)},p(e,t){2&t&&N!==(N=e[2].name+"")&&F(i,N),2&t&&T!==(T=e[2].gamesPlayed+"")&&F(l,T),2&t&&q!==(q=e[2].wins+"")&&F(d,q),2&t&&R!==(R=e[2].draws+"")&&F(m,R),2&t&&I!==(I=e[2].losses+"")&&F(x,I),2&t&&_!==(_=e[2].totalPoints+"")&&F(S,_)},d(e){e&&b(t)}}}function Hr(e){let t;function n(e,t){return e[2].name!=e[0].name?jr:Lr}let s=n(e),r=s(e);return{c(){r.c(),t=$()},m(e,n){r.m(e,n),v(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&b(t)}}}function Gr(e){let n,s,r,o,i,a,c,l,u,p,d,h,f,m,g,x,$,A,S,B,M,T,q,R,I,_,D,O,U,L,j,H,G,z,Y,X,J,W,V,K,Z,Q,ee,te,ne,se,re,oe,ie,ae,ce,le,ue,pe,de,he,fe,me,ge,ye,ve,be,we,Ce,xe,ke,Pe,$e,Ae,Ee,Se,Be,Fe,Me,Ne,Te,qe,Re,Ie,_e,De,Oe,Ue,Le,je,He,Ge,ze,Ye,Xe,Je,We,Ve,Ke,Ze,Qe,et,tt,nt,st,rt,ot,it,at,ct,lt,ut=e[0].position+"",pt=e[0].totalPoints+"",dt=e[0].wins+"",ht=e[0].draws+"",ft=e[0].losses+"",mt=e[0].gamesPlayed+"",gt=e[0].gamesPlayed+"",yt=e[0].avgMovesPerGame+"",vt=e[0].mostMoves+"",bt=e[0].leastMoves+"",wt=e[0].totalTimePlayed+"",Ct=e[0].avgTimePlayPerGame+"",xt=e[0].leastTimePlayed+"",kt=e[0].mostTimePlayed+"",Pt=e[0].position+"",$t=e[1],At=[];for(let t=0;t<$t.length;t+=1)At[t]=Hr(Ur(e,$t,t));return{c(){n=C("div"),s=C("h5"),s.textContent="My Stats",r=P(),o=C("hr"),i=P(),a=C("table"),c=C("tr"),l=C("th"),l.textContent="League Position",u=P(),p=C("td"),d=k(ut),h=P(),f=C("tr"),m=C("th"),m.textContent="Total Points",g=P(),x=C("td"),$=k(pt),A=P(),S=C("tr"),B=C("th"),B.textContent="Wins",M=P(),T=C("td"),q=k(dt),R=P(),I=C("tr"),_=C("th"),_.textContent="Draws",D=P(),O=C("td"),U=k(ht),L=P(),j=C("tr"),H=C("th"),H.textContent="Losses",G=P(),z=C("td"),Y=k(ft),X=P(),J=C("tr"),W=C("th"),W.textContent="Games Played",V=P(),K=C("td"),Z=k(mt),Q=P(),ee=C("tr"),te=C("th"),te.textContent="Total Moves",ne=P(),se=C("td"),re=k(gt),oe=P(),ie=C("tr"),ae=C("th"),ae.textContent="Avg. Moves Per Game",ce=P(),le=C("td"),ue=k(yt),pe=P(),de=C("tr"),he=C("th"),he.textContent="Most Moves",fe=P(),me=C("td"),ge=k(vt),ye=P(),ve=C("tr"),be=C("th"),be.textContent="Least Moves",we=P(),Ce=C("td"),xe=k(bt),ke=P(),Pe=C("tr"),$e=C("th"),$e.textContent="Total Time Played",Ae=P(),Ee=C("td"),Se=k(wt),Be=k(" minutes"),Fe=P(),Me=C("tr"),Ne=C("th"),Ne.textContent="Avg. Time Played Per Game",Te=P(),qe=C("td"),Re=k(Ct),Ie=k(" minutes"),_e=P(),De=C("tr"),Oe=C("th"),Oe.textContent="Least Time Played",Ue=P(),Le=C("td"),je=k(xt),He=k(" minutes"),Ge=P(),ze=C("tr"),Ye=C("th"),Ye.textContent="Most Time Played",Xe=P(),Je=C("td"),We=k(kt),Ve=k(" minutes"),Ke=P(),Ze=C("div"),Qe=C("h5"),Qe.textContent="Checkas League - Top 50",et=P(),tt=C("hr"),nt=P(),st=C("h6"),rt=k("League Position - #"),ot=k(Pt),it=P(),at=C("table"),ct=C("tr"),ct.innerHTML='<th class="svelte-8gpex">#</th> \n            <th class="svelte-8gpex">Name</th> \n            <th class="svelte-8gpex">Games</th> \n            <th class="svelte-8gpex">Wins</th> \n            <th class="svelte-8gpex">Draws</th> \n            <th class="svelte-8gpex">Losses</th> \n            <th class="svelte-8gpex">Points</th>',lt=P();for(let e=0;e<At.length;e+=1)At[e].c();E(s,"class","svelte-8gpex"),N(l,"text-align","left"),E(l,"class","svelte-8gpex"),E(p,"class","svelte-8gpex"),N(m,"text-align","left"),E(m,"class","svelte-8gpex"),E(x,"class","svelte-8gpex"),N(B,"text-align","left"),E(B,"class","svelte-8gpex"),E(T,"class","svelte-8gpex"),N(_,"text-align","left"),E(_,"class","svelte-8gpex"),E(O,"class","svelte-8gpex"),N(H,"text-align","left"),E(H,"class","svelte-8gpex"),E(z,"class","svelte-8gpex"),N(W,"text-align","left"),E(W,"class","svelte-8gpex"),E(K,"class","svelte-8gpex"),N(te,"text-align","left"),E(te,"class","svelte-8gpex"),E(se,"class","svelte-8gpex"),N(ae,"text-align","left"),E(ae,"class","svelte-8gpex"),E(le,"class","svelte-8gpex"),N(he,"text-align","left"),E(he,"class","svelte-8gpex"),E(me,"class","svelte-8gpex"),N(be,"text-align","left"),E(be,"class","svelte-8gpex"),E(Ce,"class","svelte-8gpex"),N($e,"text-align","left"),E($e,"class","svelte-8gpex"),E(Ee,"class","svelte-8gpex"),N(Ne,"text-align","left"),E(Ne,"class","svelte-8gpex"),E(qe,"class","svelte-8gpex"),N(Oe,"text-align","left"),E(Oe,"class","svelte-8gpex"),E(Le,"class","svelte-8gpex"),N(Ye,"text-align","left"),E(Ye,"class","svelte-8gpex"),E(Je,"class","svelte-8gpex"),E(a,"id","statsTable"),E(a,"class","svelte-8gpex"),E(n,"id","stats"),E(n,"class","container-fluid svelte-8gpex"),E(Qe,"class","svelte-8gpex"),N(st,"text-align","center"),N(st,"margin-top","10px"),N(st,"margin-bottom","10px"),E(at,"class","svelte-8gpex"),E(Ze,"id","league"),E(Ze,"class","container-fluid svelte-8gpex")},m(e,t){v(e,n,t),y(n,s),y(n,r),y(n,o),y(n,i),y(n,a),y(a,c),y(c,l),y(c,u),y(c,p),y(p,d),y(a,h),y(a,f),y(f,m),y(f,g),y(f,x),y(x,$),y(a,A),y(a,S),y(S,B),y(S,M),y(S,T),y(T,q),y(a,R),y(a,I),y(I,_),y(I,D),y(I,O),y(O,U),y(a,L),y(a,j),y(j,H),y(j,G),y(j,z),y(z,Y),y(a,X),y(a,J),y(J,W),y(J,V),y(J,K),y(K,Z),y(a,Q),y(a,ee),y(ee,te),y(ee,ne),y(ee,se),y(se,re),y(a,oe),y(a,ie),y(ie,ae),y(ie,ce),y(ie,le),y(le,ue),y(a,pe),y(a,de),y(de,he),y(de,fe),y(de,me),y(me,ge),y(a,ye),y(a,ve),y(ve,be),y(ve,we),y(ve,Ce),y(Ce,xe),y(a,ke),y(a,Pe),y(Pe,$e),y(Pe,Ae),y(Pe,Ee),y(Ee,Se),y(Ee,Be),y(a,Fe),y(a,Me),y(Me,Ne),y(Me,Te),y(Me,qe),y(qe,Re),y(qe,Ie),y(a,_e),y(a,De),y(De,Oe),y(De,Ue),y(De,Le),y(Le,je),y(Le,He),y(a,Ge),y(a,ze),y(ze,Ye),y(ze,Xe),y(ze,Je),y(Je,We),y(Je,Ve),v(e,Ke,t),v(e,Ze,t),y(Ze,Qe),y(Ze,et),y(Ze,tt),y(Ze,nt),y(Ze,st),y(st,rt),y(st,ot),y(Ze,it),y(Ze,at),y(at,ct),y(at,lt);for(let e=0;e<At.length;e+=1)At[e].m(at,null)},p(e,[t]){if(1&t&&ut!==(ut=e[0].position+"")&&F(d,ut),1&t&&pt!==(pt=e[0].totalPoints+"")&&F($,pt),1&t&&dt!==(dt=e[0].wins+"")&&F(q,dt),1&t&&ht!==(ht=e[0].draws+"")&&F(U,ht),1&t&&ft!==(ft=e[0].losses+"")&&F(Y,ft),1&t&&mt!==(mt=e[0].gamesPlayed+"")&&F(Z,mt),1&t&&gt!==(gt=e[0].gamesPlayed+"")&&F(re,gt),1&t&&yt!==(yt=e[0].avgMovesPerGame+"")&&F(ue,yt),1&t&&vt!==(vt=e[0].mostMoves+"")&&F(ge,vt),1&t&&bt!==(bt=e[0].leastMoves+"")&&F(xe,bt),1&t&&wt!==(wt=e[0].totalTimePlayed+"")&&F(Se,wt),1&t&&Ct!==(Ct=e[0].avgTimePlayPerGame+"")&&F(Re,Ct),1&t&&xt!==(xt=e[0].leastTimePlayed+"")&&F(je,xt),1&t&&kt!==(kt=e[0].mostTimePlayed+"")&&F(We,kt),1&t&&Pt!==(Pt=e[0].position+"")&&F(ot,Pt),3&t){let n;for($t=e[1],n=0;n<$t.length;n+=1){const s=Ur(e,$t,n);At[n]?At[n].p(s,t):(At[n]=Hr(s),At[n].c(),At[n].m(at,null))}for(;n<At.length;n+=1)At[n].d(1);At.length=$t.length}},i:t,o:t,d(e){e&&b(n),e&&b(Ke),e&&b(Ze),w(At,e)}}}function zr(e,t,n){let s,r;return l(e,Dn,e=>n(0,s=e)),l(e,jn,e=>n(1,r=e)),[s,r]}class Yr extends de{constructor(e){super(),pe(this,e,zr,Gr,a,{})}}function Xr(e){let n,s,r,o,i,a,c,l,u;const p=new Es({});let d=e[9]<800&&function(e){let n,s;return{c(){n=C("button"),n.textContent="Close",E(n,"class","btn btn-danger svelte-1p2uqq2")},m(t,r,o){v(t,n,r),o&&s(),s=A(n,"click",e[10])},p:t,d(e){e&&b(n),s()}}}(e),h=e[8]&&Wr(),f=e[0]&&Vr(),m=e[1]&&Kr();return{c(){n=C("div"),ae(p.$$.fragment),s=P(),r=C("div"),d&&d.c(),o=P(),h&&h.c(),i=P(),f&&f.c(),a=P(),m&&m.c(),E(r,"id","bigPopUp"),E(r,"class","container-fluid svelte-1p2uqq2")},m(t,c,g){v(t,n,c),ce(p,n,null),v(t,s,c),v(t,r,c),d&&d.m(r,null),y(r,o),h&&h.m(r,null),y(r,i),f&&f.m(r,null),y(r,a),m&&m.m(r,null),l=!0,g&&u(),u=A(n,"click",e[10])},p(e,t){e[9]<800&&d.p(e,t),e[8]?h?256&t&&se(h,1):(h=Wr(),h.c(),se(h,1),h.m(r,i)):h&&(te(),re(h,1,1,()=>{h=null}),ne()),e[0]?f?1&t&&se(f,1):(f=Vr(),f.c(),se(f,1),f.m(r,a)):f&&(te(),re(f,1,1,()=>{f=null}),ne()),e[1]?m?2&t&&se(m,1):(m=Kr(),m.c(),se(m,1),m.m(r,null)):m&&(te(),re(m,1,1,()=>{m=null}),ne())},i(e){l||(se(p.$$.fragment,e),se(h),se(f),se(m),Y(()=>{c||(c=ie(r,os,{y:-200,duration:1e3},!0)),c.run(1)}),l=!0)},o(e){re(p.$$.fragment,e),re(h),re(f),re(m),c||(c=ie(r,os,{y:-200,duration:1e3},!1)),c.run(0),l=!1},d(e){e&&b(n),le(p),e&&b(s),e&&b(r),d&&d.d(),h&&h.d(),f&&f.d(),m&&m.d(),e&&c&&c.end(),u()}}}function Jr(e){let n,s,r,o,i,a,c,l;const u=new Es({});let p=e[9]<800&&function(e){let n,s;return{c(){n=C("button"),n.textContent="Close",E(n,"class","btn btn-danger svelte-1p2uqq2")},m(t,r,o){v(t,n,r),o&&s(),s=A(n,"click",e[10])},p:t,d(e){e&&b(n),s()}}}(e),d=e[5]&&Zr(),h=e[6]&&Qr();return{c(){n=C("div"),ae(u.$$.fragment),s=P(),r=C("div"),p&&p.c(),o=P(),d&&d.c(),i=P(),h&&h.c(),E(r,"id","smallPopUp"),E(r,"class","container-fluid svelte-1p2uqq2")},m(t,a,f){v(t,n,a),ce(u,n,null),v(t,s,a),v(t,r,a),p&&p.m(r,null),y(r,o),d&&d.m(r,null),y(r,i),h&&h.m(r,null),c=!0,f&&l(),l=A(n,"click",e[10])},p(e,t){e[9]<800&&p.p(e,t),e[5]?d?32&t&&se(d,1):(d=Zr(),d.c(),se(d,1),d.m(r,i)):d&&(te(),re(d,1,1,()=>{d=null}),ne()),e[6]?h?64&t&&se(h,1):(h=Qr(),h.c(),se(h,1),h.m(r,null)):h&&(te(),re(h,1,1,()=>{h=null}),ne())},i(e){c||(se(u.$$.fragment,e),se(d),se(h),Y(()=>{a||(a=ie(r,os,{y:-200,duration:1e3},!0)),a.run(1)}),c=!0)},o(e){re(u.$$.fragment,e),re(d),re(h),a||(a=ie(r,os,{y:-200,duration:1e3},!1)),a.run(0),c=!1},d(e){e&&b(n),le(u),e&&b(s),e&&b(r),p&&p.d(),d&&d.d(),h&&h.d(),e&&a&&a.end(),l()}}}function Wr(e){let t;const n=new Nr({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function Vr(e){let t;const n=new Or({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function Kr(e){let t;const n=new Yr({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function Zr(e){let t;const n=new mr({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function Qr(e){let t;const n=new Cr({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function eo(e){let t,n,s,r,i,a,c,l,u,p,d,h,f,m,g,w,x,S,B,M,N,T,q,R,I,_,D,O,U,L,j,H,G,z,Y,X,J=e[2].name+"";const W=[Jr,Xr],V=[];function K(e,t){return e[4]?0:e[7]?1:-1}return~(H=K(e))&&(G=V[H]=W[H](e)),{c(){t=C("div"),n=C("div"),n.innerHTML='<button id="home" class="btn btn-lg btn-dark svelte-1p2uqq2"><img alt="logo" src="./images/LOGO-192.png" class="svelte-1p2uqq2"> Checkas.io <i class="fa fa-angle-double-right svelte-1p2uqq2"></i></button>',s=P(),r=C("div"),i=C("button"),a=k("Create Game "),c=C("i"),u=P(),p=C("div"),d=C("button"),h=k("Join Game "),f=C("i"),g=P(),w=C("div"),x=C("button"),x.innerHTML='View Games <i class="fa fa-eye svelte-1p2uqq2"></i>',S=P(),B=C("div"),M=C("button"),M.innerHTML='Leadership Board <i class="fa fa-list-ol svelte-1p2uqq2"></i>',N=P(),T=C("div"),q=C("button"),q.innerHTML='Settings <i class="fa fa-cog svelte-1p2uqq2"></i>',R=P(),I=C("div"),_=C("button"),D=k("Logout ("),O=k(J),U=k(") "),L=C("i"),j=P(),G&&G.c(),z=$(),E(n,"class","menu-item svelte-1p2uqq2"),E(c,"class","fa fa-plus-square svelte-1p2uqq2"),E(i,"class","btn btn-lg btn-dark svelte-1p2uqq2"),i.disabled=l=null!=e[3],E(r,"class","menu-item create svelte-1p2uqq2"),E(f,"class","fa fa-user-plus svelte-1p2uqq2"),E(d,"class","btn btn-lg btn-dark svelte-1p2uqq2"),d.disabled=m=null!=e[3],E(p,"class","menu-item join svelte-1p2uqq2"),E(x,"class","btn btn-lg btn-dark svelte-1p2uqq2"),E(w,"class","menu-item view svelte-1p2uqq2"),E(M,"class","btn btn-lg btn-dark svelte-1p2uqq2"),E(B,"class","menu-item league svelte-1p2uqq2"),E(q,"class","btn btn-lg btn-dark svelte-1p2uqq2"),E(T,"class","menu-item settings svelte-1p2uqq2"),E(L,"class","fa fa-sign-out svelte-1p2uqq2"),E(_,"class","btn btn-lg btn-dark svelte-1p2uqq2"),E(I,"class","menu-item logout svelte-1p2uqq2"),E(t,"class","sidebar svelte-1p2uqq2")},m(l,m,b){v(l,t,m),y(t,n),y(t,s),y(t,r),y(r,i),y(i,a),y(i,c),y(t,u),y(t,p),y(p,d),y(d,h),y(d,f),y(t,g),y(t,w),y(w,x),y(t,S),y(t,B),y(B,M),y(t,N),y(t,T),y(T,q),y(t,R),y(t,I),y(I,_),y(_,D),y(_,O),y(_,U),y(_,L),v(l,j,m),~H&&V[H].m(l,m),v(l,z,m),Y=!0,b&&o(X),X=[A(i,"click",e[11]),A(d,"click",e[12]),A(x,"click",e[13]),A(M,"click",e[14]),A(q,"click",e[15]),A(_,"click",e[16])]},p(e,[t]){(!Y||8&t&&l!==(l=null!=e[3]))&&(i.disabled=l),(!Y||8&t&&m!==(m=null!=e[3]))&&(d.disabled=m),(!Y||4&t)&&J!==(J=e[2].name+"")&&F(O,J);let n=H;H=K(e),H===n?~H&&V[H].p(e,t):(G&&(te(),re(V[n],1,1,()=>{V[n]=null}),ne()),~H?(G=V[H],G||(G=V[H]=W[H](e),G.c()),se(G,1),G.m(z.parentNode,z)):G=null)},i(e){Y||(se(G),Y=!0)},o(e){re(G),Y=!1},d(e){e&&b(t),e&&b(j),~H&&V[H].d(e),e&&b(z),o(X)}}}function to(e,t,n){let s,r,o,i,a,c,u,p;l(e,jn,e=>n(21,s=e)),l(e,Dn,e=>n(2,r=e)),l(e,zn,e=>n(3,o=e)),l(e,Jn,e=>n(4,i=e)),l(e,Vn,e=>n(5,a=e)),l(e,Kn,e=>n(6,c=e)),l(e,Wn,e=>n(7,u=e)),l(e,Zn,e=>n(8,p=e)),setTimeout(async()=>{0==s.length&&(await(d={func:"retrieveUserGames",email:r.email},void ss(d).then(e=>{if(null!=e.msg){let t=e.msg;Ln.update(e=>{e=[];for(let n=0;n<t.length;n++)t[n].finished?e.push(t[n]):e.unshift(t[n]);return e})}else console.log(e.err),loading=!1}).catch(e=>{console.log(e),loading=!1})),await(d={func:"checkersLeague",name:r.name},void ss(d).then(e=>{null!=e.msg?(jn.set(e.msg.arr),Dn.update(t=>(t.position=e.msg.pos,t))):console.log(e.err)}).catch(e=>{console.log(e)})),await(d={func:"retrieveUserChats",email:r.email},void ss(d).then(e=>{console.log(e),null!=e.msg?Xn.set(e.msg):(console.log(e.err),loading=!1)}).catch(e=>{console.log(e),loading=!1})))},2e3);let d,h=screen.width,f=!1,m=!1,g=!1;function y(){Zn.set(!1),n(0,f=!1),Jn.set(!1),Wn.set(!1),Vn.set(!1),Kn.set(!1),n(1,m=!1),g=!1}return[f,m,r,o,i,a,c,u,p,h,y,function(){y(),setTimeout(()=>{Jn.set(!0)},1),setTimeout(()=>{Vn.set(!0)},2)},function(){y(),setTimeout(()=>{Jn.set(!0)},1),setTimeout(()=>{Kn.set(!0)},2)},function(){s.length>0&&(y(),setTimeout(()=>{Wn.set(!0)},1),setTimeout(()=>{Zn.set(!0)},1))},function(){s.length>0&&(y(),setTimeout(()=>{Wn.set(!0)},1),setTimeout(()=>{n(1,m=!0)},1))},function(){y(),setTimeout(()=>{Wn.set(!0)},1),setTimeout(()=>{n(0,f=!0)},1)},function(){Dn.set(null)}]}class no extends de{constructor(e){super(),pe(this,e,to,eo,a,{})}}function so(e){let n,s,r,o;const i=new Es({}),a=new $s({});return{c(){n=C("div"),ae(i.$$.fragment),s=P(),ae(a.$$.fragment)},m(t,c,l){v(t,n,c),ce(i,n,null),v(t,s,c),ce(a,t,c),r=!0,l&&o(),o=A(n,"click",e[3])},p:t,i(e){r||(se(i.$$.fragment,e),se(a.$$.fragment,e),r=!0)},o(e){re(i.$$.fragment,e),re(a.$$.fragment,e),r=!1},d(e){e&&b(n),le(i),e&&b(s),le(a,e),o()}}}function ro(e){let t;const n=new $s({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function oo(e){let t;const n=new sr({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function io(e){let t,n,s,r;const o=new cr({});let i=e[2]>800&&function(e){let t,n,s,r,o,i,a=e[0]&&so(e);const c=new no({}),l=new sr({});return{c(){a&&a.c(),t=P(),n=C("button"),n.innerHTML='Chat Board <i class="fa fa-comments"></i>',s=P(),ae(c.$$.fragment),r=P(),ae(l.$$.fragment),E(n,"class","btn btn-dark btn-lg navi svelte-1tykk8w"),N(n,"right","5px"),N(n,"position","fixed")},m(u,p,d){a&&a.m(u,p),v(u,t,p),v(u,n,p),v(u,s,p),ce(c,u,p),v(u,r,p),ce(l,u,p),o=!0,d&&i(),i=A(n,"click",e[4])},p(e,n){e[0]?a?(a.p(e,n),1&n&&se(a,1)):(a=so(e),a.c(),se(a,1),a.m(t.parentNode,t)):a&&(te(),re(a,1,1,()=>{a=null}),ne())},i(e){o||(se(a),se(c.$$.fragment,e),se(l.$$.fragment,e),o=!0)},o(e){re(a),re(c.$$.fragment,e),re(l.$$.fragment,e),o=!1},d(e){a&&a.d(e),e&&b(t),e&&b(n),e&&b(s),le(c,e),e&&b(r),le(l,e),i()}}}(e),a=e[2]<=800&&function(e){let t,n,s,r;const o=[oo,ro],i=[];function a(e,t){return 0==e[1]?0:1==e[1]?1:-1}~(t=a(e))&&(n=i[t]=o[t](e));const c=new ir({});return{c(){n&&n.c(),s=P(),ae(c.$$.fragment)},m(e,n){~t&&i[t].m(e,n),v(e,s,n),ce(c,e,n),r=!0},p(e,r){let c=t;t=a(e),t!==c&&(n&&(te(),re(i[c],1,1,()=>{i[c]=null}),ne()),~t?(n=i[t],n||(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s)):n=null)},i(e){r||(se(n),se(c.$$.fragment,e),r=!0)},o(e){re(n),re(c.$$.fragment,e),r=!1},d(e){~t&&i[t].d(e),e&&b(s),le(c,e)}}}(e);return{c(){ae(o.$$.fragment),t=P(),i&&i.c(),n=P(),a&&a.c(),s=$()},m(e,c){ce(o,e,c),v(e,t,c),i&&i.m(e,c),v(e,n,c),a&&a.m(e,c),v(e,s,c),r=!0},p(e,[t]){e[2]>800&&i.p(e,t),e[2]<=800&&a.p(e,t)},i(e){r||(se(o.$$.fragment,e),se(i),se(a),r=!0)},o(e){re(o.$$.fragment,e),re(i),re(a),r=!1},d(e){le(o,e),e&&b(t),i&&i.d(e),e&&b(n),a&&a.d(e),e&&b(s)}}}function ao(e,t,n){let s;l(e,Un,e=>n(1,s=e));let r=screen.width,o=!1;return[o,s,r,()=>n(0,o=!1),()=>n(0,o=!0)]}class co extends de{constructor(e){super(),pe(this,e,ao,io,a,{})}}class lo{constructor(e){this.isAuth=!0,this.name=e.name,this.email=e.email,this.picture=null==e.picture?"https://source.unsplash.com/900x900/":e.picture,this.wins=e.wins,this.draws=e.draws,this.losses=e.losses,this.gamesPlayed=e.gamesPlayed,this.leastMoves=e.leastMoves,this.mostMoves=e.mostMoves,this.totalMoves=e.totalMoves,this.avgMovesPerGame=e.avgMovesPerGame,this.leastTimePlayed=e.leastTimePlayed,this.mostTimePlayed=e.mostTimePlayed,this.totalTimePlayed=e.totalTimePlayed,this.avgTimePlayPerGame=e.avgTimePlayPerGame,this.totalPoints=e.totalPoints,this.position=null}}function uo(e){let t,n;return{c(){t=C("h6"),n=k(e[9]),N(t,"text-align","center"),N(t,"color","red"),N(t,"margin-top","20px")},m(e,s){v(e,t,s),y(t,n)},p(e,t){512&t&&F(n,e[9])},d(e){e&&b(t)}}}function po(e){let t,n,s,r,i,a,c,l,u,p;const d=[go,mo],h=[];function f(e,t){return e[7]?1:0}return r=f(e),i=h[r]=d[r](e),{c(){t=C("div"),n=C("input"),s=P(),i.c(),a=P(),c=C("br"),l=C("a"),l.textContent="Back To Login",E(n,"id","Email"),E(n,"type","text"),E(n,"placeholder","Email"),n.required=!0,E(n,"class","svelte-tex4w5"),E(l,"id","forgotPassword"),E(l,"class","svelte-tex4w5"),E(t,"id","signup-div")},m(i,d,f){v(i,t,d),y(t,n),M(n,e[4]),y(t,s),h[r].m(t,null),y(t,a),y(t,c),y(t,l),u=!0,f&&o(p),p=[A(n,"input",e[28]),A(l,"click",e[29])]},p(e,s){16&s&&n.value!==e[4]&&M(n,e[4]);let o=r;r=f(e),r===o?h[r].p(e,s):(te(),re(h[o],1,1,()=>{h[o]=null}),ne(),i=h[r],i||(i=h[r]=d[r](e),i.c()),se(i,1),i.m(t,a))},i(e){u||(se(i),u=!0)},o(e){re(i),u=!1},d(e){e&&b(t),h[r].d(),o(p)}}}function ho(e){let t,n,s,r,i,a,c,l,u,p,d,h,f,m,g,w,x,$,S,B,F;const T=[vo,yo],q=[];function R(e,t){return e[7]?1:0}return p=R(e),d=q[p]=T[p](e),{c(){t=C("div"),n=C("input"),s=P(),r=C("input"),i=P(),a=C("input"),c=P(),l=C("input"),u=P(),d.c(),h=P(),f=C("hr"),m=P(),g=C("div"),w=C("h5"),x=k("Already have an Account? "),$=C("br"),S=C("button"),S.textContent="Sign In",E(n,"id","Name"),E(n,"type","text"),E(n,"placeholder","Display Name"),n.required=!0,E(n,"class","svelte-tex4w5"),E(r,"id","Email"),E(r,"type","text"),E(r,"placeholder","Email"),r.required=!0,E(r,"class","svelte-tex4w5"),E(a,"id","Password"),E(a,"type","password"),E(a,"placeholder","Password"),a.required=!0,E(a,"class","svelte-tex4w5"),E(l,"id","confirmPassword"),E(l,"type","password"),E(l,"placeholder","Confirm Password"),l.required=!0,E(l,"class","svelte-tex4w5"),E(t,"id","signup-div"),N(f,"border","1px solid green"),E(S,"class","login-signup svelte-tex4w5"),E(w,"class","svelte-tex4w5"),E(g,"class","no-cred-sign-signup svelte-tex4w5")},m(d,b,C){v(d,t,b),y(t,n),M(n,e[1]),y(t,s),y(t,r),M(r,e[0]),y(t,i),y(t,a),M(a,e[2]),y(t,c),y(t,l),M(l,e[3]),y(t,u),q[p].m(t,null),v(d,h,b),v(d,f,b),v(d,m,b),v(d,g,b),y(g,w),y(w,x),y(w,$),y(w,S),B=!0,C&&o(F),F=[A(n,"input",e[22]),A(r,"input",e[23]),A(a,"input",e[24]),A(l,"input",e[25]),A(l,"keyup",e[11]),A(l,"keydown",e[26]),A(S,"click",e[27])]},p(e,s){2&s&&n.value!==e[1]&&M(n,e[1]),1&s&&r.value!==e[0]&&M(r,e[0]),4&s&&a.value!==e[2]&&M(a,e[2]),8&s&&l.value!==e[3]&&M(l,e[3]);let o=p;p=R(e),p===o?q[p].p(e,s):(te(),re(q[o],1,1,()=>{q[o]=null}),ne(),d=q[p],d||(d=q[p]=T[p](e),d.c()),se(d,1),d.m(t,null))},i(e){B||(se(d),B=!0)},o(e){re(d),B=!1},d(e){e&&b(t),q[p].d(),e&&b(h),e&&b(f),e&&b(m),e&&b(g),o(F)}}}function fo(e){let t,n,s,r,i,a,c,l,u,p,d,h,f,m,g,w,x,$,S,B,F,T;const q=[wo,bo],R=[];function I(e,t){return e[7]?1:0}return d=I(e),h=R[d]=q[d](e),{c(){t=C("div"),n=C("input"),s=C("br"),r=P(),i=C("input"),a=C("br"),c=P(),l=C("br"),u=C("a"),u.textContent="Forgot Password?",p=P(),h.c(),f=P(),m=C("hr"),g=P(),w=C("div"),x=C("h5"),$=k("Don't have an Account? "),S=C("br"),B=C("button"),B.textContent="Sign Up",E(n,"id","logEmail"),E(n,"type","text"),E(n,"placeholder","Email"),n.required=!0,E(n,"class","svelte-tex4w5"),E(i,"id","logPassword"),E(i,"type","password"),E(i,"placeholder","Password"),i.required=!0,E(i,"class","svelte-tex4w5"),E(u,"id","forgotPassword"),E(u,"class","svelte-tex4w5"),E(t,"id","login-div"),N(m,"border","1px solid green"),E(B,"class","login-signup svelte-tex4w5"),E(B,"id","signupBtn"),E(x,"class","svelte-tex4w5"),E(w,"class","no-cred-sign-signup svelte-tex4w5"),E(w,"id","no-Acct-signup")},m(h,b,C){v(h,t,b),y(t,n),M(n,e[4]),y(t,s),y(t,r),y(t,i),M(i,e[5]),y(t,a),y(t,c),y(t,l),y(t,u),y(t,p),R[d].m(t,null),v(h,f,b),v(h,m,b),v(h,g,b),v(h,w,b),y(w,x),y(x,$),y(x,S),y(x,B),F=!0,C&&o(T),T=[A(n,"input",e[17]),A(i,"input",e[18]),A(i,"keydown",e[19]),A(u,"click",e[20]),A(B,"click",e[21])]},p(e,s){16&s&&n.value!==e[4]&&M(n,e[4]),32&s&&i.value!==e[5]&&M(i,e[5]);let r=d;d=I(e),d===r?R[d].p(e,s):(te(),re(R[r],1,1,()=>{R[r]=null}),ne(),h=R[d],h||(h=R[d]=q[d](e),h.c()),se(h,1),h.m(t,null))},i(e){F||(se(h),F=!0)},o(e){re(h),F=!1},d(e){e&&b(t),R[d].d(),e&&b(f),e&&b(m),e&&b(g),e&&b(w),o(T)}}}function mo(e){let n;const s=new ur({});return{c(){ae(s.$$.fragment)},m(e,t){ce(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){le(s,e)}}}function go(e){let n,s,r;return{c(){n=C("br"),s=C("button"),s.textContent="Reset Password",E(s,"class","btn btn-success svelte-tex4w5"),N(s,"margin-bottom","30px"),E(s,"type","submit")},m(t,o,i){v(t,n,o),v(t,s,o),i&&r(),r=A(s,"click",e[13])},p:t,i:t,o:t,d(e){e&&b(n),e&&b(s),r()}}}function yo(e){let n;const s=new ur({});return{c(){ae(s.$$.fragment)},m(e,t){ce(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){le(s,e)}}}function vo(e){let n,s,r;return{c(){n=C("br"),s=C("button"),s.textContent="Sign Up",E(s,"class","btn btn-success svelte-tex4w5"),E(s,"type","submit")},m(t,o,i){v(t,n,o),v(t,s,o),i&&r(),r=A(s,"click",e[10])},p:t,i:t,o:t,d(e){e&&b(n),e&&b(s),r()}}}function bo(e){let n;const s=new ur({});return{c(){ae(s.$$.fragment)},m(e,t){ce(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){le(s,e)}}}function wo(e){let n,s,r;return{c(){n=C("h5"),s=C("button"),s.textContent="Log In",E(s,"class","btn btn-success svelte-tex4w5"),E(s,"type","submit"),E(n,"class","svelte-tex4w5")},m(t,o,i){v(t,n,o),y(n,s),i&&r(),r=A(s,"click",e[12])},p:t,i:t,o:t,d(e){e&&b(n),r()}}}function Co(e){let t,n,s,r,o,i,a,c,l,u,p=e[8]&&uo(e);const d=[fo,ho,po],h=[];function f(e,t){return 1==e[6]?0:0==e[6]?1:null==e[6]?2:-1}return~(o=f(e))&&(i=h[o]=d[o](e)),{c(){t=C("div"),n=C("h3"),n.textContent="Checkas.io",s=P(),p&&p.c(),r=P(),i&&i.c(),a=P(),c=C("img"),E(n,"class","svelte-tex4w5"),E(t,"id","entry"),E(t,"class","container svelte-tex4w5"),E(c,"id","back-image"),E(c,"alt","checker"),c.src!==(l="./images/checkers.jpg")&&E(c,"src","./images/checkers.jpg"),E(c,"class","svelte-tex4w5")},m(e,i){v(e,t,i),y(t,n),y(t,s),p&&p.m(t,null),y(t,r),~o&&h[o].m(t,null),v(e,a,i),v(e,c,i),u=!0},p(e,[n]){e[8]?p?p.p(e,n):(p=uo(e),p.c(),p.m(t,r)):p&&(p.d(1),p=null);let s=o;o=f(e),o===s?~o&&h[o].p(e,n):(i&&(te(),re(h[s],1,1,()=>{h[s]=null}),ne()),~o?(i=h[o],i||(i=h[o]=d[o](e),i.c()),se(i,1),i.m(t,null)):i=null)},i(e){u||(se(i),u=!0)},o(e){re(i),u=!1},d(e){e&&b(t),p&&p.d(),~o&&h[o].d(),e&&b(a),e&&b(c)}}}function xo(e,t,n){let s,r,o,i,a,c,l,u,p=!0,d=!1,h=!1;function f(){null!=s&&null!=r&&null!=o&&null!=i&&o==i?(n(7,d=!0),l={func:"signUp",email:s,name:r,password:o},console.log("Sending sign up request"),ss(l).then(e=>{console.log(e),"SUCCESS"==e.msg?(l.func="createUser",m(),n(7,d=!1)):"EXIST"==e.msg?(n(9,u="Display Name Already Exist"),n(8,h=!0),n(7,d=!1)):(n(9,u=e.err),n(8,h=!0),n(7,d=!1))}).catch(e=>{n(9,u=e),n(8,h=!0),n(7,d=!1)})):(n(9,u="All Fields Are Required"),n(8,h=!0),n(7,d=!1))}function m(){ss(l).then(e=>{console.log(e),"SUCCESS"==e.msg?(n(9,u="Please Check Your Email For Verification"),n(8,h=!0)):(n(9,u=e.err),n(8,h=!0),n(7,d=!1))}).catch(e=>{n(9,u=e),n(8,h=!0),n(7,d=!1)})}function g(){null!=a&&null!=c?(n(7,d=!0),l={func:"signIn",email:a,password:c},ss(l).then(e=>{null!=e.msg&&e.msg?(l.func="retrieveUser",y()):null==e.msg||e.msg?(console.log(e.err),n(9,u=e.err),n(8,h=!0),n(7,d=!1)):(n(9,u="Please Verify Your Email"),n(8,h=!0),n(7,d=!1))}).catch(e=>{n(9,u=e),console.log(e),n(8,h=!0),n(7,d=!1)})):(n(9,u="All Fields Are Required"),n(8,h=!0),n(7,d=!1))}function y(){ss(l).then(e=>{if(null!=e.msg){let t=e.msg;t.email=a,Dn.set(new lo(t)),n(7,d=!1),n(0,s=""),n(1,r=""),n(2,o=""),n(3,i=""),n(4,a=""),n(5,c="")}else n(9,u=e.err),console.log(e.err),n(8,h=!0),n(7,d=!1)}).catch(e=>{console.log(e),n(9,u=e),n(8,h=!0),n(7,d=!1)})}return[s,r,o,i,a,c,p,d,h,u,f,function(){null!=o&&i.length>=o.length&&i!=o?(n(9,u="Passwords Do Not Match!"),n(8,h=!0)):n(8,h=!1)},g,function(){null!=a||""!=a?(l={func:"forgotPassword",email:a},ss(l).then(e=>{"SUCCESS"==e.msg?(n(9,u="Please Check Your Email For Password Reset"),n(8,h=!0),n(7,d=!1)):(n(9,u=e.err),n(8,h=!0),n(7,d=!1))}).catch(e=>{n(9,u=e),n(8,h=!0),n(7,d=!1)})):(n(9,u="Please Fill All Required Fields!"),n(8,h=!0),n(7,d=!1))},l,m,y,function(){a=this.value,n(4,a)},function(){c=this.value,n(5,c)},e=>13===e.which&&g(),()=>n(6,p=null),()=>n(6,p=!p),function(){r=this.value,n(1,r)},function(){s=this.value,n(0,s)},function(){o=this.value,n(2,o)},function(){i=this.value,n(3,i)},e=>13===e.which&&f(),()=>n(6,p=!p),function(){a=this.value,n(4,a)},()=>n(6,p=!0)]}class ko extends de{constructor(e){super(),pe(this,e,xo,Co,a,{})}}function Po(e){let t;const n=new ko({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function $o(e){let t;const n=new co({});return{c(){ae(n.$$.fragment)},m(e,s){ce(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){le(n,e)}}}function Ao(e){let t,n,s,r;const o=[$o,Po],i=[];function a(e,t){return null!=e[0]&&e[0].isAuth?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=$()},m(e,n){i[t].m(e,n),v(e,s,n),r=!0},p(e,[r]){let c=t;t=a(e),t!==c&&(te(),re(i[c],1,1,()=>{i[c]=null}),ne(),n=i[t],n||(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&b(s)}}}function Eo(e,t,n){let s;return l(e,Dn,e=>n(0,s=e)),[s]}return new class extends de{constructor(e){super(),pe(this,e,Eo,Ao,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
