var app=function(){"use strict";function t(){}const n=e=>e;function s(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(s)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function c(e){return null==e?"":e}const u="undefined"!=typeof window;let p=u?()=>window.performance.now():()=>Date.now(),d=u?e=>requestAnimationFrame(e):t;const h=new Set;function f(e){h.forEach(t=>{t.c(e)||(h.delete(t),t.f())}),0!==h.size&&d(f)}function m(e){let t;return 0===h.size&&d(f),{promise:new Promise(n=>{h.add(t={c:e,f:n})}),abort(){h.delete(t)}}}function g(e,t){e.appendChild(t)}function y(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function b(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function k(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function C(e){return document.createTextNode(e)}function x(){return C(" ")}function P(){return C("")}function $(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function A(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function E(e){return""===e?void 0:+e}function B(e,t){t=""+t,e.data!==t&&(e.data=t)}function M(e,t){(null!=t||e.value)&&(e.value=t)}function S(e,t,n,s){e.style.setProperty(t,n,s?"important":"")}const F=new Set;let T,I=0;function D(e,t,n,s,r,o,i,a=0){const l=16.666/s;let c="{\n";for(let e=0;e<=1;e+=l){const s=t+(n-t)*o(e);c+=100*e+`%{${i(s,1-s)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,p=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,d=e.ownerDocument;F.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(w("style")).sheet),f=d.__svelte_rules||(d.__svelte_rules={});f[p]||(f[p]=!0,h.insertRule(`@keyframes ${p} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${p} ${s}ms linear ${r}ms 1 both`,I+=1,p}function N(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-s.length;r&&(e.style.animation=s.join(", "),I-=r,I||d(()=>{I||(F.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),F.clear())}))}function q(e){T=e}function R(){if(!T)throw new Error("Function called outside component initialization");return T}const _=[],O=[],z=[],L=[],U=Promise.resolve();let H=!1;function G(e){z.push(e)}let Y=!1;const X=new Set;function W(){if(!Y){Y=!0;do{for(let e=0;e<_.length;e+=1){const t=_[e];q(t),J(t.$$)}for(_.length=0;O.length;)O.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];X.has(t)||(X.add(t),t())}z.length=0}while(_.length);for(;L.length;)L.pop()();H=!1,Y=!1,X.clear()}}function J(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}let V;function K(){return V||(V=Promise.resolve(),V.then(()=>{V=null})),V}function Z(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const Q=new Set;let ee;function te(){ee={r:0,c:[],p:ee}}function ne(){ee.r||o(ee.c),ee=ee.p}function se(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function re(e,t,n,s){if(e&&e.o){if(Q.has(e))return;Q.add(e),ee.c.push(()=>{Q.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}const oe={duration:0};function ie(e,s,r,a){let l=s(e,r),c=a?0:1,u=null,d=null,h=null;function f(){h&&N(e,h)}function g(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(s){const{delay:r=0,duration:i=300,easing:a=n,tick:y=t,css:v}=l||oe,b={start:p()+r,b:s};s||(b.group=ee,ee.r+=1),u?d=b:(v&&(f(),h=D(e,c,s,i,r,a,v)),s&&y(0,1),u=g(b,i),G(()=>Z(e,s,"start")),m(t=>{if(d&&t>d.start&&(u=g(d,i),d=null,Z(e,u.b,"start"),v&&(f(),h=D(e,c,u.b,u.duration,0,a,l.css))),u)if(t>=u.end)y(c=u.b,1-c),Z(e,u.b,"end"),d||(u.b?f():--u.group.r||o(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*a(e/u.duration),y(c,1-c)}return!(!u&&!d)}))}return{run(e){i(l)?K().then(()=>{l=l(),y(e)}):y(e)},end(){f(),u=d=null}}}function ae(e){e&&e.c()}function le(e,t,n){const{fragment:r,on_mount:a,on_destroy:l,after_update:c}=e.$$;r&&r.m(t,n),G(()=>{const t=a.map(s).filter(i);l?l.push(...t):o(t),e.$$.on_mount=[]}),c.forEach(G)}function ce(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ue(e,t){-1===e.$$.dirty[0]&&(_.push(e),H||(H=!0,U.then(W)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pe(e,n,s,i,a,l,c=[-1]){const u=T;q(e);const p=n.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:c};let h=!1;if(d.ctx=s?s(e,p,(t,n,...s)=>{const r=s.length?s[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),h&&ue(e,t)),n}):[],d.update(),h=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(v)}else d.fragment&&d.fragment.c();n.intro&&se(e.$$.fragment),le(e,n.target,n.anchor),W()}q(u)}class de{$destroy(){ce(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}class he{constructor(e,t,n){this.xPos=e,this.yPos=t,this.isEmpty="E"==n}}class fe{constructor(e,t,n,s,r){this.id=s,this.positon=new he(e,t,n),this.side=n,this.stack=null!=r?r:1}getPosition(){return this.positon}setPosition(e,t){this.positon=new he(e,t)}incrementStack(){this.stack=2}}const me=[];function ge(e,n=t){let s;const r=[];function o(t){if(a(e,t)&&(e=t,s)){const t=!me.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),me.push(n,e)}if(t){for(let e=0;e<me.length;e+=2)me[e][0](me[e+1]);me.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,a=t){const l=[i,a];return r.push(l),1===r.length&&(s=n(o)||t),i(e),()=>{const e=r.indexOf(l);-1!==e&&r.splice(e,1),0===r.length&&(s(),s=null)}}}}function ye(e,t){return e(t={exports:{}},t.exports),t.exports}var ve=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,be=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],we=function(e){var t=e,n=e.indexOf("["),s=e.indexOf("]");-1!=n&&-1!=s&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));for(var r=ve.exec(e||""),o={},i=14;i--;)o[be[i]]=r[i]||"";return-1!=n&&-1!=s&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},ke=1e3,Ce=6e4,xe=60*Ce,Pe=24*xe,$e=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*Pe;case"hours":case"hour":case"hrs":case"hr":case"h":return n*xe;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ce;case"seconds":case"second":case"secs":case"sec":case"s":return n*ke;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Pe)return Ae(e,t,Pe,"day");if(t>=xe)return Ae(e,t,xe,"hour");if(t>=Ce)return Ae(e,t,Ce,"minute");if(t>=ke)return Ae(e,t,ke,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Pe)return Math.round(e/Pe)+"d";if(t>=xe)return Math.round(e/xe)+"h";if(t>=Ce)return Math.round(e/Ce)+"m";if(t>=ke)return Math.round(e/ke)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Ae(e,t,n,s){var r=t>=1.5*n;return Math.round(e/n)+" "+s+(r?"s":"")}var Ee=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let o;function i(...e){if(!i.enabled)return;const t=i,s=Number(new Date),r=s-(o||s);t.diff=r,t.prev=o,t.curr=s,o=s,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(s,r)=>{if("%%"===s)return s;a++;const o=n.formatters[r];if("function"==typeof o){const n=e[a];s=o.call(t,n),e.splice(a,1),a--}return s}),n.formatArgs.call(t,e);(t.log||n.log).apply(t,e)}return i.namespace=e,i.enabled=n.enabled(e),i.useColors=n.useColors(),i.color=t(e),i.destroy=s,i.extend=r,"function"==typeof n.init&&n.init(i),n.instances.push(i),i}function s(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function r(e,t){const s=n(this.namespace+(void 0===t?":":t)+e);return s.log=this.log,s}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(t=0;t<r;t++)s[t]&&("-"===(e=s[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,s;for(t=0,s=n.skips.length;t<s;t++)if(n.skips[t].test(e))return!1;for(t=0,s=n.names.length;t<s;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=$e,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},Be=ye((function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let s=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(s++,"%c"===e&&(r=s))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=Ee(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Me=(Be.log,Be.formatArgs,Be.save,Be.load,Be.useColors,Be.storage,Be.colors,Be("socket.io-client:url")),Se=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(Me("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),Me("parse %s",e),n=we(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n};var Fe=36e5,Te=24*Fe,Ie=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*Te;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Fe;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){return De(e,Te,"day")||De(e,Fe,"hour")||De(e,6e4,"minute")||De(e,1e3,"second")||e+" ms"}(e):function(e){if(e>=Te)return Math.round(e/Te)+"d";if(e>=Fe)return Math.round(e/Fe)+"h";if(e>=6e4)return Math.round(e/6e4)+"m";if(e>=1e3)return Math.round(e/1e3)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function De(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var Ne=ye((function(e,t){function n(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,s){if("%%"===n)return n;l++;var r=t.formatters[s];if("function"==typeof r){var o=i[l];n=r.call(e,o),i.splice(l,1),l--}return n})),t.formatArgs.call(e,i);var c=r.log||t.log||console.log.bind(console);c.apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,s=0;for(n in e)s=(s<<5)-s+e.charCodeAt(n),s|=0;return t.colors[Math.abs(s)%t.colors.length]}(e),r.destroy=s,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(n=0;n<r;n++)s[n]&&("-"===(e=s[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,s;for(n=0,s=t.skips.length;n<s;n++)if(t.skips[n].test(e))return!1;for(n=0,s=t.names.length;n<s;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Ie,t.instances=[],t.names=[],t.skips=[],t.formatters={}})),qe=(Ne.coerce,Ne.disable,Ne.enable,Ne.enabled,Ne.humanize,Ne.instances,Ne.names,Ne.skips,Ne.formatters,ye((function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=Ne).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var s="color: "+this.color;e.splice(1,0,s,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,s)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}))),Re=(qe.log,qe.formatArgs,qe.save,qe.load,qe.useColors,qe.storage,qe.colors,ye((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<s.length;r++)if((n=s[r])===t||n.fn===t){s.splice(r,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var s=0,r=(n=n.slice(0)).length;s<r;++s)n[s].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}))),_e={}.toString,Oe=Array.isArray||function(e){return"[object Array]"==_e.call(e)},je=function(e){return ze&&Buffer.isBuffer(e)||Le&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))},ze="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,Le="function"==typeof ArrayBuffer;var Ue=Object.prototype.toString,He="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Ue.call(Blob),Ge="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Ue.call(File);var Ye=function(e){var t=[],n=e.data,s=e;return s.data=function e(t,n){if(!t)return t;if(je(t)){var s={_placeholder:!0,num:n.length};return n.push(t),s}if(Oe(t)){for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=e(t[o],n);return r}if("object"==typeof t&&!(t instanceof Date)){r={};for(var i in t)r[i]=e(t[i],n);return r}return t}(n,t),s.attachments=t.length,{packet:s,buffers:t}},Xe=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Oe(t))for(var s=0;s<t.length;s++)t[s]=e(t[s],n);else if("object"==typeof t)for(var r in t)t[r]=e(t[r],n);return t}(e.data,t),e.attachments=void 0,e},We=function(e,t){var n=0,s=e;!function e(r,o,i){if(!r)return r;if(He&&r instanceof Blob||Ge&&r instanceof File){n++;var a=new FileReader;a.onload=function(){i?i[o]=this.result:s=this.result,--n||t(s)},a.readAsArrayBuffer(r)}else if(Oe(r))for(var l=0;l<r.length;l++)e(r[l],l,r);else if("object"==typeof r&&!je(r))for(var c in r)e(r[c],c,r)}(s),n||t(s)},Je=ye((function(e,t){var n=qe("socket.io-parser");function s(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=s,t.Decoder=i;var r=t.ERROR+'"encode error"';function o(e){var s=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(s+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(s+=e.nsp+","),null!=e.id&&(s+=e.id),null!=e.data){var o=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===o)return r;s+=o}return n("encoded %j as %s",e,s),s}function i(){this.reconstructor=null}function a(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:t.ERROR,data:"parser error: "+e}}s.prototype.encode=function(e,s){(n("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){We(e,(function(e){var n=Ye(e),s=o(n.packet),r=n.buffers;r.unshift(s),t(r)}))}(e,s):s([o(e)])},Re(i.prototype),i.prototype.add=function(e){var s;if("string"==typeof e)s=function(e){var s=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return l("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var o="";"-"!==e.charAt(++s)&&(o+=e.charAt(s),s!=e.length););if(o!=Number(o)||"-"!==e.charAt(s))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(s+1))for(r.nsp="";++s;){if(","===(a=e.charAt(s)))break;if(r.nsp+=a,s===e.length)break}else r.nsp="/";var i=e.charAt(s+1);if(""!==i&&Number(i)==i){for(r.id="";++s;){var a;if(null==(a=e.charAt(s))||Number(a)!=a){--s;break}if(r.id+=e.charAt(s),s===e.length)break}r.id=Number(r.id)}if(e.charAt(++s)){var c=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(s));if(!(!1!==c&&(r.type===t.ERROR||Oe(c))))return l("invalid payload");r.data=c}return n("decoded %s as %j",e,r),r}(e),t.BINARY_EVENT===s.type||t.BINARY_ACK===s.type?(this.reconstructor=new a(s),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",s)):this.emit("decoded",s);else{if(!je(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(s=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",s))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=Xe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}})),Ve=(Je.protocol,Je.types,Je.CONNECT,Je.DISCONNECT,Je.EVENT,Je.ACK,Je.ERROR,Je.BINARY_EVENT,Je.BINARY_ACK,Je.Encoder,Je.Decoder,ye((function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}}))),Ke="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),Ze=function(e){var t=e.xdomain,n=e.xscheme,s=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Ve))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&s)return new XDomainRequest}catch(e){}if(!t)try{return new(Ke[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}},Qe=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var s in e)n.call(e,s)&&t.push(s);return t},et=Object.prototype.toString,tt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===et.call(Blob),nt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===et.call(File),st=function e(t){if(!t||"object"!=typeof t)return!1;if(Oe(t)){for(var n=0,s=t.length;n<s;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||tt&&t instanceof Blob||nt&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1};var rt=function(e,t,n){var s=e.byteLength;if(t=t||0,n=n||s,e.slice)return e.slice(t,n);if(t<0&&(t+=s),n<0&&(n+=s),n>s&&(n=s),t>=s||t>=n||0===s)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(n-t),i=t,a=0;i<n;i++,a++)o[a]=r[i];return o.buffer},ot=function(e,t,n){var s=!1;return n=n||it,r.count=e,0===e?t():r;function r(e,o){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(s=!0,t(e),t=n):0!==r.count||s||t(null,o)}};function it(){}
/*! https://mths.be/utf8js v2.1.2 by @mathias */var at,lt,ct,ut=String.fromCharCode;function pt(e){for(var t,n,s=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?s.push(((1023&t)<<10)+(1023&n)+65536):(s.push(t),r--):s.push(t);return s}function dt(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function ht(e,t){return ut(e>>t&63|128)}function ft(e,t){if(0==(4294967168&e))return ut(e);var n="";return 0==(4294965248&e)?n=ut(e>>6&31|192):0==(4294901760&e)?(dt(e,t)||(e=65533),n=ut(e>>12&15|224),n+=ht(e,6)):0==(4292870144&e)&&(n=ut(e>>18&7|240),n+=ht(e,12),n+=ht(e,6)),n+=ut(63&e|128)}function mt(){if(ct>=lt)throw Error("Invalid byte index");var e=255&at[ct];if(ct++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function gt(e){var t,n;if(ct>lt)throw Error("Invalid byte index");if(ct==lt)return!1;if(t=255&at[ct],ct++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|mt())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|mt()<<6|mt())>=2048)return dt(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|mt()<<12|mt()<<6|mt())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var yt={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,s=pt(e),r=s.length,o=-1,i="";++o<r;)i+=ft(s[o],n);return i},decode:function(e,t){var n=!1!==(t=t||{}).strict;at=pt(e),lt=at.length,ct=0;for(var s,r=[];!1!==(s=gt(n));)r.push(s);return function(e){for(var t,n=e.length,s=-1,r="";++s<n;)(t=e[s])>65535&&(r+=ut((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=ut(t);return r}(r)}},vt=ye((function(e,t){!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),s=0;s<e.length;s++)n[e.charCodeAt(s)]=s;t.encode=function(t){var n,s=new Uint8Array(t),r=s.length,o="";for(n=0;n<r;n+=3)o+=e[s[n]>>2],o+=e[(3&s[n])<<4|s[n+1]>>4],o+=e[(15&s[n+1])<<2|s[n+2]>>6],o+=e[63&s[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,s,r,o,i,a=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),p=new Uint8Array(u);for(t=0;t<l;t+=4)s=n[e.charCodeAt(t)],r=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],i=n[e.charCodeAt(t+3)],p[c++]=s<<2|r>>4,p[c++]=(15&r)<<4|o>>2,p[c++]=(3&o)<<6|63&i;return u}}()})),bt=(vt.encode,vt.decode,void 0!==bt?bt:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder),wt=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),kt=wt&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),Ct=bt&&bt.prototype.append&&bt.prototype.getBlob;function xt(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function Pt(e,t){t=t||{};var n=new bt;return xt(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function $t(e,t){return new Blob(xt(e),t||{})}"undefined"!=typeof Blob&&(Pt.prototype=Blob.prototype,$t.prototype=Blob.prototype);var At=wt?kt?Blob:$t:Ct?Pt:void 0,Et=ye((function(e,t){var n;"undefined"!=typeof ArrayBuffer&&(n=vt);var s="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),r="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),o=s||r;t.protocol=3;var i=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=Qe(i),l={type:"error",data:"parser error"};function c(e,t,n){for(var s=new Array(e.length),r=ot(e.length,n),o=function(e,n,r){t(n,(function(t,n){s[e]=n,r(t,s)}))},i=0;i<e.length;i++)o(i,e[i],r)}t.encodePacket=function(e,n,s,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof s&&(r=s,s=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,s){if(!n)return t.encodeBase64Packet(e,s);var r=e.data,o=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=i[e.type];for(var l=0;l<o.length;l++)a[l+1]=o[l];return s(a.buffer)}(e,n,r);if(void 0!==At&&a instanceof At)return function(e,n,s){if(!n)return t.encodeBase64Packet(e,s);if(o)return function(e,n,s){if(!n)return t.encodeBase64Packet(e,s);var r=new FileReader;return r.onload=function(){t.encodePacket({type:e.type,data:r.result},n,!0,s)},r.readAsArrayBuffer(e.data)}(e,n,s);var r=new Uint8Array(1);r[0]=i[e.type];var a=new At([r.buffer,e.data]);return s(a)}(e,n,r);if(a&&a.base64)return function(e,n){var s="b"+t.packets[e.type]+e.data.data;return n(s)}(e,r);var l=i[e.type];return void 0!==e.data&&(l+=s?yt.encode(String(e.data),{strict:!1}):String(e.data)),r(""+l)},t.encodeBase64Packet=function(e,n){var s,r="b"+t.packets[e.type];if(void 0!==At&&e.data instanceof At){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(r+e)},o.readAsDataURL(e.data)}try{s=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var i=new Uint8Array(e.data),a=new Array(i.length),l=0;l<i.length;l++)a[l]=i[l];s=String.fromCharCode.apply(null,a)}return r+=btoa(s),n(r)},t.decodePacket=function(e,n,s){if(void 0===e)return l;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(s&&!1===(e=function(e){try{e=yt.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return l;var r=e.charAt(0);return Number(r)==r&&a[r]?e.length>1?{type:a[r],data:e.substring(1)}:{type:a[r]}:l}r=new Uint8Array(e)[0];var o=rt(e,1);return At&&"blob"===n&&(o=new At([o])),{type:a[r],data:o}},t.decodeBase64Packet=function(e,t){var s=a[e.charAt(0)];if(!n)return{type:s,data:{base64:!0,data:e.substr(1)}};var r=n.decode(e.substr(1));return"blob"===t&&At&&(r=new At([r])),{type:s,data:r}},t.encodePayload=function(e,n,s){"function"==typeof n&&(s=n,n=null);var r=st(e);if(n&&r)return At&&!o?t.encodePayloadAsBlob(e,s):t.encodePayloadAsArrayBuffer(e,s);if(!e.length)return s("0:");c(e,(function(e,s){t.encodePacket(e,!!r&&n,!1,(function(e){s(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return s(t.join(""))}))},t.decodePayload=function(e,n,s){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,s);var r;if("function"==typeof n&&(s=n,n=null),""===e)return s(l,0,1);for(var o,i,a="",c=0,u=e.length;c<u;c++){var p=e.charAt(c);if(":"===p){if(""===a||a!=(o=Number(a)))return s(l,0,1);if(a!=(i=e.substr(c+1,o)).length)return s(l,0,1);if(i.length){if(r=t.decodePacket(i,n,!1),l.type===r.type&&l.data===r.data)return s(l,0,1);if(!1===s(r,c+o,u))return}c+=o,a=""}else a+=p}return""!==a?s(l,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));c(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var s=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),r=new Uint8Array(s),o=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var s=new Uint8Array(e.length),i=0;i<e.length;i++)s[i]=e.charCodeAt(i);n=s.buffer}r[o++]=t?0:1;var a=n.byteLength.toString();for(i=0;i<a.length;i++)r[o++]=parseInt(a[i]);r[o++]=255;for(s=new Uint8Array(n),i=0;i<s.length;i++)r[o++]=s[i]})),n(r.buffer)}))},t.encodePayloadAsBlob=function(e,n){c(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var s=new Uint8Array(e.length),r=0;r<e.length;r++)s[r]=e.charCodeAt(r);e=s.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)i[r]=parseInt(o[r]);if(i[o.length]=255,At){var a=new At([t.buffer,i.buffer,e]);n(null,a)}}))}),(function(e,t){return n(new At(t))}))},t.decodePayloadAsBinary=function(e,n,s){"function"==typeof n&&(s=n,n=null);for(var r=e,o=[];r.byteLength>0;){for(var i=new Uint8Array(r),a=0===i[0],c="",u=1;255!==i[u];u++){if(c.length>310)return s(l,0,1);c+=i[u]}r=rt(r,2+c.length),c=parseInt(c);var p=rt(r,0,c);if(a)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var d=new Uint8Array(p);p="";for(u=0;u<d.length;u++)p+=String.fromCharCode(d[u])}o.push(p),r=rt(r,c)}var h=o.length;o.forEach((function(e,r){s(t.decodePacket(e,n,!0),r,h)}))}})),Bt=(Et.protocol,Et.packets,Et.encodePacket,Et.encodeBase64Packet,Et.decodePacket,Et.decodeBase64Packet,Et.encodePayload,Et.decodePayload,Et.encodePayloadAsArrayBuffer,Et.encodePayloadAsBlob,Et.decodePayloadAsBinary,ye((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<s.length;r++)if((n=s[r])===t||n.fn===t){s.splice(r,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){s=0;for(var r=(n=n.slice(0)).length;s<r;++s)n[s].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}))),Mt=St;function St(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}Bt(St.prototype),St.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},St.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},St.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},St.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},St.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},St.prototype.onData=function(e){var t=Et.decodePacket(e,this.socket.binaryType);this.onPacket(t)},St.prototype.onPacket=function(e){this.emit("packet",e)},St.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var Ft,Tt=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},It=function(e){for(var t={},n=e.split("&"),s=0,r=n.length;s<r;s++){var o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t},Dt=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Nt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),qt={},Rt=0,_t=0;function Ot(e){var t="";do{t=Nt[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function jt(){var e=Ot(+new Date);return e!==Ft?(Rt=0,Ft=e):e+"."+Ot(Rt++)}for(;_t<64;_t++)qt[Nt[_t]]=_t;jt.encode=Ot,jt.decode=function(e){var t=0;for(_t=0;_t<e.length;_t++)t=64*t+qt[e.charAt(_t)];return t};var zt=jt,Lt=Be("engine.io-client:polling"),Ut=Gt,Ht=null!=new Ze({xdomain:!1}).responseType;function Gt(e){var t=e&&e.forceBase64;Ht&&!t||(this.supportsBinary=!1),Mt.call(this,e)}Dt(Gt,Mt),Gt.prototype.name="polling",Gt.prototype.doOpen=function(){this.poll()},Gt.prototype.pause=function(e){var t=this;function n(){Lt("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var s=0;this.polling&&(Lt("we are currently polling - waiting to pause"),s++,this.once("pollComplete",(function(){Lt("pre-pause polling complete"),--s||n()}))),this.writable||(Lt("we are currently writing - waiting to pause"),s++,this.once("drain",(function(){Lt("pre-pause writing complete"),--s||n()})))}else n()},Gt.prototype.poll=function(){Lt("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Gt.prototype.onData=function(e){var t=this;Lt("polling got data %s",e);Et.decodePayload(e,this.socket.binaryType,(function(e,n,s){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Lt('ignoring poll - transport state "%s"',this.readyState))},Gt.prototype.doClose=function(){var e=this;function t(){Lt("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(Lt("transport open - closing"),t()):(Lt("transport not open - deferring close"),this.once("open",t))},Gt.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};Et.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},Gt.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=zt()),this.supportsBinary||e.sid||(e.b64=1),e=Tt(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e};var Yt=Be("engine.io-client:polling-xhr"),Xt=Vt,Wt=Kt;function Jt(){}function Vt(e){if(Ut.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function Kt(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(Dt(Vt,Ut),Vt.prototype.supportsBinary=!0,Vt.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Kt(e)},Vt.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,s=this.request({method:"POST",data:e,isBinary:n}),r=this;s.on("success",t),s.on("error",(function(e){r.onError("xhr post error",e)})),this.sendXhr=s},Vt.prototype.doPoll=function(){Yt("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},Bt(Kt.prototype),Kt.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new Ze(e),n=this;try{Yt("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var s in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(s)&&t.setRequestHeader(s,this.extraHeaders[s])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},Yt("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=Kt.requestsCount++,Kt.requests[this.index]=this)},Kt.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Kt.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},Kt.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},Kt.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Jt:this.xhr.onreadystatechange=Jt,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Kt.requests[this.index],this.xhr=null}},Kt.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},Kt.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},Kt.prototype.abort=function(){this.cleanup()},Kt.requestsCount=0,Kt.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Zt);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Ke?"pagehide":"unload",Zt,!1)}function Zt(){for(var e in Kt.requests)Kt.requests.hasOwnProperty(e)&&Kt.requests[e].abort()}Xt.Request=Wt;var Qt,en=rn,tn=/\n/g,nn=/\\n/g;function sn(){}function rn(e){Ut.call(this,e),this.query=this.query||{},Qt||(Qt=Ke.___eio=Ke.___eio||[]),this.index=Qt.length;var t=this;Qt.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=sn)}),!1)}Dt(rn,Ut),rn.prototype.supportsBinary=!1,rn.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Ut.prototype.doClose.call(this)},rn.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},rn.prototype.doWrite=function(e,t){var n=this;if(!this.form){var s,r=document.createElement("form"),o=document.createElement("textarea"),i=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=i,r.method="POST",r.setAttribute("accept-charset","utf-8"),o.name="d",r.appendChild(o),document.body.appendChild(r),this.form=r,this.area=o}function a(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';s=document.createElement(e)}catch(e){(s=document.createElement("iframe")).name=n.iframeId,s.src="javascript:0"}s.id=n.iframeId,n.form.appendChild(s),n.iframe=s}this.form.action=this.uri(),l(),e=e.replace(nn,"\\\n"),this.area.value=e.replace(tn,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a};var on,an,ln,cn=(on=Object.freeze({__proto__:null,default:{}}))&&on.default||on,un=Be("engine.io-client:websocket");if("undefined"!=typeof WebSocket?an=WebSocket:"undefined"!=typeof self&&(an=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{ln=cn}catch(e){}var pn=an||ln,dn=hn;function hn(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=an&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(pn=ln),Mt.call(this,e)}Dt(hn,Mt),hn.prototype.name="websocket",hn.prototype.supportsBinary=!0,hn.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new pn(e,t):new pn(e):new pn(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},hn.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},hn.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,s=0,r=n;s<r;s++)!function(e){Et.encodePacket(e,t.supportsBinary,(function(s){if(!t.usingBrowserWebSocket){var r={};if(e.options&&(r.compress=e.options.compress),t.perMessageDeflate)("string"==typeof s?Buffer.byteLength(s):s.length)<t.perMessageDeflate.threshold&&(r.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(s):t.ws.send(s,r)}catch(e){un("websocket closed before onclose event")}--n||o()}))}(e[s]);function o(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},hn.prototype.onClose=function(){Mt.prototype.onClose.call(this)},hn.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},hn.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=zt()),this.supportsBinary||(e.b64=1),(e=Tt(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},hn.prototype.check=function(){return!(!pn||"__initialize"in pn&&this.name===hn.prototype.name)};var fn={polling:function(e){var t=!1,n=!1,s=!1!==e.jsonp;if("undefined"!=typeof location){var r="https:"===location.protocol,o=location.port;o||(o=r?443:80),t=e.hostname!==location.hostname||o!==e.port,n=e.secure!==r}if(e.xdomain=t,e.xscheme=n,"open"in new Ze(e)&&!e.forceJSONP)return new Xt(e);if(!s)throw new Error("JSONP disabled");return new en(e)},websocket:dn},mn=[].indexOf,gn=function(e,t){if(mn)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},yn=Be("engine.io-client:socket"),vn=bn;function bn(e,t){if(!(this instanceof bn))return new bn(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=we(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=we(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=It(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}bn.priorWebsocketSuccess=!1,Bt(bn.prototype),bn.protocol=Et.protocol,bn.Socket=bn,bn.Transport=Mt,bn.transports=fn,bn.parser=Et,bn.prototype.createTransport=function(e){yn('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=Et.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new fn[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},bn.prototype.open=function(){var e;if(this.rememberUpgrade&&bn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},bn.prototype.setTransport=function(e){yn("setting transport %s",e.name);var t=this;this.transport&&(yn("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},bn.prototype.probe=function(e){yn('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,s=this;function r(){if(s.onlyBinaryUpgrades){var r=!this.supportsBinary&&s.transport.supportsBinary;n=n||r}n||(yn('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(yn('probe transport "%s" pong',e),s.upgrading=!0,s.emit("upgrading",t),!t)return;bn.priorWebsocketSuccess="websocket"===t.name,yn('pausing current transport "%s"',s.transport.name),s.transport.pause((function(){n||"closed"!==s.readyState&&(yn("changing transport and sending upgrade packet"),u(),s.setTransport(t),t.send([{type:"upgrade"}]),s.emit("upgrade",t),t=null,s.upgrading=!1,s.flush())}))}else{yn('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,s.emit("upgradeError",o)}})))}function o(){n||(n=!0,u(),t.close(),t=null)}function i(n){var r=new Error("probe error: "+n);r.transport=t.name,o(),yn('probe transport "%s" failed because of error: %s',e,n),s.emit("upgradeError",r)}function a(){i("transport closed")}function l(){i("socket closed")}function c(e){t&&e.name!==t.name&&(yn('"%s" works - aborting "%s"',e.name,t.name),o())}function u(){t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",a),s.removeListener("close",l),s.removeListener("upgrading",c)}bn.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",i),t.once("close",a),this.once("close",l),this.once("upgrading",c),t.open()},bn.prototype.onOpen=function(){if(yn("socket open"),this.readyState="open",bn.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){yn("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},bn.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(yn('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else yn('packet received with socket readyState "%s"',this.readyState)},bn.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},bn.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},bn.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){yn("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},bn.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},bn.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},bn.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(yn("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},bn.prototype.write=bn.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},bn.prototype.sendPacket=function(e,t,n,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof n&&(s=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}},bn.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?s():t()})):this.upgrading?s():t()}function t(){e.onClose("forced close"),yn("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function s(){e.once("upgrade",n),e.once("upgradeError",n)}return this},bn.prototype.onError=function(e){yn("socket error %j",e),bn.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},bn.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){yn('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},bn.prototype.filterUpgrades=function(e){for(var t=[],n=0,s=e.length;n<s;n++)~gn(this.transports,e[n])&&t.push(e[n]);return t};var wn=vn,kn=Et;wn.parser=kn;var Cn=function(e,t){for(var n=[],s=(t=t||0)||0;s<e.length;s++)n[s-t]=e[s];return n};var xn=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}};var Pn=[].slice,$n=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=Pn.call(arguments,2);return function(){return t.apply(e,n.concat(Pn.call(arguments)))}},An=ye((function(e,t){var n=Be("socket.io-client:socket");e.exports=o;var s={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},r=Re.prototype.emit;function o(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}Re(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[xn(e,"open",$n(this,"onopen")),xn(e,"packet",$n(this,"onpacket")),xn(e,"close",$n(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},o.prototype.send=function(){var e=Cn(arguments);return e.unshift("message"),this.emit.apply(this,e),this},o.prototype.emit=function(e){if(s.hasOwnProperty(e))return r.apply(this,arguments),this;var t=Cn(arguments),o={type:(void 0!==this.flags.binary?this.flags.binary:st(t))?Je.BINARY_EVENT:Je.EVENT,data:t,options:{}};return o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),this.flags={},this},o.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},o.prototype.onopen=function(){if(n("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?Tt(this.query):this.query;n("sending connect packet with query %s",e),this.packet({type:Je.CONNECT,query:e})}else this.packet({type:Je.CONNECT})},o.prototype.onclose=function(e){n("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},o.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===Je.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case Je.CONNECT:this.onconnect();break;case Je.EVENT:case Je.BINARY_EVENT:this.onevent(e);break;case Je.ACK:case Je.BINARY_ACK:this.onack(e);break;case Je.DISCONNECT:this.ondisconnect();break;case Je.ERROR:this.emit("error",e.data)}},o.prototype.onevent=function(e){var t=e.data||[];n("emitting event %j",t),null!=e.id&&(n("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?r.apply(this,t):this.receiveBuffer.push(t)},o.prototype.ack=function(e){var t=this,s=!1;return function(){if(!s){s=!0;var r=Cn(arguments);n("sending ack %j",r),t.packet({type:st(r)?Je.BINARY_ACK:Je.ACK,id:e,data:r})}}},o.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(n("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):n("bad ack %s",e.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)r.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:Je.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(e){return this.flags.compress=e,this},o.prototype.binary=function(e){return this.flags.binary=e,this}})),En=Bn;function Bn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Bn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Bn.prototype.reset=function(){this.attempts=0},Bn.prototype.setMin=function(e){this.ms=e},Bn.prototype.setMax=function(e){this.max=e},Bn.prototype.setJitter=function(e){this.jitter=e};var Mn=Be("socket.io-client:manager"),Sn=Object.prototype.hasOwnProperty,Fn=Tn;function Tn(e,t){if(!(this instanceof Tn))return new Tn(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new En({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||Je;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}Tn.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)Sn.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},Tn.prototype.updateSocketIds=function(){for(var e in this.nsps)Sn.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},Tn.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},Re(Tn.prototype),Tn.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},Tn.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},Tn.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},Tn.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},Tn.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},Tn.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},Tn.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Tn.prototype.open=Tn.prototype.connect=function(e,t){if(Mn("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Mn("opening %s",this.uri),this.engine=wn(this.uri,this.opts);var n=this.engine,s=this;this.readyState="opening",this.skipReconnect=!1;var r=xn(n,"open",(function(){s.onopen(),e&&e()})),o=xn(n,"error",(function(t){if(Mn("connect_error"),s.cleanup(),s.readyState="closed",s.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else s.maybeReconnectOnOpen()}));if(!1!==this._timeout){var i=this._timeout;Mn("connect attempt will timeout after %d",i);var a=setTimeout((function(){Mn("connect attempt timed out after %d",i),r.destroy(),n.close(),n.emit("error","timeout"),s.emitAll("connect_timeout",i)}),i);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(r),this.subs.push(o),this},Tn.prototype.onopen=function(){Mn("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(xn(e,"data",$n(this,"ondata"))),this.subs.push(xn(e,"ping",$n(this,"onping"))),this.subs.push(xn(e,"pong",$n(this,"onpong"))),this.subs.push(xn(e,"error",$n(this,"onerror"))),this.subs.push(xn(e,"close",$n(this,"onclose"))),this.subs.push(xn(this.decoder,"decoded",$n(this,"ondecoded")))},Tn.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Tn.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Tn.prototype.ondata=function(e){this.decoder.add(e)},Tn.prototype.ondecoded=function(e){this.emit("packet",e)},Tn.prototype.onerror=function(e){Mn("error",e),this.emitAll("error",e)},Tn.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new An(this,e,t),this.nsps[e]=n;var s=this;n.on("connecting",r),n.on("connect",(function(){n.id=s.generateId(e)})),this.autoConnect&&r()}function r(){~gn(s.connecting,n)||s.connecting.push(n)}return n},Tn.prototype.destroy=function(e){var t=gn(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},Tn.prototype.packet=function(e){Mn("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var s=0;s<n.length;s++)t.engine.write(n[s],e.options);t.encoding=!1,t.processPacketQueue()})))},Tn.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},Tn.prototype.cleanup=function(){Mn("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Tn.prototype.close=Tn.prototype.disconnect=function(){Mn("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Tn.prototype.onclose=function(e){Mn("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},Tn.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Mn("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();Mn("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(Mn("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(Mn("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(Mn("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},Tn.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};var In=ye((function(e,t){var n=Be("socket.io-client");e.exports=t=r;var s=t.managers={};function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o=Se(e),i=o.source,a=o.id,l=o.path,c=s[a]&&l in s[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||c?(n("ignoring socket cache for %s",i),r=Fn(i,t)):(s[a]||(n("new io instance for %s",i),s[a]=Fn(i,t)),r=s[a]),o.query&&!t.query&&(t.query=o.query),r.socket(o.path,t)}t.protocol=Je.protocol,t.connect=r,t.Manager=Fn,t.Socket=An}));In.managers,In.protocol,In.connect,In.Manager,In.Socket;var Dn="http://localhost:4000/",Nn="https://checkasio-server.herokuapp.com/",qn="https://us-central1-checker-io.cloudfunctions.net/";const Rn=ge(null);window.location.hostname.includes("localhost")?Rn.set(In(Dn,{transports:["websocket"],upgrade:!1})):Rn.set(In(Nn,{transports:["websocket"],upgrade:!1}));const _n=ge(null),On=ge(!0),jn=ge(0),zn=ge(0),Ln=ge(null),Un=ge(!1),Hn=ge(!1),Gn=ge(moment().startOf("day")),Yn=ge(0),Xn=ge(!1),Wn=ge(!1),Jn=ge(null),Vn=ge(null),Kn=ge(null),Zn=ge(null),Qn=ge(!1),es=ge(!1),ts=ge(null),ns=ge(null),ss=ge(null),rs=ge(null),os=ge(null),is=ge(null),as=ge(!1),ls=ge(!1),cs=ge(!1),us=ge(!1),ps=ge(!1),ds=ge(!1);window.onbeforeunload=async function(){const e={};await _n.update(t=>(e.user=t,t)),await jn.update(t=>(e.page=t,t)),await zn.update(t=>(e.tab=t,t)),await ss.update(t=>(e.board=t,t)),await rs.update(t=>(e.history=t,t)),await os.update(t=>(e.pref=t,t)),await is.update(t=>(e.chats=t,t)),await ts.update(t=>(e.games=t,t)),await ns.update(t=>(e.league=t,t)),await sessionStorage.setItem("idx",JSON.stringify(e))},window.onload=async function(){if(null!=sessionStorage.getItem("idx")){const e=await JSON.parse(sessionStorage.getItem("idx"));await _n.set(e.user),await ns.set(e.league),null==e.board&&await ss.set(null),null!=e.board&&await ss.set(new hs(e.board.board,null)),await rs.set(e.history),await os.set(e.pref),await is.set(e.chats),await ts.set(e.games),await zn.set(e.tab),await jn.set(e.page),sessionStorage.removeItem("idx")}};class hs{constructor(e,t){if(null!=e||t){if(null!=e&&null==t){let t,n;for(this.board=[],t=0;t<8;t++)for(this.board[t]=[],n=0;n<8;n++)null!=e[t][n]?this.board[t][n]=new fe(t,n,e[t][n].side,e[t][n].id,e[t][n].stack):this.board[t][n]=null}else if(null==e&&t){this.board=[];let e,t,n=23;for(e=0;e<8;e++)for(this.board[e]=[],t=0;t<8;t++){let s=e%2!=0&&t%2!=0;e%2==0&&t%2==0||s||3==e||4==e?this.board[e][t]=null:(this.board[e][t]=new fe(e,t,0<=e&&e<=2?"red":"black",n,null),n--)}}}else{this.board=[];let e,t,n=0;for(e=0;e<8;e++)for(this.board[e]=[],t=0;t<8;t++){let s=e%2!=0&&t%2!=0;e%2==0&&t%2==0||s||3==e||4==e?this.board[e][t]=null:(this.board[e][t]=new fe(e,t,0<=e&&e<=2?"black":"white",n,null),n++)}}}saveBoardState(){let e,t,n=[];for(e=0;e<8;e++)for(n[e]=[],t=0;t<8;t++)null!=this.board[e][t]?(n[e][t]={},n[e][t].stack=this.board[e][t].stack,n[e][t].side=this.board[e][t].side,n[e][t].id=this.board[e][t].id):n[e][t]=null;return n}takePiece(e,t,n,s){let r=!1,o=null,i=null;return s.xPos<t.xPos&&s.yPos<t.yPos&&(o=t.xPos-1,i=t.yPos-1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,r=!0)),s.xPos<t.xPos&&s.yPos>t.yPos&&(o=t.xPos-1,i=t.yPos+1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,r=!0)),s.xPos>t.xPos&&s.yPos<t.yPos&&(o=t.xPos+1,i=t.yPos-1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,r=!0)),s.xPos>t.xPos&&s.yPos>t.yPos&&(o=t.xPos+1,i=t.yPos+1,null!=this.board[o][i]&&this.board[o][i].side!=e.side&&(this.board[o][i]=null,r=!0)),r}isMoveLegal(e,t){let n;os.update(e=>(n=e.side,e));let s=!1,r=e.getPosition();if(console.log(t.isEmpty),console.log(e.side),console.log("white: "+e.side=="white"),console.log("black: "+e.side=="black"),"white"==e.side&&t.isEmpty&&e.side==n){console.log(r.xPos+", "+r.yPos+" --\x3e "+t.xPos+", "+t.yPos);let n=r.xPos-t.xPos,o=r.yPos-t.yPos;if(1==e.stack){(1==o||-1==o)&&1==n&&(s=!0),!(2!=n&&-2!=n||2!=o&&-2!=o)&&this.takePiece(e,r,o,t)&&(s=!0)}else{!(1!=n&&-1!=n||1!=o&&-1!=o)&&(s=!0),!(2!=n&&-2!=n||2!=o&&-2!=o)&&this.takePiece(e,r,o,t)&&(s=!0)}}if("black"==e.side&&t.isEmpty&&e.side==n){let n=r.xPos-t.xPos,o=r.yPos-t.yPos;if(1==e.stack){(1==o||-1==o)&&1==n&&(s=!0),!(2!=n&&-2!=n||2!=o&&-2!=o)&&this.takePiece(e,r,o,t)&&(s=!0)}else{!(1!=n&&-1!=n||1!=o&&-1!=o)&&(s=!0),!(2!=n&&-2!=n||2!=o&&-2!=o)&&this.takePiece(e,r,o,t)&&(s=!0)}}return s}doMove(e,t){let n;os.update(e=>(n=e.side,e));let s=!1,r=null;if(this.isMoveLegal(e,t)){r=this.scanBoard(e,t);let o=new fe(t.xPos,t.yPos,e.side,e.id,e.stack);o.side==n&&0==t.xPos&&"white"==o.side&&1==o.stack&&o.incrementStack(),o.side==n&&0==t.xPos&&"black"==o.side&&1==o.stack&&o.incrementStack(),this.board[t.xPos][t.yPos]=o;let i=e.getPosition();this.board[i.xPos][i.yPos]=null,s=!0}return{move:s,id:r}}scanBoard(e,t){let n,s,r=null;for(n=0;n<8;n++)for(s=0;s<8;s++)if(null!=this.board[n][s]&&this.board[n][s].id!=e.id&&this.board[n][s].side==e.side&&this.checkPiece(this.board[n][s],e,t)){r=e.id;break}return r}checkPiece(e,t,n){let s=!1,r=(n.xPos,n.yPos,e.getPosition().xPos),o=e.getPosition().yPos;return 0<=r-2&&0<=o-2&&r-2<=7&&o-2<=7&&null!=this.board[r-1][o-1]&&this.board[r-1][o-1].side!=t.side&&null==this.board[r-2][o-2]&&(this.board[r][o]=null,s=!0),0<=r+2&&0<=o+2&&r+2<=7&&o+2<=7&&0==s&&null!=this.board[r+1][o+1]&&this.board[r+1][o+1].side!=t.side&&null==this.board[r+2][o+2]&&(this.board[r][o]=null,s=!0),0<=r-2&&0<=o+2&&r-2<=7&&o+2<=7&&0==s&&null!=this.board[r-1][o+1]&&this.board[r-1][o+1].side!=t.side&&null==this.board[r-2][o+2]&&(this.board[r][o]=null,s=!0),0<=r+2&&0<=o-2&&r+2<=7&&o-2<=7&&0==s&&null!=this.board[r+1][o-1]&&this.board[r+1][o-1].side!=t.side&&null==this.board[r+2][o-2]&&(this.board[r][o]=null,s=!0),s}removePiece(e){let t=e.getPosition().xPos,n=e.getPosition().yPos;this.board[t][n]=null}otherPlayerMove(e,t,n){let s;os.update(e=>(s=e.side,e));let r=e.getPosition().xPos,o=e.getPosition().yPos,i=r+t,a=o+n,l=new fe(i,a,e.side,e.id,e.stack);l.side==s&&0==i&&"white"==l.side&&1==l.stack&&l.incrementStack(),l.side==s&&0==i&&"black"==l.side&&1==l.stack&&l.incrementStack(),this.board[i][a]=l,2==t&&2==n&&(i=r+t/2,a=o+n/2,this.board[i][a]=null),this.board[r][o]=null}isEmpty(e,t){return null==this.board[e][t]}getId(e,t){return this.board[e][t].id}getSide(e,t){return this.board[e][t].side}getPiece(e,t){if(null!=this.board[e][t])return this.board[e][t]}getPieceFromId(e){let t,n,s;for(t=0;t<8;t++)for(n=0;n<8;n++)if(null!=this.board[t][n]&&this.board[t][n].id==e){s=this.board[t][n];break}return s}getBoard(){return this.board}}function fs(e){const t=e-1;return t*t*t+1}function ms(e){return new Promise((t,n)=>{_n.update(t=>(null!=t&&(e.id=t.email),t));const s=qn+e.func;e=new URLSearchParams(e).toString(),fetch(s,{method:"POST",body:e,headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"},"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"}).then(e=>e.json()).then(e=>{t(e)}).catch(e=>n(e))})}function gs(e,{delay:t=0,duration:s=400,easing:r=n}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:r,css:e=>"opacity: "+e*o}}function ys(e,{delay:t=0,duration:n=400,easing:s=fs,x:r=0,y:o=0,opacity:i=0}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,u=l*(1-i);return{delay:t,duration:n,easing:s,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*r}px, ${(1-e)*o}px);\n\t\t\topacity: ${l-u*t}`}}let vs,bs,ws;function ks(){_n.update(e=>(bs=e.email,e)),vs={func:"retrieveUserChats",email:bs},ms(vs).then(e=>{console.log(e),null!=e.msg?(is.set(e.msg),is.update(e=>(e.length>1&&(e=e.sort((e,t)=>new Moment(e.history[e.history.length-1].date).format("YYYYMMDD, HH:mm")-new Moment(t.history[t.history.length-1].date).format("YYYYMMDD, HH:mm"))),console.log(e),e))):(console.log(e.err),loading=!1)}).catch(e=>{console.log(e),loading=!1})}function Cs(){_n.update(e=>(ws=e.name,e)),vs={func:"checkersLeague",name:ws},ms(vs).then(e=>{console.log(e),null!=e.msg?(ns.set(e.msg.arr),_n.update(t=>(t.position=e.msg.pos,t))):console.log(e.err)}).catch(e=>{console.log(e)})}function xs(){_n.update(e=>(bs=e.email,e)),vs={func:"retrieveUserGames",email:bs},ms(vs).then(e=>{if(console.log(e),null!=e.msg){let t=e.msg;ts.update(e=>{e=[];for(let n=0;n<t.length;n++)t[n].finished?e.push(t[n]):e.unshift(t[n]);return e})}else console.log(e.err),loading=!1}).catch(e=>{console.log(e),loading=!1})}function Ps(){window.$(".blink").fadeOut(1e3),window.$(".blink").fadeIn(1e3)}function $s(e){let n,s,r,o,i;return{c(){n=k("svg"),s=k("g"),r=k("circle"),o=k("circle"),i=k("circle"),A(r,"class","dot svelte-16rctq0"),A(r,"cx","3"),A(r,"cy","3"),A(r,"r","3"),A(o,"class","dot svelte-16rctq0"),A(o,"cx","12"),A(o,"cy","3"),A(o,"r","3"),A(i,"class","dot svelte-16rctq0"),A(i,"cx","21"),A(i,"cy","3"),A(i,"r","3"),A(n,"id","typing_bubble"),A(n,"data-name","typing bubble"),A(n,"xmlns","http://www.w3.org/2000/svg"),A(n,"width","24"),A(n,"height","6"),A(n,"viewBox","0 0 24 6")},m(e,t){y(e,n,t),g(n,s),g(s,r),g(s,o),g(s,i)},p:t,i:t,o:t,d(e){e&&v(n)}}}class As extends de{constructor(e){super(),pe(this,e,null,$s,a,{})}}function Es(e){let n;return{c(){n=w("div"),n.innerHTML='<div class="loader svelte-1wwoatl"></div>',A(n,"id","signup-loader"),A(n,"class","loader-container svelte-1wwoatl")},m(e,t){y(e,n,t)},p:t,i:t,o:t,d(e){e&&v(n)}}}class Bs extends de{constructor(e){super(),pe(this,e,null,Es,a,{})}}function Ms(e){let n,s,r,o,i,a,l,c,u,p=(null!=e[0]?e[0]:e[1])+"";return{c(){n=w("div"),s=w("p"),r=C("On Call With "),o=C(p),i=x(),a=C(e[2]),l=x(),c=w("audio"),A(s,"id","time"),A(s,"class","svelte-8olr33"),A(c,"id","audio"),c.autoplay=!0,c.controls=!0,c.hidden=!0,A(c,"class","svelte-8olr33"),A(n,"id","backplayer"),A(n,"class","svelte-8olr33")},m(t,p,d){y(t,n,p),g(n,s),g(s,r),g(s,o),g(s,i),g(s,a),g(n,l),g(n,c),d&&u(),u=$(n,"click",e[3])},p(e,[t]){3&t&&p!==(p=(null!=e[0]?e[0]:e[1])+"")&&B(o,p),4&t&&B(a,e[2])},i:t,o:t,d(e){e&&v(n),u()}}}function Ss(e,t,n){let s,r,o;return l(e,es,e=>n(0,s=e)),l(e,Jn,e=>n(1,r=e)),l(e,Yn,e=>n(2,o=e)),[s,r,o,function(){Un.set(!1),Xn.set(!0)}]}class Fs extends de{constructor(e){super(),pe(this,e,Ss,Ms,a,{})}}function Ts(e,t,n){const s=e.slice();return s[28]=t[n],s[30]=n,s}function Is(e,t,n){const s=e.slice();return s[31]=t[n],s}function Ds(e){let n,s,r;return{c(){n=w("h5"),n.textContent="There are no Chats to View",s=x(),r=w("h5"),r.textContent="Create or Join a Game to Chat",A(n,"class","empty svelte-cbh2f5"),S(n,"margin-top","25%"),S(n,"text-align","center"),A(r,"class","empty svelte-cbh2f5"),S(r,"text-align","center")},m(e,t){y(e,n,t),y(e,s,t),y(e,r,t)},p:t,i:t,o:t,d(e){e&&v(n),e&&v(s),e&&v(r)}}}function Ns(e){let t,n,s,r,i,a,l,c,u,p,d,h,f,m,k,P,E,F,T,I,D,N,q,R,_,O=e[4].toUpperCase()+"",j=e[7],z=[];for(let t=0;t<j.length;t+=1)z[t]=_s(Is(e,j,t));let L=function(e,t){return e[12]<=800?js:Os}(e)(e),U=e[3],H=[];for(let t=0;t<U.length;t+=1)H[t]=Js(Ts(e,U,t));let G=e[2]&&Vs(),Y=e[9]&&(null!=e[10]||null!=e[11])&&(e[11]==e[4]||e[10]==e[4])&&Ks();return{c(){t=w("div");for(let e=0;e<z.length;e+=1)z[e].c();n=x(),s=w("div"),r=w("h4"),i=w("button"),L.c(),a=x(),l=C(O),c=x(),u=w("button"),u.textContent="Request Game",p=x(),d=w("div");for(let e=0;e<H.length;e+=1)H[e].c();h=x(),f=w("article"),G&&G.c(),m=x(),k=w("div"),Y&&Y.c(),P=x(),E=w("button"),F=w("i"),I=x(),D=w("input"),N=x(),q=w("button"),q.innerHTML='<i class="fa fa-paper-plane-o svelte-cbh2f5"></i>',A(t,"id","allChats"),A(t,"class","svelte-cbh2f5"),A(i,"class","btn btn-dark chatHead svelte-cbh2f5"),S(i,"float","left"),S(i,"border-radius","0"),A(u,"class","btn btn-dark chatHead svelte-cbh2f5"),S(u,"float","right"),S(u,"border-radius","0 0.4rem 0 0"),S(r,"text-align","center"),S(r,"color","white"),A(r,"class","svelte-cbh2f5"),A(f,"class","odaMsg svelte-cbh2f5"),A(f,"id","isTyping"),A(d,"class","scrollable container svelte-cbh2f5"),A(F,"class","fa fa-phone svelte-cbh2f5"),A(E,"class","btn btn-light btn-file camera svelte-cbh2f5"),E.disabled=T=!e[5].online&&!e[8],A(D,"autocomplete","off"),A(D,"id","user-msg"),A(D,"class","form-control svelte-cbh2f5"),A(D,"placeholder","Type Here"),A(q,"class","btn btn-light plane svelte-cbh2f5"),A(k,"class","input-group mb-3 svelte-cbh2f5"),A(s,"id","currChat"),A(s,"class","svelte-cbh2f5")},m(v,b,w){y(v,t,b);for(let e=0;e<z.length;e+=1)z[e].m(t,null);y(v,n,b),y(v,s,b),g(s,r),g(r,i),L.m(i,null),g(r,a),g(r,l),g(r,c),g(r,u),g(s,p),g(s,d);for(let e=0;e<H.length;e+=1)H[e].m(d,null);g(d,h),g(d,f),G&&G.m(f,null),e[25](d),g(s,m),g(s,k),Y&&Y.m(k,null),g(k,P),g(k,E),g(E,F),g(k,I),g(k,D),M(D,e[1]),g(k,N),g(k,q),R=!0,w&&o(_),_=[$(i,"click",e[15]),$(E,"click",e[14]),$(D,"input",e[26]),$(D,"keyup",e[17]),$(D,"keydown",e[27]),$(q,"click",e[16])]},p(e,n){if(8384&n[0]){let s;for(j=e[7],s=0;s<j.length;s+=1){const r=Is(e,j,s);z[s]?z[s].p(r,n):(z[s]=_s(r),z[s].c(),z[s].m(t,null))}for(;s<z.length;s+=1)z[s].d(1);z.length=j.length}if((!R||16&n[0])&&O!==(O=e[4].toUpperCase()+"")&&B(l,O),72&n[0]){let t;for(U=e[3],t=0;t<U.length;t+=1){const s=Ts(e,U,t);H[t]?H[t].p(s,n):(H[t]=Js(s),H[t].c(),H[t].m(d,h))}for(;t<H.length;t+=1)H[t].d(1);H.length=U.length}e[2]?G?4&n[0]&&se(G,1):(G=Vs(),G.c(),se(G,1),G.m(f,null)):G&&(te(),re(G,1,1,()=>{G=null}),ne()),!e[9]||null==e[10]&&null==e[11]||e[11]!=e[4]&&e[10]!=e[4]?Y&&(te(),re(Y,1,1,()=>{Y=null}),ne()):Y?3600&n[0]&&se(Y,1):(Y=Ks(),Y.c(),se(Y,1),Y.m(k,P)),(!R||288&n[0]&&T!==(T=!e[5].online&&!e[8]))&&(E.disabled=T),2&n[0]&&D.value!==e[1]&&M(D,e[1])},i(e){R||(se(G),se(Y),R=!0)},o(e){re(G),re(Y),R=!1},d(r){r&&v(t),b(z,r),r&&v(n),r&&v(s),L.d(),b(H,r),G&&G.d(),e[25](null),Y&&Y.d(),o(_)}}}function qs(e){let t;return{c(){t=w("span"),A(t,"class","indicator online svelte-cbh2f5")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Rs(e){let t,n,s,r,o,i=e[31].history[e[31].history.length-1].message+"",a=Qs(e[31].history[e[31].history.length-1].date)+"";return{c(){t=w("p"),n=C(i),s=x(),r=w("p"),o=C(a),S(t,"font-weight","lighter"),S(t,"font-size","15px"),S(t,"text-align","left"),A(t,"class","svelte-cbh2f5"),S(r,"font-weight","lighter"),S(r,"font-size","15px"),S(r,"text-align","right"),A(r,"class","svelte-cbh2f5")},m(e,i){y(e,t,i),g(t,n),y(e,s,i),y(e,r,i),g(r,o)},p(e,t){128&t[0]&&i!==(i=e[31].history[e[31].history.length-1].message+"")&&B(n,i),128&t[0]&&a!==(a=Qs(e[31].history[e[31].history.length-1].date)+"")&&B(o,a)},d(e){e&&v(t),e&&v(s),e&&v(r)}}}function _s(e){let t,n,s,r,o,i,a,l,c,u,p,d=(e[31].priName==e[6].name?e[31].secName.toUpperCase():e[31].priName.toUpperCase())+"",h=e[31].online&&qs(),f=e[31].history.length>0&&Rs(e);function m(...t){return e[24](e[31],...t)}return{c(){t=w("button"),n=w("img"),r=x(),o=w("div"),i=w("h5"),a=C(d),l=x(),h&&h.c(),c=x(),f&&f.c(),u=x(),A(n,"alt","propic"),n.src!==(s=e[31].priName==e[6].name?"https://api.adorable.io/avatars/285/"+e[31].secEmail+".png":"https://api.adorable.io/avatars/285/"+e[31].priEmail+".png")&&A(n,"src",s),A(n,"class","svelte-cbh2f5"),S(i,"text-align","left"),S(i,"margin-bottom","0px"),A(i,"class","svelte-cbh2f5"),A(o,"class","chatPrev svelte-cbh2f5"),A(t,"class","user btn btn-lg btn-dark svelte-cbh2f5")},m(e,s,d){y(e,t,s),g(t,n),g(t,r),g(t,o),g(o,i),g(i,a),g(i,l),h&&h.m(i,null),g(o,c),f&&f.m(o,null),g(t,u),d&&p(),p=$(t,"click",m)},p(t,r){e=t,192&r[0]&&n.src!==(s=e[31].priName==e[6].name?"https://api.adorable.io/avatars/285/"+e[31].secEmail+".png":"https://api.adorable.io/avatars/285/"+e[31].priEmail+".png")&&A(n,"src",s),192&r[0]&&d!==(d=(e[31].priName==e[6].name?e[31].secName.toUpperCase():e[31].priName.toUpperCase())+"")&&B(a,d),e[31].online?h||(h=qs(),h.c(),h.m(i,null)):h&&(h.d(1),h=null),e[31].history.length>0?f?f.p(e,r):(f=Rs(e),f.c(),f.m(o,null)):f&&(f.d(1),f=null)},d(e){e&&v(t),h&&h.d(),f&&f.d(),p()}}}function Os(e){let t;return{c(){t=C("Versus Stats")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function js(e){let t,n;return{c(){t=w("i"),n=C("\r\n                        Back"),A(t,"class","fa fa-arrow-left svelte-cbh2f5")},m(e,s){y(e,t,s),y(e,n,s)},d(e){e&&v(t),e&&v(n)}}}function zs(e){let t,n,s,r,o=e[28].message+"";function i(e,t){return e[30]<e[3].length-1?Hs:Us}let a=i(e),l=a(e);return{c(){t=w("article"),n=w("span"),s=C(o),r=x(),l.c(),A(n,"class","txtMsg svelte-cbh2f5"),A(t,"class","odaMsg svelte-cbh2f5")},m(e,o){y(e,t,o),g(t,n),g(n,s),g(t,r),l.m(t,null)},p(e,n){8&n[0]&&o!==(o=e[28].message+"")&&B(s,o),a===(a=i(e))&&l?l.p(e,n):(l.d(1),l=a(e),l&&(l.c(),l.m(t,null)))},d(e){e&&v(t),l.d()}}}function Ls(e){let t,n,s,r,o=e[28].message+"";function i(e,t){return e[30]<e[3].length-1?Xs:Ys}let a=i(e),l=a(e);return{c(){t=w("article"),n=w("span"),s=C(o),r=x(),l.c(),A(n,"class","txtMsg svelte-cbh2f5"),A(t,"class","myMsg svelte-cbh2f5")},m(e,o){y(e,t,o),g(t,n),g(n,s),g(t,r),l.m(t,null)},p(e,n){8&n[0]&&o!==(o=e[28].message+"")&&B(s,o),a===(a=i(e))&&l?l.p(e,n):(l.d(1),l=a(e),l&&(l.c(),l.m(t,null)))},d(e){e&&v(t),l.d()}}}function Us(e){let t,n,s=Qs(e[28].date)+"";return{c(){t=w("p"),n=C(s),S(t,"font-size","10px"),A(t,"class","svelte-cbh2f5")},m(e,s){y(e,t,s),g(t,n)},p(e,t){8&t[0]&&s!==(s=Qs(e[28].date)+"")&&B(n,s)},d(e){e&&v(t)}}}function Hs(e){let t,n=e[3][e[30]+1].date!=e[3][e[30]].date&&Gs(e);return{c(){n&&n.c(),t=P()},m(e,s){n&&n.m(e,s),y(e,t,s)},p(e,s){e[3][e[30]+1].date!=e[3][e[30]].date?n?n.p(e,s):(n=Gs(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function Gs(e){let t,n,s=Qs(e[28].date)+"";return{c(){t=w("p"),n=C(s),S(t,"font-size","10px"),A(t,"class","svelte-cbh2f5")},m(e,s){y(e,t,s),g(t,n)},p(e,t){8&t[0]&&s!==(s=Qs(e[28].date)+"")&&B(n,s)},d(e){e&&v(t)}}}function Ys(e){let t,n,s=Qs(e[28].date)+"";return{c(){t=w("p"),n=C(s),S(t,"font-size","10px"),A(t,"class","svelte-cbh2f5")},m(e,s){y(e,t,s),g(t,n)},p(e,t){8&t[0]&&s!==(s=Qs(e[28].date)+"")&&B(n,s)},d(e){e&&v(t)}}}function Xs(e){let t,n=e[3][e[30]+1].date!=e[3][e[30]].date&&Ws(e);return{c(){n&&n.c(),t=P()},m(e,s){n&&n.m(e,s),y(e,t,s)},p(e,s){e[3][e[30]+1].date!=e[3][e[30]].date?n?n.p(e,s):(n=Ws(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function Ws(e){let t,n,s=Qs(e[28].date)+"";return{c(){t=w("p"),n=C(s),S(t,"font-size","10px"),A(t,"class","svelte-cbh2f5")},m(e,s){y(e,t,s),g(t,n)},p(e,t){8&t[0]&&s!==(s=Qs(e[28].date)+"")&&B(n,s)},d(e){e&&v(t)}}}function Js(e){let t;function n(e,t){return e[28].msgid==e[6].email?Ls:zs}let s=n(e),r=s(e);return{c(){r.c(),t=P()},m(e,n){r.m(e,n),y(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&v(t)}}}function Vs(e){let t,n;const s=new As({});return{c(){t=w("span"),ae(s.$$.fragment),A(t,"class","txtMsg svelte-cbh2f5"),A(t,"id","isTypingSpan")},m(e,r){y(e,t,r),le(s,t,null),n=!0},i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){e&&v(t),ce(s)}}}function Ks(e){let t;const n=new Fs({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Zs(e){let t,n,s,r;const o=[Ns,Ds],i=[];function a(e,t){return e[7].length>0?0:1}return n=a(e),s=i[n]=o[n](e),{c(){t=w("div"),s.c(),A(t,"id","chatWindow"),A(t,"class","svelte-cbh2f5")},m(e,s){y(e,t,s),i[n].m(t,null),r=!0},p(e,r){let l=n;n=a(e),n===l?i[n].p(e,r):(te(),re(i[l],1,1,()=>{i[l]=null}),ne(),s=i[n],s||(s=i[n]=o[n](e),s.c()),se(s,1),s.m(t,null))},i(e){r||(se(s),r=!0)},o(e){re(s),r=!1},d(e){e&&v(t),i[n].d()}}}function Qs(e){return moment(e,"YYYYMMDD, HH:mm").fromNow()}function er(e,t,n){let s,r,o,i,a,c,u,p,d,h,f;l(e,Rn,e=>n(22,s=e)),l(e,_n,e=>n(6,r=e)),l(e,is,e=>n(7,o=e)),l(e,Hn,e=>n(8,i=e)),l(e,Ln,e=>n(23,a=e)),l(e,Un,e=>n(9,c=e)),l(e,es,e=>n(10,u=e)),l(e,Jn,e=>n(11,p=e)),s.emit("go-online",r.email);let m,g,y,v,b,w=!1,k=screen.width,C=o.length>0?o[0]:null;var x;function P(e,t){if(null!=e){if(screen.width<=800&&!t){On.set(!1),document.getElementById("allChats").setAttribute("style","left:-100%"),document.getElementById("currChat").setAttribute("style","left:0;")}n(5,C=e),g=C.id,n(3,y=C.history),n(4,v=C.priName==r.name?C.secName:C.priName),b=C.priEmail==r.email?C.secEmail:C.priEmail}}function $(){null==f&&""==f||(m={chatID:g,userID:b,func:"saveChat",id:r.email,msg:{msgid:r.email,date:moment().format("YYYYMMDD, HH:mm"),message:f}},s.emit("send-msg",m),n(1,f=""))}null!=C&&(g=C.id,y=C.history,v=C.priName==r.name?C.secName:C.priName,b=C.priEmail==r.email?C.secEmail:C.priEmail),x=()=>{h=d&&d.offsetHeight+d.scrollTop>d.scrollHeight-20},R().$$.before_update.push(x),function(e){R().$$.after_update.push(e)}(()=>{h&&d.scrollTo(0,d.scrollHeight)}),s.on("typing",e=>{e==r.email&&n(2,w=!0)}),s.on("no-typing",e=>{e==r.email&&n(2,w=!1)}),setInterval((function(){null!=o&&o.length>0&&P(C,!0)}),500);return[d,f,w,y,v,C,r,o,i,c,u,p,k,P,function(){i||(console.log("Making call To "+v),Jn.set(v),Vn.set(b),es.set(r.name),Kn.set(r.email),Xn.set(!0),Wn.set(!0),navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(e=>{console.log("Creating Peer"),setInterval(Ps,1e3),setTimeout((function(){window.$("#stream").draggable()}),1e3),Ln.set(new SimplePeer({initiator:!0,trickle:!1,stream:e})),a.on("signal",e=>{i||(console.log("Receiving Signal"),s.emit("call-user",{calleeID:b,calleeName:v,signal:e,callerName:r.name,callerID:r.email}))}),a.on("stream",e=>{console.log("Sending Stream"),Un.set(!0),Xn.set(!1),Wn.set(!1),setTimeout((function(){document.getElementById("audio").srcObject=e,Hn.set(!0)}),500)})}).catch(e=>{console.log(e)}))},function(){if(screen.width<=800){On.set(!0),document.getElementById("allChats").setAttribute("style","left:0%"),document.getElementById("currChat").setAttribute("style","left:100%;")}},$,function(){""==f?s.emit("no-typing",b):s.emit("typing",b)},h,m,g,b,s,a,e=>P(e,!1),function(e){O[e?"unshift":"push"](()=>{n(0,d=e)})},function(){f=this.value,n(1,f)},e=>13===e.which&&$()]}class tr extends de{constructor(e){super(),pe(this,e,er,Zs,a,{},[-1,-1])}}function nr(e){let n,s,r,o,i;return{c(){n=w("button"),s=C(e[0]),r=x(),o=w("div"),A(n,"class","btn btn-primary btn-sm svelte-h7ip9q"),A(o,"id","board"),A(o,"class","svelte-h7ip9q")},m(t,a,l){y(t,n,a),g(n,s),y(t,r,a),y(t,o,a),l&&i(),i=$(n,"click",e[1])},p(e,[t]){1&t&&B(s,e[0])},i:t,o:t,d(e){e&&v(n),e&&v(r),e&&v(o),i()}}}function sr(e,t,n){let s,r,o,i,a,c;l(e,ss,e=>n(11,s=e)),l(e,os,e=>n(12,r=e)),l(e,Rn,e=>n(13,o=e)),screen.width<=800?(a=screen.width,i=a/8,c=a/20):(a=800,c=a/20,i=a/8);let u,p,d=0,h=0,f=c/2,m="3D",g=[],y=[],v=function(e){e.setup=function(){e.createCanvas(a,a,this.WEBGL)},e.draw=function(){let t,n,r,o,l,u,p,f,m,v,b,w;e.angleMode(e.DEGREES),e.background(255),e.camera(0,d,a,0,0,0,0,1,0),e.translate(-(a/2-i/2),-(a/2-i/2)),t=(e.width-a)/2+i/2,n=(e.height-a)/2+i/2,b=t,w=n,r=15*t,o=n,l=t,u=15*n,p=u,d==a&&(t=Math.floor(4.4*t),n=Math.floor(5.5*n),b=t,w=n,r=Math.floor(.767*r),o=n,l=Math.floor(2.5*l),u=Math.floor(.7867*u),p=u,f=(r-t)/7,m=(p-o)/7,v=(t-l)/7);let k=0;for(let n=0;n<8;n++){for(let t=0;t<8;t++){let r=n%2!=0&&t%2!=0;if(n%2==0&&t%2==0||r)e.fill("wheat"),e.box(i,i,10);else if(e.fill("brown"),e.box(i,i,10),s.isEmpty(n,t))y[k]={},y[k].x=b,y[k].y=w,y[k].i=n,y[k].j=t,y[k].r=c,k++;else{e.push(),e.rotateX(90),"black"==s.getSide(n,t)&&e.stroke(255),e.fill(s.getSide(n,t)),e.cylinder(c,h),e.pop(),e.push(),e.translate(0,0,c/2+1),e.strokeWeight(2),"black"==s.getSide(n,t)?e.stroke("white"):e.stroke("black"),e.fill(s.getSide(n,t)),e.circle(0,0,2*c),e.pop();let r=s.getId(n,t);g[r]={},g[r].x=b,g[r].y=w,g[r].i=n,g[r].j=t,g[r].r=c}e.translate(i,0),b+=d<a?i:f}d<a?(b=t,w+=i):(t-=v,r+=v,f=(r-t)/7,b=t,w+=m),e.translate(-8*i,i)}},e.mousePressed=function(){for(let t=0;t<y.length;t++){if(e.dist(this.mouseX,this.mouseY,y[t].x,y[t].y)<y[t].r&&s.isEmpty(y[t].i,y[t].j)&&null!=u&&r.rangeMoves==r.numMoves&&r.currPlayer==r.side){console.log("Empty Square at: "+y[t].i+", "+y[t].j),p=new he(y[t].i,y[t].j,"E");let e=s.doMove(u,p);if(console.log(e.move),ss.set(s),e.move){os.update(e=>(e.numMoves+=1,e.rangeMoves+=1,e.myMoves+=1,e));let n={id:s.getId(t,j),xDiff:u.getPosition().xPos-p.xPos,yDiff:u.getPosition().yPos-p.yPos,remove:e.id,gameID:r.gameID,oppID:r.oppID};o.emit("piece-move",n),r.states.push(s.saveBoardState()),u=s.getPiece(p.xPos,p.yPos)}u=null,p=null;break}}for(let t=0;t<g.length;t++){if(e.dist(this.mouseX,this.mouseY,g[t].x,g[t].y)<g[t].r&&!s.isEmpty(g[t].i,g[t].j)&&r.currPlayer==r.side&&r.rangeMoves==r.numMoves&&!r.paused){console.log("Clicked Checker at: "+g[t].i+", "+g[t].j),u=s.getPieceFromId(t);break}}}};var b;return b=function(){new p5(v,"board")},R().$$.on_mount.push(b),[m,function(){let e=f/a;if(0==d){n(0,m="2D");for(let t=d;t<a;t++)setTimeout((function(){d=t,h+=e}),100)}else{n(0,m="3D");for(let t=d;t>=0;t--)setTimeout((function(){d=t,h-=e}),100)}}]}class rr extends de{constructor(e){super(),pe(this,e,sr,nr,a,{})}}function or(e){let n;return{c(){n=w("div"),A(n,"class","container-fluid svelte-83kxav")},m(e,t){y(e,n,t)},p:t,i:t,o:t,d(e){e&&v(n)}}}class ir extends de{constructor(e){super(),pe(this,e,null,or,a,{})}}function ar(e){let t,n,s=e[0].paused&&e[0].side==e[0].currPlayer&&null!=e[0].opp&&cr(e),r=e[0].side==e[0].currPlayer&&e[0].numMoves>0&&ur(e);return{c(){t=w("div"),s&&s.c(),n=x(),r&&r.c(),A(t,"id","gameBtn"),A(t,"class","container svelte-p1jrur")},m(e,o){y(e,t,o),s&&s.m(t,null),g(t,n),r&&r.m(t,null)},p(e,o){e[0].paused&&e[0].side==e[0].currPlayer&&null!=e[0].opp?s?s.p(e,o):(s=cr(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),e[0].side==e[0].currPlayer&&e[0].numMoves>0?r?r.p(e,o):(r=ur(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&v(t),s&&s.d(),r&&r.d()}}}function lr(e){let t,n,s,r,i,a,l,c,u,p=e[0].rangeMoves+"";return{c(){t=w("div"),n=w("h2"),s=C("Game State at Move: "),r=C(p),i=x(),a=w("input"),A(n,"id","rangeBar"),A(n,"class","svelte-p1jrur"),A(a,"class","custom-range svelte-p1jrur"),A(a,"orient","vertical"),a.disabled=l=!e[0].paused,A(a,"type","range"),A(a,"min","0"),A(a,"max",c=e[0].numMoves),A(a,"step","1"),A(t,"id","state"),A(t,"class","svelte-p1jrur")},m(l,c,p){y(l,t,c),g(t,n),g(n,s),g(n,r),g(t,i),g(t,a),M(a,e[0].rangeMoves),p&&o(u),u=[$(a,"change",e[2]),$(a,"change",e[12]),$(a,"input",e[12])]},p(e,t){1&t&&p!==(p=e[0].rangeMoves+"")&&B(r,p),1&t&&l!==(l=!e[0].paused)&&(a.disabled=l),1&t&&c!==(c=e[0].numMoves)&&A(a,"max",c),1&t&&M(a,e[0].rangeMoves)},d(e){e&&v(t),o(u)}}}function cr(e){let n,s;return{c(){n=w("button"),n.textContent="Start Game",A(n,"class","btn btn-success btn-lg start svelte-p1jrur")},m(t,r,o){y(t,n,r),o&&s(),s=$(n,"click",e[4])},p:t,d(e){e&&v(n),s()}}}function ur(e){let n,s,r,i,a,l;return{c(){n=w("button"),n.textContent="Switch Turn",s=x(),r=w("button"),r.textContent="Save Game",i=x(),a=w("button"),a.textContent="Forfeit Game",A(n,"class","btn btn-primary btn-lg switch svelte-p1jrur"),A(r,"class","btn btn-warning btn-lg save svelte-p1jrur"),A(a,"class","btn btn-danger btn-lg forfeit svelte-p1jrur")},m(t,c,u){y(t,n,c),y(t,s,c),y(t,r,c),y(t,i,c),y(t,a,c),u&&o(l),l=[$(n,"click",e[3]),$(r,"click",e[13]),$(a,"click",e[14])]},p:t,d(e){e&&v(n),e&&v(s),e&&v(r),e&&v(i),e&&v(a),o(l)}}}function pr(e){let t,n,s,r,o,i,a,l,c,u,p,d,h,f,m,b,k,$,E,M,F,T,I=e[0].numMoves+"",D=e[0].timer+"",N=(null!=e[0].opp?e[0].opp:"Waiting for Other Player")+"",q=e[1].name+"";const R=new rr({});function _(e,t){return e[0].finished?lr:ar}let O=_(e),j=O(e);return{c(){t=w("div"),n=w("h2"),s=C("Playing: "),r=w("i"),o=x(),i=w("h2"),a=C("Moves: "),l=C(I),c=x(),u=w("h2"),p=C("Timer: "),d=C(D),h=x(),f=w("h4"),m=C(N),b=x(),ae(R.$$.fragment),k=x(),$=w("h4"),E=C(q),M=x(),j.c(),F=P(),A(r,"class","fa fa-circle"),S(r,"color",e[0].currPlayer),A(n,"id","player"),A(n,"class","svelte-p1jrur"),A(i,"id","moves"),A(i,"class","svelte-p1jrur"),A(u,"id","time"),A(u,"class","svelte-p1jrur"),A(t,"id","gameStatus"),A(t,"class","svelte-p1jrur"),A(f,"class","players svelte-p1jrur"),A(f,"style","top:0;%"),A($,"class","players svelte-p1jrur"),S($,"bottom","0")},m(e,v){y(e,t,v),g(t,n),g(n,s),g(n,r),g(t,o),g(t,i),g(i,a),g(i,l),g(t,c),g(t,u),g(u,p),g(u,d),y(e,h,v),y(e,f,v),g(f,m),y(e,b,v),le(R,e,v),y(e,k,v),y(e,$,v),g($,E),y(e,M,v),j.m(e,v),y(e,F,v),T=!0},p(e,[t]){(!T||1&t)&&S(r,"color",e[0].currPlayer),(!T||1&t)&&I!==(I=e[0].numMoves+"")&&B(l,I),(!T||1&t)&&D!==(D=e[0].timer+"")&&B(d,D),(!T||1&t)&&N!==(N=(null!=e[0].opp?e[0].opp:"Waiting for Other Player")+"")&&B(m,N),(!T||2&t)&&q!==(q=e[1].name+"")&&B(E,q),O===(O=_(e))&&j?j.p(e,t):(j.d(1),j=O(e),j&&(j.c(),j.m(F.parentNode,F)))},i(e){T||(se(R.$$.fragment,e),T=!0)},o(e){re(R.$$.fragment,e),T=!1},d(e){e&&v(t),e&&v(h),e&&v(f),e&&v(b),ce(R,e),e&&v(k),e&&v($),e&&v(M),j.d(e),e&&v(F)}}}function dr(e,t,n){let s,r,o,i;l(e,os,e=>n(0,s=e)),l(e,Rn,e=>n(8,r=e)),l(e,_n,e=>n(1,o=e)),l(e,ss,e=>n(9,i=e)),null!=s.oppID&&null==s.opp&&r.emit("join-game",{gameID:s.gameID,email:o.email,name:o.name});let a=s.time,c=s.numMoves;r.on("switch-player",e=>{e==s.gameID&&(clearInterval(u),console.log("Switching Player"),os.update(e=>(e.timer=e.time,e.currPlayer="red"==e.currPlayer?"black":"red",e)),console.log(s.currPlayer),u=setInterval(p,1e3))}),r.on("piece-move",e=>{if(e.gameID==s.gameID&&e.oppID==o.email){console.log(e),null!=e.remove&&i.removePiece(i.getPieceFromId(e.id));let t=i.getPieceFromId(e.id);i.otherPlayerMove(t,e.xDiff,e.yDiff),ss.set(i),s.states.push(i.saveBoardState()),os.update(e=>(e.numMoves+=1,e.rangeMoves+=1,e))}});let u=setInterval(p,1e3);function p(){s.rangeMoves==s.numMoves&&0==s.paused&&(s.timer>0?os.update(e=>(e.timer-=1,e.secondsPlayed+=1,e)):(d(),currPos=null,nextPos=null,lockedPiece=!1))}function d(){r.emit("switch-player",s.gameID),currPos=null,nextPos=null,lockedPiece=!1}function h(e){s.side==s.currPlayer&&s.numMoves>0&&r.emit("game-save",{gameID:s.gameID,auto:e,oppID:s.oppID})}setInterval((function(){s.numMoves>c&&(h(!0),c=s.numMoves)}),3e5);return[s,o,function(){let e=s.states[s.rangeMoves];ss.set(new hs(e,null)),setCirclePositions()},d,function(){s.side==s.currPlayer&&r.emit("start-game",s.gameID)},h,c,u,r,i,a,p,function(){s.rangeMoves=E(this.value),os.set(s)},()=>h(!1),()=>h(!1)]}class hr extends de{constructor(e){super(),pe(this,e,dr,pr,a,{})}}function fr(e){let n,s,r,i,a,l;return{c(){n=w("button"),n.textContent="Pause Game",s=x(),r=w("button"),r.textContent="Switch Turn",i=x(),a=w("button"),a.textContent="Save Game",A(n,"class","btn btn-warning btn-lg pause svelte-18cr2hd"),A(r,"class","btn btn-primary btn-lg switch svelte-18cr2hd"),A(a,"class","btn btn-secondary btn-lg forfeit svelte-18cr2hd")},m(t,c,u){y(t,n,c),y(t,s,c),y(t,r,c),y(t,i,c),y(t,a,c),u&&o(l),l=[$(n,"click",e[19]),$(r,"click",e[7]),$(a,"click",e[20])]},p:t,d(e){e&&v(n),e&&v(s),e&&v(r),e&&v(i),e&&v(a),o(l)}}}function mr(e){let t,n,s,r,i,a,l,c,u;return{c(){t=w("button"),t.textContent="Start Game",n=x(),s=w("div"),r=w("h2"),i=C("Game State at Move: "),a=C(e[1]),l=x(),c=w("input"),A(t,"class","btn btn-success btn-lg start svelte-18cr2hd"),A(r,"id","rangeBar"),A(r,"class","svelte-18cr2hd"),A(c,"class","custom-range svelte-18cr2hd"),A(c,"orient","vertical"),A(c,"type","range"),A(c,"min","0"),A(c,"max",e[5]),A(c,"step","1"),A(s,"id","state"),A(s,"class","svelte-18cr2hd")},m(p,d,h){y(p,t,d),y(p,n,d),y(p,s,d),g(s,r),g(r,i),g(r,a),g(s,l),g(s,c),M(c,e[1]),h&&o(u),u=[$(t,"click",e[17]),$(c,"change",e[6]),$(c,"change",e[18]),$(c,"input",e[18])]},p(e,t){2&t&&B(a,e[1]),2&t&&M(c,e[1])},d(e){e&&v(t),e&&v(n),e&&v(s),o(u)}}}function gr(e){let t,n,s,r,o,i,a,l,c,u,p,d,h,f,m,b,k,P=(null!=e[3]?e[3].name:"ME")+"";const $=new rr({});function E(e,t){return e[2]?mr:fr}let M=E(e),F=M(e);return{c(){t=w("div"),n=w("h2"),s=C("Playing: "),r=w("i"),o=x(),i=w("h2"),i.textContent="Moves: "+e[5],a=x(),l=w("h2"),l.textContent="Timer: "+e[4],c=x(),u=w("h4"),u.textContent="Computer",p=x(),ae($.$$.fragment),d=x(),h=w("h4"),f=C(P),m=x(),b=w("div"),F.c(),A(r,"class","fa fa-circle"),S(r,"color",e[0]),A(n,"id","player"),A(n,"class","svelte-18cr2hd"),A(i,"id","moves"),A(i,"class","svelte-18cr2hd"),A(l,"id","time"),A(l,"class","svelte-18cr2hd"),A(t,"id","gameStatus"),A(t,"class","svelte-18cr2hd"),A(u,"id","comp"),A(u,"class","players svelte-18cr2hd"),A(u,"style","top:0;%"),A(h,"id","me"),A(h,"class","players svelte-18cr2hd"),S(h,"bottom","0"),A(b,"id","gameBtn"),A(b,"class","container svelte-18cr2hd")},m(e,v){y(e,t,v),g(t,n),g(n,s),g(n,r),g(t,o),g(t,i),g(t,a),g(t,l),y(e,c,v),y(e,u,v),y(e,p,v),le($,e,v),y(e,d,v),y(e,h,v),g(h,f),y(e,m,v),y(e,b,v),F.m(b,null),k=!0},p(e,[t]){(!k||1&t)&&S(r,"color",e[0]),(!k||8&t)&&P!==(P=(null!=e[3]?e[3].name:"ME")+"")&&B(f,P),M===(M=E(e))&&F?F.p(e,t):(F.d(1),F=M(e),F&&(F.c(),F.m(b,null)))},i(e){k||(se($.$$.fragment,e),k=!0)},o(e){re($.$$.fragment,e),k=!1},d(e){e&&v(t),e&&v(c),e&&v(u),e&&v(p),ce($,e),e&&v(d),e&&v(h),e&&v(m),e&&v(b),F.d()}}}function yr(e,t,n){let s,r,o;l(e,rs,e=>n(12,s=e)),l(e,os,e=>n(13,r=e)),l(e,_n,e=>n(3,o=e)),ss.set(new hs(null,!1));let i="red",a=60,c=0,u=!0,p=setInterval(d,1e3);function d(){0==c&&0==u&&(a>0?a--:(clearInterval(p),n(0,i="red"==i?"black":"red"),a=60,currPos=null,nextPos=null,lockedPiece=!1,p=setInterval(d,1e3)))}function h(e){0}setInterval((function(){}),3e5);return[i,c,u,o,60,0,function(){ss.set(new hs(s[r.rangeMoves],null))},function(){"red"==i&&(clearInterval(p),n(0,i="red"==i?"black":"red"),a=60,currPos=null,nextPos=null,lockedPiece=!1,p=setInterval(d,1e3))},h,a,0,p,s,r,60,d,function(){"red"==i&&n(2,u=!u)},()=>n(2,u=!u),function(){c=E(this.value),n(1,c)},()=>n(2,u=!u),()=>h()]}class vr extends de{constructor(e){super(),pe(this,e,yr,gr,a,{})}}function br(e){let t;const n=new vr({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function wr(e){let t;const n=new hr({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function kr(e){let t,n,s,r;const o=[wr,br],i=[];function a(e,t){return null!=e[0]?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=P()},m(e,n){i[t].m(e,n),y(e,s,n),r=!0},p(e,[r]){let l=t;t=a(e),t!==l&&(te(),re(i[l],1,1,()=>{i[l]=null}),ne(),n=i[t],n||(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&v(s)}}}function Cr(e,t,n){let s;return l(e,os,e=>n(0,s=e)),[s]}class xr extends de{constructor(e){super(),pe(this,e,Cr,kr,a,{})}}function Pr(e){let t;const n=new Fs({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function $r(e){let t,n,s,r,i,a,l,c,u,p,d,h,f,m,b,k,C,P,E,B,M,S,F,T,I,D,N,q,R,_,O,j,z,L,U=e[0]&&Pr();return{c(){t=w("div"),U&&U.c(),n=x(),s=w("button"),r=w("i"),i=x(),a=w("span"),a.textContent="Play",c=x(),u=w("button"),p=w("i"),d=x(),h=w("span"),h.textContent="Games",m=x(),b=w("button"),k=w("i"),C=x(),P=w("span"),P.textContent="League",B=x(),M=w("button"),S=w("i"),F=x(),T=w("span"),T.textContent="Chat",D=x(),N=w("button"),q=w("i"),R=x(),_=w("span"),_.textContent="Account",A(r,"class","fa fa-play svelte-1d4szx5"),A(a,"class","label svelte-1d4szx5"),A(s,"id","play"),A(s,"class","btn btn-dark svelte-1d4szx5"),s.disabled=l=null!=e[1],A(p,"class","fa fa-eye svelte-1d4szx5"),A(h,"class","label svelte-1d4szx5"),A(u,"id","eye"),A(u,"class","btn btn-dark svelte-1d4szx5"),u.disabled=f=null==e[2],A(k,"class","fa fa-list-ol svelte-1d4szx5"),A(P,"class","label svelte-1d4szx5"),A(b,"id","list"),A(b,"class","btn btn-dark svelte-1d4szx5"),b.disabled=E=null==e[3],A(S,"class","fa fa-comments svelte-1d4szx5"),A(T,"class","label svelte-1d4szx5"),A(M,"id","comet"),A(M,"class","btn btn-dark svelte-1d4szx5"),M.disabled=I=null==e[4],A(q,"class","fa fa-user svelte-1d4szx5"),A(_,"class","label svelte-1d4szx5"),A(N,"id","user"),A(N,"class","btn btn-dark svelte-1d4szx5"),N.disabled=O=null==e[5],A(t,"class","navbar svelte-1d4szx5")},m(l,f,v){y(l,t,f),U&&U.m(t,null),g(t,n),g(t,s),g(s,r),g(s,i),g(s,a),g(t,c),g(t,u),g(u,p),g(u,d),g(u,h),g(t,m),g(t,b),g(b,k),g(b,C),g(b,P),g(t,B),g(t,M),g(M,S),g(M,F),g(M,T),g(t,D),g(t,N),g(N,q),g(N,R),g(N,_),z=!0,v&&o(L),L=[$(s,"click",e[10]),$(u,"click",e[11]),$(b,"click",e[12]),$(M,"click",e[13]),$(N,"click",e[14])]},p(e,[r]){e[0]?U?1&r&&se(U,1):(U=Pr(),U.c(),se(U,1),U.m(t,n)):U&&(te(),re(U,1,1,()=>{U=null}),ne()),(!z||2&r&&l!==(l=null!=e[1]))&&(s.disabled=l),(!z||4&r&&f!==(f=null==e[2]))&&(u.disabled=f),(!z||8&r&&E!==(E=null==e[3]))&&(b.disabled=E),(!z||16&r&&I!==(I=null==e[4]))&&(M.disabled=I),(!z||32&r&&O!==(O=null==e[5]))&&(N.disabled=O)},i(e){z||(se(U),G(()=>{j||(j=ie(t,ys,{y:200,duration:1e3},!0)),j.run(1)}),z=!0)},o(e){re(U),j||(j=ie(t,ys,{y:200,duration:1e3},!1)),j.run(0),z=!1},d(e){e&&v(t),U&&U.d(),e&&j&&j.end(),o(L)}}}function Ar(e,t,n){let s,r,o,i,a,c,u;l(e,zn,e=>n(8,s=e)),l(e,Un,e=>n(0,r=e)),l(e,os,e=>n(1,o=e)),l(e,ts,e=>n(2,i=e)),l(e,ns,e=>n(3,a=e)),l(e,is,e=>n(4,c=e)),l(e,_n,e=>n(5,u=e));let p=null,d=["play","eye","list","comet","user"];function h(e,t){let n;for(zn.set(e),p=t,n=0;n<d.length;n++)if(d[n]==t){document.getElementById(d[n]).setAttribute("style","background-color:#23272b")}else{document.getElementById(d[n]).setAttribute("style","background-color:#343a40")}}setTimeout((function(){switch(s){case 1:p=d[1];break;case 2:p=d[2];break;case 3:p=d[3];break;case 4:p=d[4];break;default:p=d[0]}document.getElementById(p).setAttribute("style","background-color:#23272b")}),1e3);return[r,o,i,a,c,u,h,p,s,d,()=>h(0,"play"),()=>h(1,"eye"),()=>h(2,"list"),()=>h(3,"comet"),()=>h(4,"user")]}class Er extends de{constructor(e){super(),pe(this,e,Ar,$r,a,{})}}function Br(e,t,n){let{header:s}=t,{icon:r}=t,{body:o}=t;return navigator.serviceWorker.ready.then((function(e){e.showNotification(s,{body:o,icon:r,vibrate:[200,100,200,100,200,100,200]})})),e.$set=e=>{"header"in e&&n(0,s=e.header),"icon"in e&&n(1,r=e.icon),"body"in e&&n(2,o=e.body)},[s,r,o]}class Mr extends de{constructor(e){super(),pe(this,e,Br,null,a,{header:0,icon:1,body:2})}}function Sr(e){let t;const n=new Mr({props:{header:e[1],body:e[2],icon:e[3]}});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},p(e,t){const s={};2&t&&(s.header=e[1]),4&t&&(s.body=e[2]),8&t&&(s.icon=e[3]),n.$set(s)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Fr(e){let t,n,s=e[0]&&Sr(e);return{c(){s&&s.c(),t=P()},m(e,r){s&&s.m(e,r),y(e,t,r),n=!0},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&se(s,1)):(s=Sr(e),s.c(),se(s,1),s.m(t.parentNode,t)):s&&(te(),re(s,1,1,()=>{s=null}),ne())},i(e){n||(se(s),n=!0)},o(e){re(s),n=!1},d(e){s&&s.d(e),e&&v(t)}}}function Tr(e,t,n){let s,r,o,i,a,c,u;l(e,Rn,e=>n(5,s=e)),l(e,_n,e=>n(6,r=e)),l(e,is,e=>n(7,o=e)),l(e,Hn,e=>n(8,i=e)),l(e,Ln,e=>n(9,a=e)),l(e,Un,e=>n(10,c=e)),l(e,os,e=>n(11,u=e));let p,d,h,f,m=!1,g=()=>{n(0,m=!1)};return s.on("online-user",e=>{if(null!=r&&r.isAuth&&null!=o&&o.length>0&&e!=r.email){for(p=0;p<o.length;p++){if((o[p].priEmail==e||o[p].secEmail==e)&&!o[p].online){is.update(e=>(e[p].online=!0,e));break}if((o[p].priEmail==e||o[p].secEmail==e)&&o[p].online)break}s.emit("go-online",r.email)}}),s.on("offline-user",e=>{if(null!=r&&r.isAuth&&null!=o&&o.length>0&&e!=r.email){for(p=0;p<o.length;p++){if((o[p].priEmail==e||o[p].secEmail==e)&&o[p].online){is.update(e=>(e[p].online=!1,e));break}if((o[p].priEmail==e||o[p].secEmail==e)&&!o[p].online)break}s.emit("go-online",r.email)}}),s.on("recv-msg",async e=>{if(e.userID==r.email||e.id==r.email){for(console.log("Received: "+e.msg.message),p=0;p<o.length;p++)if(o[p].id==e.chatID){is.update(t=>(t[p].history.push(e.msg),t));break}e.userID==r.email&&(n(1,d=o[p].priEmail==r.email?o[p].secName.toUpperCase():o[p].priName.toUpperCase()),n(2,h=e.msg.message),n(3,f=o[p].priEmail==r.email?"https://api.adorable.io/avatars/285/"+o[p].secEmail+".png":"https://api.adorable.io/avatars/285/"+o[p].priEmail+".png"),n(0,m=!0),setTimeout(g,3e3)),o.length>1&&0!=p&&is.update(e=>{let t=e[p];for(let t=p;t>=0;t--)e[t]=e[t-1];return e[0]=t,e})}}),s.on("recv-call",e=>{e.calleeID!=r.email||i||(console.log("receving call from "+e.callerName),es.set(e.callerName),Kn.set(e.callerID),Zn.set(e.signal),i||(Xn.set(!0),Qn.set(!0),setInterval(Ps,1e3),setTimeout((function(){window.$("#stream").draggable()}),1e3)))}),s.on("call-accepted",e=>{e.callerID!=r.email||i||(console.log("Call Accepted"),Wn.set(!1),Xn.set(!1),a.signal(e.signal))}),s.on("end-call",e=>{if(e.callerID==r.email||e.calleeID==r.email){if(console.log("Ending call"),i){document.getElementById("audio").src="",a.destroy(),Hn.set(!1),c&&Un.set(!1)}Xn.set(!1)}}),s.on("get-second-user",e=>{e.gameID==u.gameID&&null==u.oppID&&null==u.opp&&null!=u.currPlayer&&(console.log("Received second player"),os.update(t=>(t.opp=e.name,t.oppID=e.email,t)),ks(),s.emit("send-first-user",{gameID:u.gameID,name:r.name}),cs.set(!1),as.set(!1),zn.set(5))}),s.on("get-first-user",e=>{e.gameID==u.gameID&&null==u.opp&&null!=u.currPlayer&&(console.log("Received first player"),os.update(t=>(t.opp=e.name,t)),ks(),zn.set(5))}),s.on("start-game",e=>{null!=u&&e==u.gameID&&(console.log("Game Started"),os.update(e=>(e.paused=!1,e)),n(1,d=u.gameID+" Game"),n(2,h="Game with "+u.opp+" has started"),n(3,f="images/LOGO-192.png"),n(0,m=!0),setTimeout(g,3e3))}),s.on("game-save",e=>{if(e.gameID==u.gameID){e.oppID==r.email&&(n(1,d=u.gameID+" Game"),n(2,h=u.opp+" is Saving Game"),n(3,f="images/LOGO-192.png"),n(0,m=!0),setTimeout(g,3e3)),console.log("Game Saved"),clearInterval(timeInterval);let t={func:"saveGame",id:r.email,gameID:u.gameID,initiator:u.initiator,gameHistory:u.states,numMoves:u.numMoves,myMoves:u.myMoves,minutes:Math.ceil(u.secondsPlayed/60),currPlayer:u.currPlayer};s.emit("save-game",t),e.auto?timeInterval=setInterval(countDown,1e3):os.set(null)}}),s.on("refresh-list",()=>{console.log("Refreshing Game list"),xs()}),[m,d,h,f]}class Ir extends de{constructor(e){super(),pe(this,e,Tr,Fr,a,{})}}class Dr{constructor(e,t,n){this.gameID=e._id,this.initiator=n,this.time=e.time,this.timer=e.time,this.opp=null,this.oppID=0==n?e.priEmail:null,this.currPlayer=e.currPlayer,this.numMoves=e.priMoves+e.secMoves,this.myMoves=e.priEmail==e.email?e.priMoves:e.secMoves,this.rangeMoves=e.priMoves+e.secMoves,this.paused=1!=e.finished,this.finished=e.finished,this.side=e.side,this.secondsPlayed=60*e.minutesPlayed,this.states=8==t.length?[t]:t}}function Nr(e){let n,s,r,o,i=e[2].gameID+"";return{c(){n=w("h5"),s=C("Please share Game Password '"),r=C(i),o=C("' with other player"),S(n,"text-align","center"),S(n,"margin-top","50%"),A(n,"class","svelte-47gp1b")},m(e,t){y(e,n,t),g(n,s),g(n,r),g(n,o)},p(e,t){4&t&&i!==(i=e[2].gameID+"")&&B(r,i)},i:t,o:t,d(e){e&&v(n)}}}function qr(e){let n,s,r,i,a,l,c,u,p,d,h,f,m,b,k,E,S,F,T,I,D,N,q,R,_,O,j,z,L,U,H,G,Y,X,W,J,V,K=e[3]<=800&&function(e){let n,s;return{c(){n=w("button"),n.innerHTML='<i class="fa fa-arrow-left"></i>  Back',A(n,"id","backBtn"),A(n,"class","btn btn-dark svelte-47gp1b")},m(e,t,r){y(e,n,t),r&&s(),s=$(n,"click",jr)},p:t,d(e){e&&v(n),s()}}}();const Z=[_r,Rr],Q=[];function ee(e,t){return e[1]?0:1}return Y=ee(e),X=Q[Y]=Z[Y](e),{c(){K&&K.c(),n=x(),s=w("h5"),s.textContent="Game Preferences",r=x(),i=w("div"),a=w("h6"),a.textContent="Time Per Turn (seconds)",l=x(),c=w("div"),u=w("input"),p=x(),d=w("label"),d.textContent="15",h=x(),f=w("div"),m=w("input"),b=x(),k=w("label"),k.textContent="30",E=x(),S=w("div"),F=w("input"),T=x(),I=w("label"),I.textContent="45",D=x(),N=w("div"),q=w("input"),R=x(),_=w("label"),_.textContent="60",O=x(),j=w("h6"),z=C(e[0]),L=C(" seconds"),U=x(),H=w("input"),G=x(),X.c(),W=P(),A(s,"class","svelte-47gp1b"),A(a,"class","svelte-47gp1b"),A(u,"class","form-check-input"),A(u,"type","radio"),A(u,"name","inlineRadioOptions"),A(u,"id","inlineRadio1"),A(d,"class","form-check-label"),A(d,"for","inlineRadio1"),A(c,"class","form-check form-check-inline svelte-47gp1b"),A(m,"class","form-check-input"),A(m,"type","radio"),A(m,"name","inlineRadioOptions"),A(m,"id","inlineRadio2"),A(k,"class","form-check-label"),A(k,"for","inlineRadio2"),A(f,"class","form-check form-check-inline svelte-47gp1b"),A(F,"class","form-check-input"),A(F,"type","radio"),A(F,"name","inlineRadioOptions"),A(F,"id","inlineRadio3"),A(I,"class","form-check-label"),A(I,"for","inlineRadio3"),A(S,"class","form-check form-check-inline svelte-47gp1b"),A(q,"class","form-check-input"),A(q,"type","radio"),A(q,"name","inlineRadioOptions"),A(q,"id","inlineRadio3"),A(_,"class","form-check-label"),A(_,"for","inlineRadio3"),A(N,"class","form-check form-check-inline svelte-47gp1b"),A(i,"id","suggest"),A(i,"class","svelte-47gp1b"),A(j,"class","svelte-47gp1b"),A(H,"class","custom-range svelte-47gp1b"),A(H,"type","range"),A(H,"min","15"),A(H,"max","60"),A(H,"step","1")},m(t,v,w){K&&K.m(t,v),y(t,n,v),y(t,s,v),y(t,r,v),y(t,i,v),g(i,a),g(i,l),g(i,c),g(c,u),g(c,p),g(c,d),g(i,h),g(i,f),g(f,m),g(f,b),g(f,k),g(i,E),g(i,S),g(S,F),g(S,T),g(S,I),g(i,D),g(i,N),g(N,q),g(N,R),g(N,_),y(t,O,v),y(t,j,v),g(j,z),g(j,L),y(t,U,v),y(t,H,v),M(H,e[0]),y(t,G,v),Q[Y].m(t,v),y(t,W,v),J=!0,w&&o(V),V=[$(u,"change",e[9]),$(m,"change",e[10]),$(F,"change",e[11]),$(q,"change",e[12]),$(H,"change",e[13]),$(H,"input",e[13])]},p(e,t){e[3]<=800&&K.p(e,t),(!J||1&t)&&B(z,e[0]),1&t&&M(H,e[0]);let n=Y;Y=ee(e),Y===n?Q[Y].p(e,t):(te(),re(Q[n],1,1,()=>{Q[n]=null}),ne(),X=Q[Y],X||(X=Q[Y]=Z[Y](e),X.c()),se(X,1),X.m(W.parentNode,W))},i(e){J||(se(X),J=!0)},o(e){re(X),J=!1},d(e){K&&K.d(e),e&&v(n),e&&v(s),e&&v(r),e&&v(i),e&&v(O),e&&v(j),e&&v(U),e&&v(H),e&&v(G),Q[Y].d(e),e&&v(W),o(V)}}}function Rr(e){let n,s;return{c(){n=w("button"),n.textContent="Create",A(n,"class","btn btn-primary svelte-47gp1b")},m(t,r,o){y(t,n,r),o&&s(),s=$(n,"click",e[5])},p:t,i:t,o:t,d(e){e&&v(n),s()}}}function _r(e){let n;const s=new Bs({});return{c(){ae(s.$$.fragment)},m(e,t){le(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){ce(s,e)}}}function Or(e){let t,n,s,r;const o=[qr,Nr],i=[];function a(e,t){return null==e[2]?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=P()},m(e,n){i[t].m(e,n),y(e,s,n),r=!0},p(e,[r]){let l=t;t=a(e),t===l?i[t].p(e,r):(te(),re(i[l],1,1,()=>{i[l]=null}),ne(),n=i[t],n||(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&v(s)}}}function jr(){document.getElementById("index").setAttribute("style","left:0"),document.getElementById("create").setAttribute("style","left:100%;")}function zr(e,t,n){let s,r,o;l(e,_n,e=>n(7,s=e)),l(e,ss,e=>n(8,r=e)),l(e,os,e=>n(2,o=e));let i,a=15,c=!1,u=screen.width;function p(e){n(0,a=e)}return[a,c,o,u,p,function(){n(1,c=!0),i={func:"createGame",email:s.email,name:s.name,time:a,date:moment().format("YYYY-MM-DD")},ms(i).then(e=>{if(console.log(e),null!=e.msg){console.log(e.msg);let t=e.msg;t.time=a,t.side="red",t.name=s.name,t.email=s.email,ss.set(new hs(null,!1)),os.set(new Dr(t,r.saveBoardState(),!0)),n(1,c=!1)}else n(1,c=!1),console.log(e.err)}).catch(e=>{n(1,c=!1),console.log(e)})},i,s,r,()=>p(15),()=>p(30),()=>p(45),()=>p(60),function(){a=E(this.value),n(0,a)}]}class Lr extends de{constructor(e){super(),pe(this,e,zr,Or,a,{})}}function Ur(e){let t,n;return{c(){t=w("h6"),n=C(e[2]),S(t,"text-align","center"),S(t,"color","red"),S(t,"margin-top","20px")},m(e,s){y(e,t,s),g(t,n)},p(e,t){4&t&&B(n,e[2])},d(e){e&&v(t)}}}function Hr(e){let n,s;return{c(){n=w("button"),n.textContent="Join",A(n,"class","btn btn-primary svelte-dyewdt"),S(n,"margin-bottom","30px")},m(t,r,o){y(t,n,r),o&&s(),s=$(n,"click",e[5])},p:t,i:t,o:t,d(e){e&&v(n),s()}}}function Gr(e){let n;const s=new Bs({});return{c(){ae(s.$$.fragment)},m(e,t){le(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){ce(s,e)}}}function Yr(e){let n,s,r,i,a,l,c,u,p,d,h,f=e[4]<=800&&function(e){let n,s;return{c(){n=w("button"),n.innerHTML='Back <i class="fa fa-arrow-right"></i>',A(n,"id","backBtn"),A(n,"class","btn btn-dark svelte-dyewdt")},m(e,t,r){y(e,n,t),r&&s(),s=$(n,"click",Xr)},p:t,d(e){e&&v(n),s()}}}(),m=e[1]&&Ur(e);const g=[Gr,Hr],b=[];function k(e,t){return e[3]?0:1}return c=k(e),u=b[c]=g[c](e),{c(){f&&f.c(),n=x(),s=w("h5"),s.textContent="Game Password",r=x(),m&&m.c(),i=x(),a=w("input"),l=x(),u.c(),p=P(),A(s,"class","svelte-dyewdt"),A(a,"placeholder","Game Password"),a.required=!0,A(a,"class","svelte-dyewdt")},m(t,u,g){f&&f.m(t,u),y(t,n,u),y(t,s,u),y(t,r,u),m&&m.m(t,u),y(t,i,u),y(t,a,u),M(a,e[0]),y(t,l,u),b[c].m(t,u),y(t,p,u),d=!0,g&&o(h),h=[$(a,"input",e[10]),$(a,"keydown",e[11])]},p(e,[t]){e[4]<=800&&f.p(e,t),e[1]?m?m.p(e,t):(m=Ur(e),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null),1&t&&a.value!==e[0]&&M(a,e[0]);let n=c;c=k(e),c===n?b[c].p(e,t):(te(),re(b[n],1,1,()=>{b[n]=null}),ne(),u=b[c],u||(u=b[c]=g[c](e),u.c()),se(u,1),u.m(p.parentNode,p))},i(e){d||(se(u),d=!0)},o(e){re(u),d=!1},d(e){f&&f.d(e),e&&v(n),e&&v(s),e&&v(r),m&&m.d(e),e&&v(i),e&&v(a),e&&v(l),b[c].d(e),e&&v(p),o(h)}}}function Xr(){document.getElementById("index").setAttribute("style","left:0"),document.getElementById("join").setAttribute("style","left:-100%;")}function Wr(e,t,n){let s,r,o,i;l(e,_n,e=>n(7,s=e)),l(e,ss,e=>n(8,r=e));let a,c=screen.width,u=!1,p=!1;function d(){null!=o&&(n(3,p=!0),i={func:"joinGame",gameID:o,email:s.email,name:s.name},ms(i).then(e=>{if(console.log(e),null!=e.msg){let t=e.msg;t.priEmail!=s.email?(t.name=s.name,t.email=s.email,t.side="black",ss.set(new hs(null,!0)),os.set(new Dr(t,r.saveBoardState(),!1)),n(3,p=!1),as.set(!1),us.set(!1),zn.set(2)):(n(3,p=!1),n(2,a="Cannot Join A Game You Created"),n(1,u=!0),h(o))}else n(3,p=!1),console.log(e.err)}).catch(e=>{n(3,p=!1),console.log(e)}))}function h(e){i={func:"deleteGame",gameID:e},ms(i).then(e=>{console.log(e),"SUCCESS"==e.msg?console.log("Game deleted successfully"):console.log(e.err)}).catch(e=>{console.log(e)})}return[o,u,a,p,c,d,i,s,r,h,function(){o=this.value,n(0,o)},e=>13===e.which&&d()]}class Jr extends de{constructor(e){super(),pe(this,e,Wr,Yr,a,{})}}function Vr(e,t,n){const s=e.slice();return s[9]=t[n],s}function Kr(e,t,n){const s=e.slice();return s[9]=t[n],s}function Zr(e){let n,s,r,o,i,a,l,u,p,d,h,f,m,k,P,E,M,F,T,I,D,N,q,R,_,O,j,z,L,U,H,G,Y,X,W,J,V,K,Z,Q,ee,te,ne,se,re,oe,ie,ae,le,ce,ue,pe=e[0].date+"",de=1==e[0].finished?"Finished":"On-Going",he=e[0].time+"",fe=(1==e[0].finished?e[0].gameHistory.length-1:e[0].numMoves)+"",me=(e[0].priPlayer==e[2].name?e[0].priMoves:e[0].secMoves)+"",ge=e[0].minutesPlayed+"",ye=("red"==e[0].currPlayer&&e[0].priEmail==e[2].email?"You":e[0].secPlayer.toUpperCase())+"",ve=1==e[0].finished?"Review Game":"Resume Game",be=e[1],we=[];for(let t=0;t<be.length;t+=1)we[t]=so(Kr(e,be,t));let ke=e[1],Ce=[];for(let t=0;t<ke.length;t+=1)Ce[t]=oo(Vr(e,ke,t));let xe=e[3]<=800&&function(e){let n,s;return{c(){n=w("button"),n.innerHTML='<i class="fa fa-arrow-left"></i> Back',A(n,"class","btn btn-dark svelte-nf23x8"),S(n,"width","25%")},m(e,t,r){y(e,n,t),r&&s(),s=$(n,"click",co)},p:t,d(e){e&&v(n),s()}}}();function Pe(e,t){return null!=e[0].secPlayer?ao:io}let $e=Pe(e),Ae=$e(e);return{c(){n=w("div"),s=w("h5"),s.textContent="On-Going Games",r=x();for(let e=0;e<we.length;e+=1)we[e].c();o=x(),i=w("h5"),i.textContent="Finished Games",a=x();for(let e=0;e<Ce.length;e+=1)Ce[e].c();l=x(),u=w("div"),xe&&xe.c(),p=x(),Ae.c(),d=x(),h=w("h4"),f=C("Date Started: "),m=w("span"),k=C(pe),P=x(),E=w("h4"),M=C("Status: "),F=w("span"),T=C(de),I=x(),D=w("h4"),N=C("Turn Time: "),q=w("span"),R=C(he),_=C(" seconds"),O=x(),j=w("h4"),z=C("Total Moves: "),L=w("span"),U=C(fe),H=x(),G=w("h4"),Y=C("My Moves: "),X=w("span"),W=C(me),J=x(),V=w("h4"),K=C("Minutes Played: "),Z=w("span"),Q=C(ge),ee=C(" minutes"),te=x(),ne=w("h4"),se=C("Current Player: "),re=w("span"),oe=C(ye),ie=x(),ae=w("button"),le=C(ve),A(s,"class","svelte-nf23x8"),A(i,"class","svelte-nf23x8"),A(n,"id","gameList"),A(n,"class","container-fluid svelte-nf23x8"),A(m,"class","svelte-nf23x8"),A(h,"class","detail svelte-nf23x8"),A(F,"class","svelte-nf23x8"),A(E,"class","detail svelte-nf23x8"),A(q,"class","svelte-nf23x8"),A(D,"class","detail svelte-nf23x8"),A(L,"class","svelte-nf23x8"),A(j,"class","detail svelte-nf23x8"),A(X,"class","svelte-nf23x8"),A(G,"class","detail svelte-nf23x8"),A(Z,"class","svelte-nf23x8"),A(V,"class","detail svelte-nf23x8"),A(re,"class","svelte-nf23x8"),A(ne,"class","detail svelte-nf23x8"),A(ae,"id","getGame"),A(ae,"class",ce=c(1==e[0].finished?"btn btn-primary":"btn- btn-warning")+" svelte-nf23x8"),A(u,"id","gameDetails"),A(u,"class","svelte-nf23x8")},m(t,c,v){y(t,n,c),g(n,s),g(n,r);for(let e=0;e<we.length;e+=1)we[e].m(n,null);g(n,o),g(n,i),g(n,a);for(let e=0;e<Ce.length;e+=1)Ce[e].m(n,null);y(t,l,c),y(t,u,c),xe&&xe.m(u,null),g(u,p),Ae.m(u,null),g(u,d),g(u,h),g(h,f),g(h,m),g(m,k),g(u,P),g(u,E),g(E,M),g(E,F),g(F,T),g(u,I),g(u,D),g(D,N),g(D,q),g(q,R),g(q,_),g(u,O),g(u,j),g(j,z),g(j,L),g(L,U),g(u,H),g(u,G),g(G,Y),g(G,X),g(X,W),g(u,J),g(u,V),g(V,K),g(V,Z),g(Z,Q),g(Z,ee),g(u,te),g(u,ne),g(ne,se),g(ne,re),g(re,oe),g(u,ie),g(u,ae),g(ae,le),v&&ue(),ue=$(ae,"click",e[5])},p(e,t){if(23&t){let s;for(be=e[1],s=0;s<be.length;s+=1){const r=Kr(e,be,s);we[s]?we[s].p(r,t):(we[s]=so(r),we[s].c(),we[s].m(n,o))}for(;s<we.length;s+=1)we[s].d(1);we.length=be.length}if(22&t){let s;for(ke=e[1],s=0;s<ke.length;s+=1){const r=Vr(e,ke,s);Ce[s]?Ce[s].p(r,t):(Ce[s]=oo(r),Ce[s].c(),Ce[s].m(n,null))}for(;s<Ce.length;s+=1)Ce[s].d(1);Ce.length=ke.length}e[3]<=800&&xe.p(e,t),$e===($e=Pe(e))&&Ae?Ae.p(e,t):(Ae.d(1),Ae=$e(e),Ae&&(Ae.c(),Ae.m(u,d))),1&t&&pe!==(pe=e[0].date+"")&&B(k,pe),1&t&&de!==(de=1==e[0].finished?"Finished":"On-Going")&&B(T,de),1&t&&he!==(he=e[0].time+"")&&B(R,he),1&t&&fe!==(fe=(1==e[0].finished?e[0].gameHistory.length-1:e[0].numMoves)+"")&&B(U,fe),5&t&&me!==(me=(e[0].priPlayer==e[2].name?e[0].priMoves:e[0].secMoves)+"")&&B(W,me),1&t&&ge!==(ge=e[0].minutesPlayed+"")&&B(Q,ge),5&t&&ye!==(ye=("red"==e[0].currPlayer&&e[0].priEmail==e[2].email?"You":e[0].secPlayer.toUpperCase())+"")&&B(oe,ye),1&t&&ve!==(ve=1==e[0].finished?"Review Game":"Resume Game")&&B(le,ve),1&t&&ce!==(ce=c(1==e[0].finished?"btn btn-primary":"btn- btn-warning")+" svelte-nf23x8")&&A(ae,"class",ce)},d(e){e&&v(n),b(we,e),b(Ce,e),e&&v(l),e&&v(u),xe&&xe.d(),Ae.d(),ue()}}}function Qr(e){let n,s,r;return{c(){n=w("h5"),n.textContent="There are no games to view",s=x(),r=w("h5"),r.textContent="Create or Join a Game",A(n,"class","empty svelte-nf23x8"),S(n,"margin-top","25%"),A(r,"class","empty svelte-nf23x8")},m(e,t){y(e,n,t),y(e,s,t),y(e,r,t)},p:t,d(e){e&&v(n),e&&v(s),e&&v(r)}}}function eo(e){let t;function n(e,t){return null!=e[9].secPlayer?no:to}let s=n(e),r=s(e);return{c(){r.c(),t=P()},m(e,n){r.m(e,n),y(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&v(t)}}}function to(e){let t,n,s,r,o,i=(e[9].priPlayer==e[2].name?"Me":e[9].priPlayer.toUpperCase())+"",a=e[9].secPlayer==e[2].name?"Me":"Unknown Player";function l(...t){return e[7](e[9],...t)}return{c(){t=w("button"),n=C(i),s=C(" vs. "),r=C(a),A(t,"class","btn btn-dark svelte-nf23x8")},m(e,i,a){y(e,t,i),g(t,n),g(t,s),g(t,r),a&&o(),o=$(t,"click",l)},p(t,s){e=t,6&s&&i!==(i=(e[9].priPlayer==e[2].name?"Me":e[9].priPlayer.toUpperCase())+"")&&B(n,i),6&s&&a!==(a=e[9].secPlayer==e[2].name?"Me":"Unknown Player")&&B(r,a)},d(e){e&&v(t),o()}}}function no(e){let t,n,s,r,o,i=(e[9].priPlayer==e[2].name?"Me":e[9].priPlayer.toUpperCase())+"",a=(e[9].secPlayer==e[2].name?"Me":e[0].secPlayer.toUpperCase())+"";function l(...t){return e[6](e[9],...t)}return{c(){t=w("button"),n=C(i),s=C(" vs. "),r=C(a),A(t,"class","btn btn-dark svelte-nf23x8")},m(e,i,a){y(e,t,i),g(t,n),g(t,s),g(t,r),a&&o(),o=$(t,"click",l)},p(t,s){e=t,6&s&&i!==(i=(e[9].priPlayer==e[2].name?"Me":e[9].priPlayer.toUpperCase())+"")&&B(n,i),7&s&&a!==(a=(e[9].secPlayer==e[2].name?"Me":e[0].secPlayer.toUpperCase())+"")&&B(r,a)},d(e){e&&v(t),o()}}}function so(e){let t,n=!e[9].finished&&eo(e);return{c(){n&&n.c(),t=P()},m(e,s){n&&n.m(e,s),y(e,t,s)},p(e,s){e[9].finished?n&&(n.d(1),n=null):n?n.p(e,s):(n=eo(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&v(t)}}}function ro(e){let t,n,s,r,o,i=(e[9].priPlayer==e[2].name?"Me":e[9].priPlayer.toUpperCase())+"",a=(e[9].secPlayer==e[2].name?"Me":e[9].secPlayer.toUpperCase())+"";function l(...t){return e[8](e[9],...t)}return{c(){t=w("button"),n=C(i),s=C(" vs. "),r=C(a),A(t,"class","btn btn-dark svelte-nf23x8")},m(e,i,a){y(e,t,i),g(t,n),g(t,s),g(t,r),a&&o(),o=$(t,"click",l)},p(t,s){e=t,6&s&&i!==(i=(e[9].priPlayer==e[2].name?"Me":e[9].priPlayer.toUpperCase())+"")&&B(n,i),6&s&&a!==(a=(e[9].secPlayer==e[2].name?"Me":e[9].secPlayer.toUpperCase())+"")&&B(r,a)},d(e){e&&v(t),o()}}}function oo(e){let t,n=e[9].finished&&ro(e);return{c(){n&&n.c(),t=P()},m(e,s){n&&n.m(e,s),y(e,t,s)},p(e,s){e[9].finished?n?n.p(e,s):(n=ro(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function io(e){let t,n,s,r,o=(e[0].priPlayer==e[2].name?"Me":e[0].priPlayer.toUpperCase())+"",i=e[0].secPlayer==e[2].name?"Me":"Unknown Player";return{c(){t=w("h3"),n=C(o),s=C(" vs. "),r=C(i),A(t,"id","versus"),A(t,"class","svelte-nf23x8")},m(e,o){y(e,t,o),g(t,n),g(t,s),g(t,r)},p(e,t){5&t&&o!==(o=(e[0].priPlayer==e[2].name?"Me":e[0].priPlayer.toUpperCase())+"")&&B(n,o),5&t&&i!==(i=e[0].secPlayer==e[2].name?"Me":"Unknown Player")&&B(r,i)},d(e){e&&v(t)}}}function ao(e){let t,n,s,r,o=(e[0].priPlayer==e[2].name?"Me":e[0].priPlayer.toUpperCase())+"",i=(e[0].secPlayer==e[2].name?"Me":e[0].secPlayer.toUpperCase())+"";return{c(){t=w("h3"),n=C(o),s=C(" vs. "),r=C(i),A(t,"id","versus"),A(t,"class","svelte-nf23x8")},m(e,o){y(e,t,o),g(t,n),g(t,s),g(t,r)},p(e,t){5&t&&o!==(o=(e[0].priPlayer==e[2].name?"Me":e[0].priPlayer.toUpperCase())+"")&&B(n,o),5&t&&i!==(i=(e[0].secPlayer==e[2].name?"Me":e[0].secPlayer.toUpperCase())+"")&&B(r,i)},d(e){e&&v(t)}}}function lo(e){let n;function s(e,t){return 0==e[1].length?Qr:Zr}let r=s(e),o=r(e);return{c(){o.c(),n=P()},m(e,t){o.m(e,t),y(e,n,t)},p(e,[t]){r===(r=s(e))&&o?o.p(e,t):(o.d(1),o=r(e),o&&(o.c(),o.m(n.parentNode,n)))},i:t,o:t,d(e){o.d(e),e&&v(n)}}}function co(){let e=document.getElementById("gameList"),t=document.getElementById("gameDetails");e.setAttribute("style","left:0"),t.setAttribute("style","left:100%")}function uo(e,t,n){let s,r;l(e,ts,e=>n(1,s=e)),l(e,_n,e=>n(2,r=e));let o=s.length>0?s[0]:null,i=screen.width;function a(e){if(screen.width<=800){let e=document.getElementById("gameList"),t=document.getElementById("gameDetails");e.setAttribute("style","left:-100%"),t.setAttribute("style","left:0")}n(0,o=e)}return[o,s,r,i,a,function(){0==o.gameHistory.length?o.priEmail==r.email?ss.set(new hs(null,!1)):ss.set(new hs(null,!0)):ss.set(new hs(o.gameHistory[o.gameHistory.length-1],null)),n(0,o.side=o.priEmail==r.email?"red":"black",o);let e=o.priEmail==r.email;os.set(new Dr(o,rs,e)),ls.set(!1),ps.set(!1),zn.set(5)},e=>a(e),e=>a(e),e=>a(e)]}class po extends de{constructor(e){super(),pe(this,e,uo,lo,a,{})}}function ho(e){let n;const s=new Bs({});return{c(){ae(s.$$.fragment)},m(e,t){le(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){ce(s,e)}}}function fo(e){let n,s;return{c(){n=w("button"),n.textContent="Update Profile",A(n,"class","btn btn-success svelte-1dwxk1t")},m(t,r,o){y(t,n,r),o&&s(),s=$(n,"click",e[10])},p:t,i:t,o:t,d(e){e&&v(n),s()}}}function mo(e){let n;const s=new Bs({});return{c(){ae(s.$$.fragment)},m(e,t){le(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){ce(s,e)}}}function go(e){let n,s;return{c(){n=w("button"),n.textContent="Reset",A(n,"class","btn btn-success svelte-1dwxk1t")},m(t,r,o){y(t,n,r),o&&s(),s=$(n,"click",e[11])},p:t,i:t,o:t,d(e){e&&v(n),s()}}}function yo(e){let t,n,s,r,i,a,l,c,u,p,d,h,f,m,b,k,P,E,F,T,I,D,N,q,R,_,O,j,z,L,U,H,G,Y,X,W,J,V,K,Z,Q,ee=e[7].email+"";const oe=[fo,ho],ie=[];function ae(e,t){return e[6]?1:0}_=ae(e),O=ie[_]=oe[_](e);const le=[go,mo],ce=[];function ue(e,t){return e[6]?1:0}X=ue(e),W=ce[X]=le[X](e);let pe=e[8]<=800&&function(e){let t,n,s,r,o,i,a=e[7].name+"";return{c(){t=w("button"),n=C("Logout ("),s=C(a),r=C(") "),o=w("i"),A(o,"class","fa fa-sign-out"),A(t,"class","btn btn-danger svelte-1dwxk1t")},m(a,l,c){y(a,t,l),g(t,n),g(t,s),g(t,r),g(t,o),c&&i(),i=$(t,"click",e[12])},p(e,t){128&t&&a!==(a=e[7].name+"")&&B(s,a)},d(e){e&&v(t),i()}}}(e);return{c(){t=w("h3"),t.textContent="Settings",n=x(),s=w("div"),r=w("h5"),r.textContent="Profile",i=x(),a=w("h6"),l=C("Account ID: "),c=w("span"),u=C(ee),p=x(),d=w("img"),f=x(),m=w("div"),b=w("input"),k=x(),P=w("label"),E=C(e[5]),F=x(),T=w("p"),T.textContent="Image size should be less than 1MB",I=x(),D=w("input"),N=x(),q=w("input"),R=x(),O.c(),j=x(),z=w("h5"),z.textContent="Reset Password",L=x(),U=w("input"),H=x(),G=w("input"),Y=x(),W.c(),J=x(),pe&&pe.c(),V=x(),K=w("div"),A(t,"class","svelte-1dwxk1t"),S(r,"text-align","center"),S(a,"text-align","center"),A(d,"alt","propic"),d.src!==(h=e[1])&&A(d,"src",h),A(d,"class","svelte-1dwxk1t"),A(b,"type","file"),A(b,"accept","image/jpeg"),A(b,"class","custom-file-input svelte-1dwxk1t"),A(b,"id","customFile"),A(P,"class","custom-file-label"),A(P,"for","customFile"),A(m,"id","propic"),A(m,"class","custom-file input-group svelte-1dwxk1t"),S(T,"text-align","center"),A(D,"type","text"),A(D,"id","inlineFormInputGroup"),A(D,"placeholder","Display Name"),A(D,"class","svelte-1dwxk1t"),A(q,"id","authPass"),A(q,"type","password"),A(q,"placeholder","Account Password"),A(q,"class","svelte-1dwxk1t"),S(z,"margin-top","60px"),S(z,"text-align","center"),A(U,"type","password"),A(U,"placeholder","Account Password"),A(U,"class","svelte-1dwxk1t"),A(G,"type","password"),A(G,"placeholder","New Password"),A(G,"class","svelte-1dwxk1t"),A(s,"id","leftSet"),A(s,"class","container-fluid svelte-1dwxk1t"),A(K,"id","rightSet"),A(K,"class","container-fluid svelte-1dwxk1t")},m(h,v,w){y(h,t,v),y(h,n,v),y(h,s,v),g(s,r),g(s,i),g(s,a),g(a,l),g(a,c),g(c,u),g(s,p),g(s,d),g(s,f),g(s,m),g(m,b),g(m,k),g(m,P),g(P,E),g(s,F),g(s,T),g(s,I),g(s,D),M(D,e[0]),g(s,N),g(s,q),M(q,e[2]),g(s,R),ie[_].m(s,null),g(s,j),g(s,z),g(s,L),g(s,U),M(U,e[3]),g(s,H),g(s,G),M(G,e[4]),g(s,Y),ce[X].m(s,null),g(s,J),pe&&pe.m(s,null),y(h,V,v),y(h,K,v),Z=!0,w&&o(Q),Q=[$(b,"change",e[9]),$(D,"input",e[15]),$(q,"input",e[16]),$(U,"input",e[17]),$(G,"input",e[18])]},p(e,[t]){(!Z||128&t)&&ee!==(ee=e[7].email+"")&&B(u,ee),(!Z||2&t&&d.src!==(h=e[1]))&&A(d,"src",h),(!Z||32&t)&&B(E,e[5]),1&t&&D.value!==e[0]&&M(D,e[0]),4&t&&q.value!==e[2]&&M(q,e[2]);let n=_;_=ae(e),_===n?ie[_].p(e,t):(te(),re(ie[n],1,1,()=>{ie[n]=null}),ne(),O=ie[_],O||(O=ie[_]=oe[_](e),O.c()),se(O,1),O.m(s,j)),8&t&&U.value!==e[3]&&M(U,e[3]),16&t&&G.value!==e[4]&&M(G,e[4]);let r=X;X=ue(e),X===r?ce[X].p(e,t):(te(),re(ce[r],1,1,()=>{ce[r]=null}),ne(),W=ce[X],W||(W=ce[X]=le[X](e),W.c()),se(W,1),W.m(s,J)),e[8]<=800&&pe.p(e,t)},i(e){Z||(se(O),se(W),Z=!0)},o(e){re(O),re(W),Z=!1},d(e){e&&v(t),e&&v(n),e&&v(s),ie[_].d(),ce[X].d(),pe&&pe.d(),e&&v(V),e&&v(K),o(Q)}}}function vo(t,n,s){let r,o;l(t,_n,e=>s(7,r=e)),l(t,Rn,e=>s(14,o=e));let i,a,c,u,p=r.name,d=r.picture,h="Choose Profile Photo",f=screen.width,m=!1;return[p,d,i,a,c,h,m,r,f,function(){if(e.target.files[0].size<=1e6&&"image/jpeg"==e.target.files[0].type){var t=new FileReader;t.onload=function(e){s(1,d=e.target.result),_n.update(t=>(t.picture=e.target.result,t))},t.readAsDataURL(e.target.files[0]),s(5,h=e.target.files[0].name)}},function(){null!=p&&null!=i&&(s(6,m=!0),u={func:"updateProfile",name:p,picture:d.includes("unsplash")?null:d,password:i,email:r.email},ms(u).then(e=>{null!=e.msg?(console.log(e.msg),s(2,i=""),_n.update(e=>(e.name=p,e)),s(6,m=!1)):(s(6,m=!1),console.log(e.err))}).catch(e=>{s(6,m=!1),console.log(e)}))},function(){null!=a&&null!=c&&a!=c&&(s(6,m=!0),u={func:"resetPassword",email:r.email,password:a,newPass:c},ms(u).then(e=>{null!=e.msg?(console.log(e.msg),s(6,m=!1),s(3,a=""),s(4,c="")):(s(6,m=!1),console.log(e.err))}).catch(e=>{s(6,m=!1),console.log(e)}))},function(){o.emit("go-offline",r.email),_n.set(null),zn.set(0)},u,o,function(){p=this.value,s(0,p)},function(){i=this.value,s(2,i)},function(){a=this.value,s(3,a)},function(){c=this.value,s(4,c)}]}class bo extends de{constructor(e){super(),pe(this,e,vo,yo,a,{})}}function wo(e,t,n){const s=e.slice();return s[3]=t[n],s[5]=n,s}function ko(e){let t,n,s,r,o,i,a,l,c,u,p,d,h,f,m,b,k,P,$,E,M=e[5]+1+"",S=e[3].name+"",F=e[3].wins+"",T=e[3].draws+"",I=e[3].losses+"",D=e[3].totalPoints+"",N=e[2]>800&&function(e){let t,n,s=e[3].gamesPlayed+"";return{c(){t=w("th"),n=C(s),A(t,"class","svelte-hrke3z")},m(e,s){y(e,t,s),g(t,n)},p(e,t){2&t&&s!==(s=e[3].gamesPlayed+"")&&B(n,s)},d(e){e&&v(t)}}}(e);return{c(){t=w("tr"),n=w("th"),s=C(M),r=x(),o=w("th"),i=C(S),a=x(),N&&N.c(),l=x(),c=w("th"),u=C(F),p=x(),d=w("th"),h=C(T),f=x(),m=w("th"),b=C(I),k=x(),P=w("th"),$=C(D),E=x(),A(n,"class","svelte-hrke3z"),A(o,"class","svelte-hrke3z"),A(c,"class","svelte-hrke3z"),A(d,"class","svelte-hrke3z"),A(m,"class","svelte-hrke3z"),A(P,"class","svelte-hrke3z")},m(e,v){y(e,t,v),g(t,n),g(n,s),g(t,r),g(t,o),g(o,i),g(t,a),N&&N.m(t,null),g(t,l),g(t,c),g(c,u),g(t,p),g(t,d),g(d,h),g(t,f),g(t,m),g(m,b),g(t,k),g(t,P),g(P,$),g(t,E)},p(e,t){2&t&&S!==(S=e[3].name+"")&&B(i,S),e[2]>800&&N.p(e,t),2&t&&F!==(F=e[3].wins+"")&&B(u,F),2&t&&T!==(T=e[3].draws+"")&&B(h,T),2&t&&I!==(I=e[3].losses+"")&&B(b,I),2&t&&D!==(D=e[3].totalPoints+"")&&B($,D)},d(e){e&&v(t),N&&N.d()}}}function Co(e){let t,n,s,r,o,i,a,l,c,u,p,d,h,f,m,b,k,P,$,E,M=e[5]+1+"",S=e[3].name+"",F=e[3].wins+"",T=e[3].draws+"",I=e[3].losses+"",D=e[3].totalPoints+"",N=e[2]>800&&function(e){let t,n,s=e[3].gamesPlayed+"";return{c(){t=w("td"),n=C(s),A(t,"class","svelte-hrke3z")},m(e,s){y(e,t,s),g(t,n)},p(e,t){2&t&&s!==(s=e[3].gamesPlayed+"")&&B(n,s)},d(e){e&&v(t)}}}(e);return{c(){t=w("tr"),n=w("td"),s=C(M),r=x(),o=w("td"),i=C(S),a=x(),N&&N.c(),l=x(),c=w("td"),u=C(F),p=x(),d=w("td"),h=C(T),f=x(),m=w("td"),b=C(I),k=x(),P=w("td"),$=C(D),E=x(),A(n,"class","svelte-hrke3z"),A(o,"class","svelte-hrke3z"),A(c,"class","svelte-hrke3z"),A(d,"class","svelte-hrke3z"),A(m,"class","svelte-hrke3z"),A(P,"class","svelte-hrke3z")},m(e,v){y(e,t,v),g(t,n),g(n,s),g(t,r),g(t,o),g(o,i),g(t,a),N&&N.m(t,null),g(t,l),g(t,c),g(c,u),g(t,p),g(t,d),g(d,h),g(t,f),g(t,m),g(m,b),g(t,k),g(t,P),g(P,$),g(t,E)},p(e,t){2&t&&S!==(S=e[3].name+"")&&B(i,S),e[2]>800&&N.p(e,t),2&t&&F!==(F=e[3].wins+"")&&B(u,F),2&t&&T!==(T=e[3].draws+"")&&B(h,T),2&t&&I!==(I=e[3].losses+"")&&B(b,I),2&t&&D!==(D=e[3].totalPoints+"")&&B($,D)},d(e){e&&v(t),N&&N.d()}}}function xo(e){let t;function n(e,t){return e[3].name!=e[0].name?Co:ko}let s=n(e),r=s(e);return{c(){r.c(),t=P()},m(e,n){r.m(e,n),y(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&v(t)}}}function Po(e){let n,s,r,o,i,a,l,c,u,p,d,h,f,m,k,P,E,M,F,T,I,D,N,q,R,_,O,j,z,L,U,H,G,Y,X,W,J,V,K,Z,Q,ee,te,ne,se,re,oe,ie,ae,le,ce,ue,pe,de,he,fe,me,ge,ye,ve,be,we,ke,Ce,xe,Pe,$e,Ae,Ee,Be,Me,Se,Fe,Te,Ie,De,Ne,qe,Re,_e,Oe,je,ze,Le,Ue,He,Ge,Ye,Xe,We,Je,Ve,Ke,Ze,Qe,et,tt,nt,st,rt,ot,it,at,lt,ct,ut,pt,dt,ht,ft,mt,gt,yt,vt,bt,wt,kt,Ct,xt,Pt,$t=e[0].position+"",At=e[0].totalPoints+"",Et=e[0].wins+"",Bt=e[0].draws+"",Mt=e[0].losses+"",St=e[0].gamesPlayed+"",Ft=e[0].gamesPlayed+"",Tt=e[0].avgMovesPerGame+"",It=e[0].mostMoves+"",Dt=e[0].leastMoves+"",Nt=e[0].totalTimePlayed+"",qt=e[0].avgTimePlayPerGame+"",Rt=e[0].leastTimePlayed+"",_t=e[0].mostTimePlayed+"",Ot=e[0].position+"",jt=e[2]<=800&&function(e){let n,s;return{c(){n=w("button"),n.innerHTML='<i class="fa fa-arrow-left"></i> League',A(n,"class","btn btn-primary"),S(n,"float","left"),S(n,"margin-top","12.5px")},m(e,t,r){y(e,n,t),r&&s(),s=$(n,"click",Ao)},p:t,d(e){e&&v(n),s()}}}(),zt=e[2]<=800&&function(e){let n,s;return{c(){n=w("button"),n.innerHTML='My Stats <i class="fa fa-arrow-right"></i>',A(n,"class","btn btn-primary"),S(n,"float","right"),S(n,"margin-top","12.5px")},m(e,t,r){y(e,n,t),r&&s(),s=$(n,"click",$o)},p:t,d(e){e&&v(n),s()}}}(),Lt=e[2]>800&&function(e){let t;return{c(){t=w("th"),t.textContent="Games",A(t,"class","svelte-hrke3z")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}(),Ut=e[1],Ht=[];for(let t=0;t<Ut.length;t+=1)Ht[t]=xo(wo(e,Ut,t));return{c(){n=w("div"),jt&&jt.c(),s=x(),r=w("h5"),r.textContent="My Stats",o=x(),i=w("hr"),a=x(),l=w("table"),c=w("tr"),u=w("th"),u.textContent="League Position",p=x(),d=w("td"),h=C($t),f=x(),m=w("tr"),k=w("th"),k.textContent="Total Points",P=x(),E=w("td"),M=C(At),F=x(),T=w("tr"),I=w("th"),I.textContent="Wins",D=x(),N=w("td"),q=C(Et),R=x(),_=w("tr"),O=w("th"),O.textContent="Draws",j=x(),z=w("td"),L=C(Bt),U=x(),H=w("tr"),G=w("th"),G.textContent="Losses",Y=x(),X=w("td"),W=C(Mt),J=x(),V=w("tr"),K=w("th"),K.textContent="Games Played",Z=x(),Q=w("td"),ee=C(St),te=x(),ne=w("tr"),se=w("th"),se.textContent="Total Moves",re=x(),oe=w("td"),ie=C(Ft),ae=x(),le=w("tr"),ce=w("th"),ce.textContent="Avg. Moves Per Game",ue=x(),pe=w("td"),de=C(Tt),he=x(),fe=w("tr"),me=w("th"),me.textContent="Most Moves",ge=x(),ye=w("td"),ve=C(It),be=x(),we=w("tr"),ke=w("th"),ke.textContent="Least Moves",Ce=x(),xe=w("td"),Pe=C(Dt),$e=x(),Ae=w("tr"),Ee=w("th"),Ee.textContent="Total Time Played",Be=x(),Me=w("td"),Se=C(Nt),Fe=C(" minutes"),Te=x(),Ie=w("tr"),De=w("th"),De.textContent="Avg. Time Played Per Game",Ne=x(),qe=w("td"),Re=C(qt),_e=C(" minutes"),Oe=x(),je=w("tr"),ze=w("th"),ze.textContent="Least Time Played",Le=x(),Ue=w("td"),He=C(Rt),Ge=C(" minutes"),Ye=x(),Xe=w("tr"),We=w("th"),We.textContent="Most Time Played",Je=x(),Ve=w("td"),Ke=C(_t),Ze=C(" minutes"),Qe=x(),et=w("div"),zt&&zt.c(),tt=x(),nt=w("h5"),nt.textContent="Checkas League - Top 50",st=x(),rt=w("hr"),ot=x(),it=w("h6"),at=C("League Position - #"),lt=C(Ot),ct=x(),ut=w("table"),pt=w("tr"),dt=w("th"),dt.textContent="#",ht=x(),ft=w("th"),ft.textContent="Name",mt=x(),Lt&&Lt.c(),gt=x(),yt=w("th"),yt.textContent="Wins",vt=x(),bt=w("th"),bt.textContent="Draws",wt=x(),kt=w("th"),kt.textContent="Losses",Ct=x(),xt=w("th"),xt.textContent="Points",Pt=x();for(let e=0;e<Ht.length;e+=1)Ht[e].c();A(r,"id","titleStats"),A(r,"class","svelte-hrke3z"),S(u,"text-align","left"),A(u,"class","svelte-hrke3z"),A(d,"class","svelte-hrke3z"),S(k,"text-align","left"),A(k,"class","svelte-hrke3z"),A(E,"class","svelte-hrke3z"),S(I,"text-align","left"),A(I,"class","svelte-hrke3z"),A(N,"class","svelte-hrke3z"),S(O,"text-align","left"),A(O,"class","svelte-hrke3z"),A(z,"class","svelte-hrke3z"),S(G,"text-align","left"),A(G,"class","svelte-hrke3z"),A(X,"class","svelte-hrke3z"),S(K,"text-align","left"),A(K,"class","svelte-hrke3z"),A(Q,"class","svelte-hrke3z"),S(se,"text-align","left"),A(se,"class","svelte-hrke3z"),A(oe,"class","svelte-hrke3z"),S(ce,"text-align","left"),A(ce,"class","svelte-hrke3z"),A(pe,"class","svelte-hrke3z"),S(me,"text-align","left"),A(me,"class","svelte-hrke3z"),A(ye,"class","svelte-hrke3z"),S(ke,"text-align","left"),A(ke,"class","svelte-hrke3z"),A(xe,"class","svelte-hrke3z"),S(Ee,"text-align","left"),A(Ee,"class","svelte-hrke3z"),A(Me,"class","svelte-hrke3z"),S(De,"text-align","left"),A(De,"class","svelte-hrke3z"),A(qe,"class","svelte-hrke3z"),S(ze,"text-align","left"),A(ze,"class","svelte-hrke3z"),A(Ue,"class","svelte-hrke3z"),S(We,"text-align","left"),A(We,"class","svelte-hrke3z"),A(Ve,"class","svelte-hrke3z"),A(l,"id","statsTable"),A(l,"class","svelte-hrke3z"),A(n,"id","stats"),A(n,"class","container-fluid svelte-hrke3z"),A(nt,"id","titleLeague"),A(nt,"class","svelte-hrke3z"),S(it,"text-align","center"),S(it,"margin-top","10px"),S(it,"margin-bottom","10px"),A(dt,"class","svelte-hrke3z"),A(ft,"class","svelte-hrke3z"),A(yt,"class","svelte-hrke3z"),A(bt,"class","svelte-hrke3z"),A(kt,"class","svelte-hrke3z"),A(xt,"class","svelte-hrke3z"),A(ut,"class","svelte-hrke3z"),A(et,"id","league"),A(et,"class","container-fluid svelte-hrke3z")},m(e,t){y(e,n,t),jt&&jt.m(n,null),g(n,s),g(n,r),g(n,o),g(n,i),g(n,a),g(n,l),g(l,c),g(c,u),g(c,p),g(c,d),g(d,h),g(l,f),g(l,m),g(m,k),g(m,P),g(m,E),g(E,M),g(l,F),g(l,T),g(T,I),g(T,D),g(T,N),g(N,q),g(l,R),g(l,_),g(_,O),g(_,j),g(_,z),g(z,L),g(l,U),g(l,H),g(H,G),g(H,Y),g(H,X),g(X,W),g(l,J),g(l,V),g(V,K),g(V,Z),g(V,Q),g(Q,ee),g(l,te),g(l,ne),g(ne,se),g(ne,re),g(ne,oe),g(oe,ie),g(l,ae),g(l,le),g(le,ce),g(le,ue),g(le,pe),g(pe,de),g(l,he),g(l,fe),g(fe,me),g(fe,ge),g(fe,ye),g(ye,ve),g(l,be),g(l,we),g(we,ke),g(we,Ce),g(we,xe),g(xe,Pe),g(l,$e),g(l,Ae),g(Ae,Ee),g(Ae,Be),g(Ae,Me),g(Me,Se),g(Me,Fe),g(l,Te),g(l,Ie),g(Ie,De),g(Ie,Ne),g(Ie,qe),g(qe,Re),g(qe,_e),g(l,Oe),g(l,je),g(je,ze),g(je,Le),g(je,Ue),g(Ue,He),g(Ue,Ge),g(l,Ye),g(l,Xe),g(Xe,We),g(Xe,Je),g(Xe,Ve),g(Ve,Ke),g(Ve,Ze),y(e,Qe,t),y(e,et,t),zt&&zt.m(et,null),g(et,tt),g(et,nt),g(et,st),g(et,rt),g(et,ot),g(et,it),g(it,at),g(it,lt),g(et,ct),g(et,ut),g(ut,pt),g(pt,dt),g(pt,ht),g(pt,ft),g(pt,mt),Lt&&Lt.m(pt,null),g(pt,gt),g(pt,yt),g(pt,vt),g(pt,bt),g(pt,wt),g(pt,kt),g(pt,Ct),g(pt,xt),g(ut,Pt);for(let e=0;e<Ht.length;e+=1)Ht[e].m(ut,null)},p(e,[t]){if(e[2]<=800&&jt.p(e,t),1&t&&$t!==($t=e[0].position+"")&&B(h,$t),1&t&&At!==(At=e[0].totalPoints+"")&&B(M,At),1&t&&Et!==(Et=e[0].wins+"")&&B(q,Et),1&t&&Bt!==(Bt=e[0].draws+"")&&B(L,Bt),1&t&&Mt!==(Mt=e[0].losses+"")&&B(W,Mt),1&t&&St!==(St=e[0].gamesPlayed+"")&&B(ee,St),1&t&&Ft!==(Ft=e[0].gamesPlayed+"")&&B(ie,Ft),1&t&&Tt!==(Tt=e[0].avgMovesPerGame+"")&&B(de,Tt),1&t&&It!==(It=e[0].mostMoves+"")&&B(ve,It),1&t&&Dt!==(Dt=e[0].leastMoves+"")&&B(Pe,Dt),1&t&&Nt!==(Nt=e[0].totalTimePlayed+"")&&B(Se,Nt),1&t&&qt!==(qt=e[0].avgTimePlayPerGame+"")&&B(Re,qt),1&t&&Rt!==(Rt=e[0].leastTimePlayed+"")&&B(He,Rt),1&t&&_t!==(_t=e[0].mostTimePlayed+"")&&B(Ke,_t),e[2]<=800&&zt.p(e,t),1&t&&Ot!==(Ot=e[0].position+"")&&B(lt,Ot),7&t){let n;for(Ut=e[1],n=0;n<Ut.length;n+=1){const s=wo(e,Ut,n);Ht[n]?Ht[n].p(s,t):(Ht[n]=xo(s),Ht[n].c(),Ht[n].m(ut,null))}for(;n<Ht.length;n+=1)Ht[n].d(1);Ht.length=Ut.length}},i:t,o:t,d(e){e&&v(n),jt&&jt.d(),e&&v(Qe),e&&v(et),zt&&zt.d(),Lt&&Lt.d(),b(Ht,e)}}}function $o(){let e=document.getElementById("stats");document.getElementById("league").setAttribute("style","left:-100%"),e.setAttribute("style","left:0")}function Ao(){let e=document.getElementById("stats");document.getElementById("league").setAttribute("style","left:0"),e.setAttribute("style","left:100%")}function Eo(e,t,n){let s,r;l(e,_n,e=>n(0,s=e)),l(e,ns,e=>n(1,r=e));let o=screen.width;return[s,r,o]}class Bo extends de{constructor(e){super(),pe(this,e,Eo,Po,a,{})}}function Mo(e){let n,s,r,o,i,a,l,c,u;const p=new ir({});let d=e[9]<800&&function(e){let n,s;return{c(){n=w("button"),n.textContent="Close",A(n,"class","btn btn-danger svelte-1p2uqq2")},m(t,r,o){y(t,n,r),o&&s(),s=$(n,"click",e[10])},p:t,d(e){e&&v(n),s()}}}(e),h=e[8]&&Fo(),f=e[0]&&To(),m=e[1]&&Io();return{c(){n=w("div"),ae(p.$$.fragment),s=x(),r=w("div"),d&&d.c(),o=x(),h&&h.c(),i=x(),f&&f.c(),a=x(),m&&m.c(),A(r,"id","bigPopUp"),A(r,"class","container-fluid svelte-1p2uqq2")},m(t,l,v){y(t,n,l),le(p,n,null),y(t,s,l),y(t,r,l),d&&d.m(r,null),g(r,o),h&&h.m(r,null),g(r,i),f&&f.m(r,null),g(r,a),m&&m.m(r,null),c=!0,v&&u(),u=$(n,"click",e[10])},p(e,t){e[9]<800&&d.p(e,t),e[8]?h?256&t&&se(h,1):(h=Fo(),h.c(),se(h,1),h.m(r,i)):h&&(te(),re(h,1,1,()=>{h=null}),ne()),e[0]?f?1&t&&se(f,1):(f=To(),f.c(),se(f,1),f.m(r,a)):f&&(te(),re(f,1,1,()=>{f=null}),ne()),e[1]?m?2&t&&se(m,1):(m=Io(),m.c(),se(m,1),m.m(r,null)):m&&(te(),re(m,1,1,()=>{m=null}),ne())},i(e){c||(se(p.$$.fragment,e),se(h),se(f),se(m),G(()=>{l||(l=ie(r,ys,{y:-200,duration:1e3},!0)),l.run(1)}),c=!0)},o(e){re(p.$$.fragment,e),re(h),re(f),re(m),l||(l=ie(r,ys,{y:-200,duration:1e3},!1)),l.run(0),c=!1},d(e){e&&v(n),ce(p),e&&v(s),e&&v(r),d&&d.d(),h&&h.d(),f&&f.d(),m&&m.d(),e&&l&&l.end(),u()}}}function So(e){let n,s,r,o,i,a,l,c;const u=new ir({});let p=e[9]<800&&function(e){let n,s;return{c(){n=w("button"),n.textContent="Close",A(n,"class","btn btn-danger svelte-1p2uqq2")},m(t,r,o){y(t,n,r),o&&s(),s=$(n,"click",e[10])},p:t,d(e){e&&v(n),s()}}}(e),d=e[5]&&Do(),h=e[6]&&No();return{c(){n=w("div"),ae(u.$$.fragment),s=x(),r=w("div"),p&&p.c(),o=x(),d&&d.c(),i=x(),h&&h.c(),A(r,"id","smallPopUp"),A(r,"class","container-fluid svelte-1p2uqq2")},m(t,a,f){y(t,n,a),le(u,n,null),y(t,s,a),y(t,r,a),p&&p.m(r,null),g(r,o),d&&d.m(r,null),g(r,i),h&&h.m(r,null),l=!0,f&&c(),c=$(n,"click",e[10])},p(e,t){e[9]<800&&p.p(e,t),e[5]?d?32&t&&se(d,1):(d=Do(),d.c(),se(d,1),d.m(r,i)):d&&(te(),re(d,1,1,()=>{d=null}),ne()),e[6]?h?64&t&&se(h,1):(h=No(),h.c(),se(h,1),h.m(r,null)):h&&(te(),re(h,1,1,()=>{h=null}),ne())},i(e){l||(se(u.$$.fragment,e),se(d),se(h),G(()=>{a||(a=ie(r,ys,{y:-200,duration:1e3},!0)),a.run(1)}),l=!0)},o(e){re(u.$$.fragment,e),re(d),re(h),a||(a=ie(r,ys,{y:-200,duration:1e3},!1)),a.run(0),l=!1},d(e){e&&v(n),ce(u),e&&v(s),e&&v(r),p&&p.d(),d&&d.d(),h&&h.d(),e&&a&&a.end(),c()}}}function Fo(e){let t;const n=new po({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function To(e){let t;const n=new bo({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Io(e){let t;const n=new Bo({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function Do(e){let t;const n=new Lr({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function No(e){let t;const n=new Jr({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function qo(e){let t,n,s,r,i,a,l,c,u,p,d,h,f,m,b,k,E,M,S,F,T,I,D,N,q,R,_,O,j,z,L,U,H,G,Y,X,W=e[2].name+"";const J=[So,Mo],V=[];function K(e,t){return e[4]?0:e[7]?1:-1}return~(U=K(e))&&(H=V[U]=J[U](e)),{c(){t=w("div"),n=w("div"),n.innerHTML='<button id="home" class="btn btn-lg btn-dark svelte-1p2uqq2"><img alt="logo" src="./images/LOGO-192.png" class="svelte-1p2uqq2"> Checkas.io <i class="fa fa-angle-double-right svelte-1p2uqq2"></i></button>',s=x(),r=w("div"),i=w("button"),a=C("Create Game "),l=w("i"),u=x(),p=w("div"),d=w("button"),h=C("Join Game "),f=w("i"),b=x(),k=w("div"),E=w("button"),E.innerHTML='View Games <i class="fa fa-eye svelte-1p2uqq2"></i>',M=x(),S=w("div"),F=w("button"),F.innerHTML='Leadership Board <i class="fa fa-list-ol svelte-1p2uqq2"></i>',T=x(),I=w("div"),D=w("button"),D.innerHTML='Settings <i class="fa fa-cog svelte-1p2uqq2"></i>',N=x(),q=w("div"),R=w("button"),_=C("Logout ("),O=C(W),j=C(") "),z=w("i"),L=x(),H&&H.c(),G=P(),A(n,"class","menu-item svelte-1p2uqq2"),A(l,"class","fa fa-plus-square svelte-1p2uqq2"),A(i,"class","btn btn-lg btn-dark svelte-1p2uqq2"),i.disabled=c=null!=e[3],A(r,"class","menu-item create svelte-1p2uqq2"),A(f,"class","fa fa-user-plus svelte-1p2uqq2"),A(d,"class","btn btn-lg btn-dark svelte-1p2uqq2"),d.disabled=m=null!=e[3],A(p,"class","menu-item join svelte-1p2uqq2"),A(E,"class","btn btn-lg btn-dark svelte-1p2uqq2"),A(k,"class","menu-item view svelte-1p2uqq2"),A(F,"class","btn btn-lg btn-dark svelte-1p2uqq2"),A(S,"class","menu-item league svelte-1p2uqq2"),A(D,"class","btn btn-lg btn-dark svelte-1p2uqq2"),A(I,"class","menu-item settings svelte-1p2uqq2"),A(z,"class","fa fa-sign-out svelte-1p2uqq2"),A(R,"class","btn btn-lg btn-dark svelte-1p2uqq2"),A(q,"class","menu-item logout svelte-1p2uqq2"),A(t,"class","sidebar svelte-1p2uqq2")},m(c,m,v){y(c,t,m),g(t,n),g(t,s),g(t,r),g(r,i),g(i,a),g(i,l),g(t,u),g(t,p),g(p,d),g(d,h),g(d,f),g(t,b),g(t,k),g(k,E),g(t,M),g(t,S),g(S,F),g(t,T),g(t,I),g(I,D),g(t,N),g(t,q),g(q,R),g(R,_),g(R,O),g(R,j),g(R,z),y(c,L,m),~U&&V[U].m(c,m),y(c,G,m),Y=!0,v&&o(X),X=[$(i,"click",e[11]),$(d,"click",e[12]),$(E,"click",e[13]),$(F,"click",e[14]),$(D,"click",e[15]),$(R,"click",e[16])]},p(e,[t]){(!Y||8&t&&c!==(c=null!=e[3]))&&(i.disabled=c),(!Y||8&t&&m!==(m=null!=e[3]))&&(d.disabled=m),(!Y||4&t)&&W!==(W=e[2].name+"")&&B(O,W);let n=U;U=K(e),U===n?~U&&V[U].p(e,t):(H&&(te(),re(V[n],1,1,()=>{V[n]=null}),ne()),~U?(H=V[U],H||(H=V[U]=J[U](e),H.c()),se(H,1),H.m(G.parentNode,G)):H=null)},i(e){Y||(se(H),Y=!0)},o(e){re(H),Y=!1},d(e){e&&v(t),e&&v(L),~U&&V[U].d(e),e&&v(G),o(X)}}}function Ro(e,t,n){let s,r,o,i,a,c,u,p,d;l(e,ns,e=>n(20,s=e)),l(e,Rn,e=>n(21,r=e)),l(e,_n,e=>n(2,o=e)),l(e,os,e=>n(3,i=e)),l(e,as,e=>n(4,a=e)),l(e,cs,e=>n(5,c=e)),l(e,us,e=>n(6,u=e)),l(e,ls,e=>n(7,p=e)),l(e,ps,e=>n(8,d=e));let h=screen.width,f=!1,m=!1,g=!1;function y(){ps.set(!1),n(0,f=!1),as.set(!1),ls.set(!1),cs.set(!1),us.set(!1),n(1,m=!1),g=!1}return[f,m,o,i,a,c,u,p,d,h,y,function(){y(),setTimeout(()=>{as.set(!0)},1),setTimeout(()=>{cs.set(!0)},2)},function(){y(),setTimeout(()=>{as.set(!0)},1),setTimeout(()=>{us.set(!0)},2)},function(){s.length>0&&(y(),setTimeout(()=>{ls.set(!0)},1),setTimeout(()=>{ps.set(!0)},1))},function(){s.length>0&&(y(),setTimeout(()=>{ls.set(!0)},1),setTimeout(()=>{n(1,m=!0)},1))},function(){y(),setTimeout(()=>{ls.set(!0)},1),setTimeout(()=>{n(0,f=!0)},1)},function(){r.emit("go-offline",o.email),_n.set(null)}]}class _o extends de{constructor(e){super(),pe(this,e,Ro,qo,a,{})}}class Oo{constructor(e){this.isAuth=!0,this.name=e.name,this.email=e.email,this.picture=null==e.picture?"https://api.adorable.io/avatars/285/"+e.email+".png":e.picture,this.wins=e.wins,this.draws=e.draws,this.losses=e.losses,this.gamesPlayed=e.gamesPlayed,this.leastMoves=e.leastMoves,this.mostMoves=e.mostMoves,this.totalMoves=e.totalMoves,this.avgMovesPerGame=e.avgMovesPerGame,this.leastTimePlayed=e.leastTimePlayed,this.mostTimePlayed=e.mostTimePlayed,this.totalTimePlayed=e.totalTimePlayed,this.avgTimePlayPerGame=e.avgTimePlayPerGame,this.totalPoints=e.totalPoints,this.position=null}}function jo(e){let t,n;return{c(){t=w("h6"),n=C(e[9]),S(t,"text-align","center"),S(t,"color","red"),S(t,"margin-top","20px"),A(t,"class","svelte-1h77a0u")},m(e,s){y(e,t,s),g(t,n)},p(e,t){512&t[0]&&B(n,e[9])},d(e){e&&v(t)}}}function zo(e){let t,n,s,r,i,a,l,c,u,p;const d=[Go,Ho],h=[];function f(e,t){return e[7]?1:0}return r=f(e),i=h[r]=d[r](e),{c(){t=w("div"),n=w("input"),s=x(),i.c(),a=x(),l=w("br"),c=w("a"),c.textContent="Back To Login",A(n,"id","Email"),A(n,"type","text"),A(n,"placeholder","Email"),n.required=!0,A(n,"autocomplete","off"),A(n,"class","svelte-1h77a0u"),A(l,"class","svelte-1h77a0u"),A(c,"id","forgotPassword"),A(c,"class","svelte-1h77a0u"),A(t,"id","signup-div"),A(t,"class","svelte-1h77a0u")},m(i,d,f){y(i,t,d),g(t,n),M(n,e[4]),g(t,s),h[r].m(t,null),g(t,a),g(t,l),g(t,c),u=!0,f&&o(p),p=[$(n,"input",e[30]),$(c,"click",e[31])]},p(e,s){16&s[0]&&n.value!==e[4]&&M(n,e[4]);let o=r;r=f(e),r===o?h[r].p(e,s):(te(),re(h[o],1,1,()=>{h[o]=null}),ne(),i=h[r],i||(i=h[r]=d[r](e),i.c()),se(i,1),i.m(t,a))},i(e){u||(se(i),u=!0)},o(e){re(i),u=!1},d(e){e&&v(t),h[r].d(),o(p)}}}function Lo(e){let t,n,s,r,i,a,l,c,u,p,d,h,f,m,b,k,P,E,B,F,T;const I=[Xo,Yo],D=[];function N(e,t){return e[7]?1:0}return p=N(e),d=D[p]=I[p](e),{c(){t=w("div"),n=w("input"),s=x(),r=w("input"),i=x(),a=w("input"),l=x(),c=w("input"),u=x(),d.c(),h=x(),f=w("hr"),m=x(),b=w("div"),k=w("h5"),P=C("Already have an Account? "),E=w("br"),B=w("button"),B.textContent="Sign In",A(n,"id","Name"),A(n,"type","text"),A(n,"placeholder","Display Name"),n.required=!0,A(n,"autocomplete","off"),A(n,"class","svelte-1h77a0u"),A(r,"id","Email"),A(r,"type","text"),A(r,"placeholder","Email"),r.required=!0,A(r,"autocomplete","off"),A(r,"class","svelte-1h77a0u"),A(a,"id","Password"),A(a,"type","password"),A(a,"placeholder","Password"),a.required=!0,A(a,"class","svelte-1h77a0u"),A(c,"id","confirmPassword"),A(c,"type","password"),A(c,"placeholder","Confirm Password"),c.required=!0,A(c,"class","svelte-1h77a0u"),A(t,"id","signup-div"),A(t,"class","svelte-1h77a0u"),S(f,"border","1px solid green"),A(f,"class","svelte-1h77a0u"),A(E,"class","svelte-1h77a0u"),A(B,"class","login-signup svelte-1h77a0u"),A(k,"class","svelte-1h77a0u"),A(b,"class","no-cred-sign-signup svelte-1h77a0u")},m(d,v,w){y(d,t,v),g(t,n),M(n,e[1]),g(t,s),g(t,r),M(r,e[0]),g(t,i),g(t,a),M(a,e[2]),g(t,l),g(t,c),M(c,e[3]),g(t,u),D[p].m(t,null),y(d,h,v),y(d,f,v),y(d,m,v),y(d,b,v),g(b,k),g(k,P),g(k,E),g(k,B),F=!0,w&&o(T),T=[$(n,"input",e[24]),$(r,"input",e[25]),$(a,"input",e[26]),$(c,"input",e[27]),$(c,"keyup",e[11]),$(c,"keydown",e[28]),$(B,"click",e[29])]},p(e,s){2&s[0]&&n.value!==e[1]&&M(n,e[1]),1&s[0]&&r.value!==e[0]&&M(r,e[0]),4&s[0]&&a.value!==e[2]&&M(a,e[2]),8&s[0]&&c.value!==e[3]&&M(c,e[3]);let o=p;p=N(e),p===o?D[p].p(e,s):(te(),re(D[o],1,1,()=>{D[o]=null}),ne(),d=D[p],d||(d=D[p]=I[p](e),d.c()),se(d,1),d.m(t,null))},i(e){F||(se(d),F=!0)},o(e){re(d),F=!1},d(e){e&&v(t),D[p].d(),e&&v(h),e&&v(f),e&&v(m),e&&v(b),o(T)}}}function Uo(e){let t,n,s,r,i,a,l,c,u,p,d,h,f,m,b,k,P,E,B,F,T,I;const D=[Jo,Wo],N=[];function q(e,t){return e[7]?1:0}return d=q(e),h=N[d]=D[d](e),{c(){t=w("div"),n=w("input"),s=w("br"),r=x(),i=w("input"),a=w("br"),l=x(),c=w("br"),u=w("a"),u.textContent="Forgot Password?",p=x(),h.c(),f=x(),m=w("hr"),b=x(),k=w("div"),P=w("h5"),E=C("Don't have an Account? "),B=w("br"),F=w("button"),F.textContent="Sign Up",A(n,"id","logEmail"),A(n,"type","text"),A(n,"placeholder","Email"),n.required=!0,A(n,"autocomplete","off"),A(n,"class","svelte-1h77a0u"),A(s,"class","svelte-1h77a0u"),A(i,"id","logPassword"),A(i,"type","password"),A(i,"placeholder","Password"),i.required=!0,A(i,"autocomplete","off"),A(i,"class","svelte-1h77a0u"),A(a,"class","svelte-1h77a0u"),A(c,"class","svelte-1h77a0u"),A(u,"id","forgotPassword"),A(u,"class","svelte-1h77a0u"),A(t,"id","login-div"),A(t,"class","svelte-1h77a0u"),S(m,"border","1px solid green"),A(m,"class","svelte-1h77a0u"),A(B,"class","svelte-1h77a0u"),A(F,"class","login-signup svelte-1h77a0u"),A(F,"id","signupBtn"),A(P,"class","svelte-1h77a0u"),A(k,"class","no-cred-sign-signup svelte-1h77a0u"),A(k,"id","no-Acct-signup")},m(h,v,w){y(h,t,v),g(t,n),M(n,e[4]),g(t,s),g(t,r),g(t,i),M(i,e[5]),g(t,a),g(t,l),g(t,c),g(t,u),g(t,p),N[d].m(t,null),y(h,f,v),y(h,m,v),y(h,b,v),y(h,k,v),g(k,P),g(P,E),g(P,B),g(P,F),T=!0,w&&o(I),I=[$(n,"input",e[19]),$(i,"input",e[20]),$(i,"keydown",e[21]),$(u,"click",e[22]),$(F,"click",e[23])]},p(e,s){16&s[0]&&n.value!==e[4]&&M(n,e[4]),32&s[0]&&i.value!==e[5]&&M(i,e[5]);let r=d;d=q(e),d===r?N[d].p(e,s):(te(),re(N[r],1,1,()=>{N[r]=null}),ne(),h=N[d],h||(h=N[d]=D[d](e),h.c()),se(h,1),h.m(t,null))},i(e){T||(se(h),T=!0)},o(e){re(h),T=!1},d(e){e&&v(t),N[d].d(),e&&v(f),e&&v(m),e&&v(b),e&&v(k),o(I)}}}function Ho(e){let n;const s=new Bs({});return{c(){ae(s.$$.fragment)},m(e,t){le(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){ce(s,e)}}}function Go(e){let n,s,r;return{c(){n=w("br"),s=w("button"),s.textContent="Reset Password",A(n,"class","svelte-1h77a0u"),A(s,"class","btn btn-success svelte-1h77a0u"),S(s,"margin-bottom","30px"),A(s,"type","submit")},m(t,o,i){y(t,n,o),y(t,s,o),i&&r(),r=$(s,"click",e[13])},p:t,i:t,o:t,d(e){e&&v(n),e&&v(s),r()}}}function Yo(e){let n;const s=new Bs({});return{c(){ae(s.$$.fragment)},m(e,t){le(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){ce(s,e)}}}function Xo(e){let n,s,r;return{c(){n=w("br"),s=w("button"),s.textContent="Sign Up",A(n,"class","svelte-1h77a0u"),A(s,"class","btn btn-success svelte-1h77a0u"),A(s,"type","submit")},m(t,o,i){y(t,n,o),y(t,s,o),i&&r(),r=$(s,"click",e[10])},p:t,i:t,o:t,d(e){e&&v(n),e&&v(s),r()}}}function Wo(e){let n;const s=new Bs({});return{c(){ae(s.$$.fragment)},m(e,t){le(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){ce(s,e)}}}function Jo(e){let n,s,r;return{c(){n=w("h5"),s=w("button"),s.textContent="Log In",A(s,"class","btn btn-success svelte-1h77a0u"),A(s,"type","submit"),A(n,"class","svelte-1h77a0u")},m(t,o,i){y(t,n,o),g(n,s),i&&r(),r=$(s,"click",e[12])},p:t,i:t,o:t,d(e){e&&v(n),r()}}}function Vo(e){let t,n,s,r,o,i,a,l,c,u,p=e[8]&&jo(e);const d=[Uo,Lo,zo],h=[];function f(e,t){return 1==e[6]?0:0==e[6]?1:null==e[6]?2:-1}return~(l=f(e))&&(c=h[l]=d[l](e)),{c(){t=w("div"),n=w("img"),r=x(),o=w("h3"),o.textContent="Checkas.io",i=x(),p&&p.c(),a=x(),c&&c.c(),n.src!==(s="images/LOGO-192.png")&&A(n,"src","images/LOGO-192.png"),A(n,"alt","Logo"),S(n,"height","80px"),A(n,"class","svelte-1h77a0u"),A(o,"class","svelte-1h77a0u"),A(t,"id","entry"),A(t,"class","container svelte-1h77a0u")},m(e,s){y(e,t,s),g(t,n),g(t,r),g(t,o),g(t,i),p&&p.m(t,null),g(t,a),~l&&h[l].m(t,null),u=!0},p(e,n){e[8]?p?p.p(e,n):(p=jo(e),p.c(),p.m(t,a)):p&&(p.d(1),p=null);let s=l;l=f(e),l===s?~l&&h[l].p(e,n):(c&&(te(),re(h[s],1,1,()=>{h[s]=null}),ne()),~l?(c=h[l],c||(c=h[l]=d[l](e),c.c()),se(c,1),c.m(t,null)):c=null)},i(e){u||(se(c),u=!0)},o(e){re(c),u=!1},d(e){e&&v(t),p&&p.d(),~l&&h[l].d()}}}function Ko(e,t,n){let s,r,o,i,a,c,u,p;l(e,Rn,e=>n(15,s=e));let d,h=!0,f=!1,m=!1,g=screen.width;function y(){null!=r&&null!=o&&null!=i&&null!=a&&i==a?(n(7,f=!0),p={func:"signUp",email:r,name:o,password:i},console.log("Sending sign up request"),ms(p).then(e=>{console.log(e),"SUCCESS"==e.msg?(p.func="createUser",v(),n(7,f=!1),ds.set(!1)):"EXIST"==e.msg?(n(9,d="Display Name Already Exist"),n(8,m=!0),n(7,f=!1)):(n(9,d=e.err),n(8,m=!0),n(7,f=!1))}).catch(e=>{n(9,d=e),n(8,m=!0),n(7,f=!1)})):(n(9,d="All Fields Are Required"),n(8,m=!0),n(7,f=!1))}function v(){ms(p).then(e=>{console.log(e),"SUCCESS"==e.msg?(n(9,d="Please Check Your Email For Verification"),n(8,m=!0)):(n(9,d=e.err),n(8,m=!0),n(7,f=!1))}).catch(e=>{n(9,d=e),n(8,m=!0),n(7,f=!1)})}function b(){null!=c&&null!=u?(n(7,f=!0),p={func:"signIn",email:c,password:u},ms(p).then(e=>{null!=e.msg&&e.msg?(p.func="retrieveUser",w()):null==e.msg||e.msg?(console.log(e.err),n(9,d=e.err),n(8,m=!0),n(7,f=!1)):(n(9,d="Please Verify Your Email"),n(8,m=!0),n(7,f=!1))}).catch(e=>{n(9,d=e),console.log(e),n(8,m=!0),n(7,f=!1)})):(n(9,d="All Fields Are Required"),n(8,m=!0),n(7,f=!1))}function w(){ms(p).then(e=>{if(null!=e.msg){let t=e.msg;t.email=c,_n.set(new Oo(t)),"default"!=Notification.permission&&"denied"!=Notification.permission||Notification.requestPermission(),ks(),xs(),Cs(),n(0,r=""),n(1,o=""),n(2,i=""),n(3,a=""),n(4,c=""),n(5,u=""),s.emit("go-online",c),n(7,f=!1),ds.set(!1),document.getElementById("index").setAttribute("style","top:0;"),document.getElementById("enter").setAttribute("style","top:-100%;")}else n(9,d=e.err),console.log(e.err),n(8,m=!0),n(7,f=!1)}).catch(e=>{console.log(e),n(9,d=e),n(8,m=!0),n(7,f=!1)})}return[r,o,i,a,c,u,h,f,m,d,y,function(){null!=i&&a.length>=i.length&&a!=i?(n(9,d="Passwords Do Not Match!"),n(8,m=!0)):n(8,m=!1)},b,function(){null!=c||""!=c?(p={func:"forgotPassword",email:c},ms(p).then(e=>{"SUCCESS"==e.msg?(n(9,d="Please Check Your Email For Password Reset"),n(8,m=!0),n(7,f=!1)):(n(9,d=e.err),n(8,m=!0),n(7,f=!1))}).catch(e=>{n(9,d=e),n(8,m=!0),n(7,f=!1)})):(n(9,d="Please Fill All Required Fields!"),n(8,m=!0),n(7,f=!1))},p,s,g,v,w,function(){c=this.value,n(4,c)},function(){u=this.value,n(5,u)},e=>13===e.which&&b(),()=>n(6,h=null),()=>n(6,h=!h),function(){o=this.value,n(1,o)},function(){r=this.value,n(0,r)},function(){i=this.value,n(2,i)},function(){a=this.value,n(3,a)},e=>13===e.which&&y(),()=>n(6,h=!h),function(){c=this.value,n(4,c)},()=>n(6,h=!0)]}class Zo extends de{constructor(e){super(),pe(this,e,Ko,Vo,a,{},[-1,-1])}}function Qo(e){let n,s,r,i,a,l,c;const u=new Fs({});return{c(){n=w("div"),ae(u.$$.fragment),s=x(),r=w("button"),r.textContent="Hide",i=x(),a=w("button"),a.textContent="End Call",A(n,"id","player"),A(n,"class","svelte-15mfdx6"),A(r,"class","btn btn-info btn-sm accept svelte-15mfdx6"),A(a,"class","btn btn-danger btn-sm decline svelte-15mfdx6")},m(t,p,d){y(t,n,p),le(u,n,null),y(t,s,p),y(t,r,p),y(t,i,p),y(t,a,p),l=!0,d&&o(c),c=[$(r,"click",e[6]),$(a,"click",e[7])]},p:t,i(e){l||(se(u.$$.fragment,e),l=!0)},o(e){re(u.$$.fragment,e),l=!1},d(e){e&&v(n),ce(u),e&&v(s),e&&v(r),e&&v(i),e&&v(a),o(c)}}}function ei(e){let t,n,s,r,i,a,l,c,u=e[2].toUpperCase()+"";return{c(){t=w("h3"),n=C(u),s=C(" is Calling"),r=x(),i=w("button"),i.textContent="Accept",a=x(),l=w("button"),l.textContent="Decline",A(t,"class","blink svelte-15mfdx6"),A(i,"class","btn btn-success btn-sm accept svelte-15mfdx6"),A(l,"class","btn btn-danger btn-sm decline svelte-15mfdx6")},m(u,p,d){y(u,t,p),g(t,n),g(t,s),y(u,r,p),y(u,i,p),y(u,a,p),y(u,l,p),d&&o(c),c=[$(i,"click",e[5]),$(l,"click",e[7])]},p(e,t){4&t&&u!==(u=e[2].toUpperCase()+"")&&B(n,u)},d(e){e&&v(t),e&&v(r),e&&v(i),e&&v(a),e&&v(l),o(c)}}}function ti(e){let t,n,s,r,o,i,a=e[4].toUpperCase()+"";return{c(){t=w("h3"),n=C("Calling "),s=C(a),r=x(),o=w("button"),o.textContent="Cancel",A(t,"class","blink svelte-15mfdx6"),A(o,"id","cancel"),A(o,"class","btn btn-danger btn-sm svelte-15mfdx6")},m(a,l,c){y(a,t,l),g(t,n),g(t,s),y(a,r,l),y(a,o,l),c&&i(),i=$(o,"click",e[7])},p(e,t){16&t&&a!==(a=e[4].toUpperCase()+"")&&B(s,a)},d(e){e&&v(t),e&&v(r),e&&v(o),i()}}}function ni(e){let t,n,s,r,o=e[0]&&Qo(e),i=e[1]&&ei(e),a=e[3]&&ti(e);return{c(){t=w("div"),o&&o.c(),n=x(),i&&i.c(),s=x(),a&&a.c(),A(t,"id","stream"),A(t,"class","svelte-15mfdx6")},m(e,l){y(e,t,l),o&&o.m(t,null),g(t,n),i&&i.m(t,null),g(t,s),a&&a.m(t,null),r=!0},p(e,[r]){e[0]?o?(o.p(e,r),1&r&&se(o,1)):(o=Qo(e),o.c(),se(o,1),o.m(t,n)):o&&(te(),re(o,1,1,()=>{o=null}),ne()),e[1]?i?i.p(e,r):(i=ei(e),i.c(),i.m(t,s)):i&&(i.d(1),i=null),e[3]?a?a.p(e,r):(a=ti(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(e){r||(se(o),r=!0)},o(e){re(o),r=!1},d(e){e&&v(t),o&&o.d(),i&&i.d(),a&&a.d()}}}function si(e,t,n){let s,r,o,i,a,c,u,p,d,h,f;return l(e,Rn,e=>n(8,s=e)),l(e,Kn,e=>n(9,r=e)),l(e,Zn,e=>n(10,o=e)),l(e,Hn,e=>n(0,i=e)),l(e,Ln,e=>n(11,a=e)),l(e,Un,e=>n(12,c=e)),l(e,Vn,e=>n(13,u=e)),l(e,Qn,e=>n(1,p=e)),l(e,es,e=>n(2,d=e)),l(e,Wn,e=>n(3,h=e)),l(e,Jn,e=>n(4,f=e)),[i,p,d,h,f,function(){Qn.set(!1),Xn.set(!1),navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(e=>{let t=new SimplePeer({initiator:!1,trickle:!1,stream:e});Ln.update(e=>t),t.on("signal",e=>{console.log("Receiving Signal"),s.emit("accept-call",{signal:e,callerID:r})}),t.on("stream",e=>{console.log("Sending Stream"),Un.set(!0),setTimeout((function(){document.getElementById("audio").srcObject=e,Hn.set(!0)}),500)}),t.signal(o)}).catch(e=>{console.log(e)})},function(){Un.set(!0),Xn.set(!1)},function(){if(i){document.getElementById("audio").src="",Hn.set(!1),a.destroy(),c&&Un.set(!1)}s.emit("end-call",{calleeID:u,callerID:r}),Xn.set(!1)}]}class ri extends de{constructor(e){super(),pe(this,e,si,ni,a,{})}}function oi(e){let t;const n=new ri({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function ii(e){let t,n,s,r,o;const i=[ui,ci,li],a=[];function l(e,t){return 0==e[4]?0:e[4]>0&&e[4]<5?1:5==e[4]?2:-1}~(t=l(e))&&(n=a[t]=i[t](e));let c=e[5]&&null!=e[3]&&e[3].isAuth&&yi();return{c(){n&&n.c(),s=x(),c&&c.c(),r=P()},m(e,n){~t&&a[t].m(e,n),y(e,s,n),c&&c.m(e,n),y(e,r,n),o=!0},p(e,o){let u=t;t=l(e),t===u?~t&&a[t].p(e,o):(n&&(te(),re(a[u],1,1,()=>{a[u]=null}),ne()),~t?(n=a[t],n||(n=a[t]=i[t](e),n.c()),se(n,1),n.m(s.parentNode,s)):n=null),e[5]&&null!=e[3]&&e[3].isAuth?c?40&o&&se(c,1):(c=yi(),c.c(),se(c,1),c.m(r.parentNode,r)):c&&(te(),re(c,1,1,()=>{c=null}),ne())},i(e){o||(se(n),se(c),o=!0)},o(e){re(n),re(c),o=!1},d(e){~t&&a[t].d(e),e&&v(s),c&&c.d(e),e&&v(r)}}}function ai(e){let t,n,s,r,o,i=(e[0]||e[2])&&vi(e);const a=[Ci,ki],l=[];function c(e,t){return null!=e[3]&&e[3].isAuth?0:1}n=c(e),s=l[n]=a[n](e);const u=new xr({});return{c(){i&&i.c(),t=x(),s.c(),r=x(),ae(u.$$.fragment)},m(e,s){i&&i.m(e,s),y(e,t,s),l[n].m(e,s),y(e,r,s),le(u,e,s),o=!0},p(e,o){e[0]||e[2]?i?(i.p(e,o),5&o&&se(i,1)):(i=vi(e),i.c(),se(i,1),i.m(t.parentNode,t)):i&&(te(),re(i,1,1,()=>{i=null}),ne());let u=n;n=c(e),n===u?l[n].p(e,o):(te(),re(l[u],1,1,()=>{l[u]=null}),ne(),s=l[n],s||(s=l[n]=a[n](e),s.c()),se(s,1),s.m(r.parentNode,r))},i(e){o||(se(i),se(s),se(u.$$.fragment,e),o=!0)},o(e){re(i),re(s),re(u.$$.fragment,e),o=!1},d(e){i&&i.d(e),e&&v(t),l[n].d(e),e&&v(r),ce(u,e)}}}function li(e){let n;const s=new xr({});return{c(){ae(s.$$.fragment)},m(e,t){le(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){ce(s,e)}}}function ci(e){let t,n,s,r;const o=[fi,hi,di,pi],i=[];function a(e,t){return 1==e[4]?0:2==e[4]?1:3==e[4]?2:4==e[4]?3:-1}return~(n=a(e))&&(s=i[n]=o[n](e)),{c(){t=w("div"),s&&s.c(),A(t,"class","backcolor svelte-13morja")},m(e,s){y(e,t,s),~n&&i[n].m(t,null),r=!0},p(e,r){let l=n;n=a(e),n!==l&&(s&&(te(),re(i[l],1,1,()=>{i[l]=null}),ne()),~n?(s=i[n],s||(s=i[n]=o[n](e),s.c()),se(s,1),s.m(t,null)):s=null)},i(e){r||(se(s),r=!0)},o(e){re(s),r=!1},d(e){e&&v(t),~n&&i[n].d()}}}function ui(e){let s,r,a,l,c,u,d,h,f,b,k,C,P,E,B,M,S,F,T;const I=new Zo({}),q=new Jr({});function R(e,t){return null!=e[3]&&e[3].isAuth?gi:mi}let _=R(e),O=_(e);const j=new Lr({});return{c(){s=w("div"),ae(I.$$.fragment),r=x(),a=w("div"),ae(q.$$.fragment),l=x(),c=w("div"),u=w("img"),h=x(),f=w("h3"),f.textContent="Checkas.io",b=x(),k=w("button"),k.innerHTML='vs Computer <i class="fa fa-desktop"></i>',C=x(),P=w("hr"),E=x(),O.c(),M=x(),S=w("div"),ae(j.$$.fragment),A(s,"id","enter"),A(s,"class","svelte-13morja"),A(a,"id","join"),A(a,"class","backcolor svelte-13morja"),A(u,"alt","logo"),u.src!==(d="./images/LOGO-192.png")&&A(u,"src","./images/LOGO-192.png"),A(u,"class","svelte-13morja"),A(f,"id","home"),A(f,"class","svelte-13morja"),A(k,"class","btn btn-secondary btn-lg svelte-13morja"),A(P,"class","svelte-13morja"),A(c,"id","index"),A(c,"class","backcolor svelte-13morja"),A(S,"id","create"),A(S,"class","backcolor svelte-13morja")},m(t,n,o){y(t,s,n),le(I,s,null),y(t,r,n),y(t,a,n),le(q,a,null),y(t,l,n),y(t,c,n),g(c,u),g(c,h),g(c,f),g(c,b),g(c,k),g(c,C),g(c,P),g(c,E),O.m(c,null),y(t,M,n),y(t,S,n),le(j,S,null),F=!0,o&&T(),T=$(k,"click",e[13])},p(e,t){_===(_=R(e))&&O?O.p(e,t):(O.d(1),O=_(e),O&&(O.c(),O.m(c,null)))},i(e){F||(se(I.$$.fragment,e),se(q.$$.fragment,e),B&&B.end(1),se(j.$$.fragment,e),F=!0)},o(e){re(I.$$.fragment,e),re(q.$$.fragment,e),B=function(e,s,r){let a,l=s(e,r),c=!0;const u=ee;function d(){const{delay:s=0,duration:r=300,easing:i=n,tick:d=t,css:h}=l||oe;h&&(a=D(e,1,0,r,s,i,h));const f=p()+s,g=f+r;G(()=>Z(e,!1,"start")),m(t=>{if(c){if(t>=g)return d(0,1),Z(e,!1,"end"),--u.r||o(u.c),!1;if(t>=f){const e=i((t-f)/r);d(1-e,e)}}return c})}return u.r+=1,i(l)?K().then(()=>{l=l(),d()}):d(),{end(t){t&&l.tick&&l.tick(1,0),c&&(a&&N(e,a),c=!1)}}}(c,gs,{}),re(j.$$.fragment,e),F=!1},d(e){e&&v(s),ce(I),e&&v(r),e&&v(a),ce(q),e&&v(l),e&&v(c),O.d(),e&&B&&B.end(),e&&v(M),e&&v(S),ce(j),T()}}}function pi(e){let t;const n=new bo({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function di(e){let t;const n=new tr({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function hi(e){let t;const n=new Bo({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function fi(e){let t;const n=new po({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function mi(e){let n,s;return{c(){n=w("button"),n.innerHTML='Login/Register <i class="fa fa-sign-in"></i>',A(n,"class","btn btn-primary btn-lg svelte-13morja")},m(e,t,r){y(e,n,t),r&&s(),s=$(n,"click",Ai)},p:t,d(e){e&&v(n),s()}}}function gi(e){let n,s,r,i;return{c(){n=w("button"),n.innerHTML='Create Game <i class="fa fa-plus"></i>',s=x(),r=w("button"),r.innerHTML='Join Game <i class="fa fa-user-plus"></i>',A(n,"class","btn btn-secondary btn-lg svelte-13morja"),A(r,"class","btn btn-secondary btn-lg svelte-13morja")},m(e,t,a){y(e,n,t),y(e,s,t),y(e,r,t),a&&o(i),i=[$(n,"click",Pi),$(r,"click",$i)]},p:t,d(e){e&&v(n),e&&v(s),e&&v(r),o(i)}}}function yi(e){let t;const n=new Er({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function vi(e){let t,n,s,r,o,i,a;const l=new ir({}),c=[wi,bi],u=[];function p(e,t){return e[0]?0:1}return s=p(e),r=u[s]=c[s](e),{c(){t=w("div"),ae(l.$$.fragment),n=x(),r.c(),o=P()},m(r,c,p){y(r,t,c),le(l,t,null),y(r,n,c),u[s].m(r,c),y(r,o,c),i=!0,p&&a(),a=$(t,"click",e[8])},p(e,t){let n=s;s=p(e),s!==n&&(te(),re(u[n],1,1,()=>{u[n]=null}),ne(),r=u[s],r||(r=u[s]=c[s](e),r.c()),se(r,1),r.m(o.parentNode,o))},i(e){i||(se(l.$$.fragment,e),se(r),i=!0)},o(e){re(l.$$.fragment,e),re(r),i=!1},d(e){e&&v(t),ce(l),e&&v(n),u[s].d(e),e&&v(o),a()}}}function bi(e){let t;const n=new Zo({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function wi(e){let t;const n=new tr({});return{c(){ae(n.$$.fragment)},m(e,s){le(n,e,s),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){re(n.$$.fragment,e),t=!1},d(e){ce(n,e)}}}function ki(e){let n,s;return{c(){n=w("button"),n.innerHTML='Login/Register <i class="fa fa-sign-in"></i>',A(n,"class","btn btn-dark btn-lg navi svelte-13morja"),S(n,"right","5px"),S(n,"position","fixed")},m(t,r,o){y(t,n,r),o&&s(),s=$(n,"click",e[12])},p:t,i:t,o:t,d(e){e&&v(n),s()}}}function Ci(e){let n,s,r,o;const i=new _o({});return{c(){n=w("button"),n.innerHTML='Chat Board <i class="fa fa-comments"></i>',s=x(),ae(i.$$.fragment),A(n,"class","btn btn-dark btn-lg navi svelte-13morja"),S(n,"right","5px"),S(n,"position","fixed")},m(t,a,l){y(t,n,a),y(t,s,a),le(i,t,a),r=!0,l&&o(),o=$(n,"click",e[11])},p:t,i(e){r||(se(i.$$.fragment,e),r=!0)},o(e){re(i.$$.fragment,e),r=!1},d(e){e&&v(n),e&&v(s),ce(i,e),o()}}}function xi(e){let t,n,s,r,o,i;const a=new Ir({});let l=e[1]&&oi();const c=[ai,ii],u=[];return s=function(e,t){return e[6]>e[7]?0:1}(e),r=u[s]=c[s](e),{c(){ae(a.$$.fragment),t=x(),l&&l.c(),n=x(),r.c(),o=P()},m(e,r){le(a,e,r),y(e,t,r),l&&l.m(e,r),y(e,n,r),u[s].m(e,r),y(e,o,r),i=!0},p(e,[t]){e[1]?l?2&t&&se(l,1):(l=oi(),l.c(),se(l,1),l.m(n.parentNode,n)):l&&(te(),re(l,1,1,()=>{l=null}),ne()),r.p(e,t)},i(e){i||(se(a.$$.fragment,e),se(l),se(r),i=!0)},o(e){re(a.$$.fragment,e),re(l),re(r),i=!1},d(e){ce(a,e),e&&v(t),l&&l.d(e),e&&v(n),u[s].d(e),e&&v(o)}}}function Pi(){document.getElementById("index").setAttribute("style","left:-100%"),document.getElementById("create").setAttribute("style","left:0;")}function $i(){document.getElementById("index").setAttribute("style","left:100%"),document.getElementById("join").setAttribute("style","left:0;")}function Ai(){document.getElementById("index").setAttribute("style","top:100%;"),document.getElementById("enter").setAttribute("style","top:0;")}function Ei(e,t,n){let s,r,o,i,a,c,u;l(e,Hn,e=>n(9,s=e)),l(e,Gn,e=>n(10,r=e)),l(e,Xn,e=>n(1,o=e)),l(e,ds,e=>n(2,i=e)),l(e,_n,e=>n(3,a=e)),l(e,zn,e=>n(4,c=e)),l(e,On,e=>n(5,u=e));let p=screen.width,d=screen.height,h=!1;setInterval((function(){s&&(r.add(1,"second"),Yn.set(r.format("HH:mm:ss")))}),1e3);return[h,o,i,a,c,u,p,d,function(){s&&(Xn.set(!0),setTimeout((function(){window.$("#stream").draggable()}),1e3)),n(0,h=!1),ds.set(!1)},s,r,()=>n(0,h=!0),()=>ds.set(!0),()=>zn.set(5)]}class Bi extends de{constructor(e){super(),pe(this,e,Ei,xi,a,{})}}function Mi(e){let n;const s=new Bi({});return{c(){ae(s.$$.fragment)},m(e,t){le(s,e,t),n=!0},p:t,i(e){n||(se(s.$$.fragment,e),n=!0)},o(e){re(s.$$.fragment,e),n=!1},d(e){ce(s,e)}}}return new class extends de{constructor(e){super(),pe(this,e,null,Mi,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
